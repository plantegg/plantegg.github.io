<!DOCTYPE html>
<html lang="zh-Hans">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noodp" /><title>ssd/san/sas  磁盘 光纤性能比较 - plantegg</title><meta name="Description" content=""><meta property="og:url" content="http://localhost:1313/posts/ssd-san%E5%92%8Csas-%E7%A3%81%E7%9B%98%E6%80%A7%E8%83%BD%E6%AF%94%E8%BE%83/">
  <meta property="og:site_name" content="plantegg">
  <meta property="og:title" content="ssd/san/sas  磁盘 光纤性能比较">
  <meta property="og:description" content="ssd/san/sas 磁盘 光纤性能比较正好有机会用到一个san存储设备，跑了一把性能数据，记录一下
所使用的测试命令：
text">
  <meta property="og:locale" content="zh_Hans">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-01-25T17:30:03+00:00">
    <meta property="article:modified_time" content="2020-01-25T17:30:03+00:00">
    <meta property="article:tag" content="Linux">
    <meta property="article:tag" content="磁盘性能">
    <meta property="article:tag" content="San">
    <meta property="article:tag" content="光纤">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="ssd/san/sas  磁盘 光纤性能比较">
  <meta name="twitter:description" content="ssd/san/sas 磁盘 光纤性能比较正好有机会用到一个san存储设备，跑了一把性能数据，记录一下
所使用的测试命令：
text">
      <meta name="twitter:site" content="@plantegg">
<meta name="application-name" content="plantegg">
<meta name="apple-mobile-web-app-title" content="plantegg">

<meta name="theme-color" content="#f8f8f8"><meta name="twitter:creator" content="@plantegg" /><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

<link rel="canonical" href="http://localhost:1313/posts/ssd-san%E5%92%8Csas-%E7%A3%81%E7%9B%98%E6%80%A7%E8%83%BD%E6%AF%94%E8%BE%83/" /><link rel="prev" href="http://localhost:1313/posts/ssd%E5%AD%98%E5%82%A8%E5%8E%9F%E7%90%86/" /><link rel="next" href="http://localhost:1313/posts/tcp%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0%E8%A7%A3%E9%87%8A/" />
<link rel="stylesheet" href="/css/main.min.css"><link rel="stylesheet" href="/css/style.min.css"><script type="application/ld+json">{"@context": "https://schema.org","@type": "BlogPosting",
        "headline": "ssd/san/sas  磁盘 光纤性能比较",
        "inLanguage": "zh-Hans",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http://localhost:1313/posts/ssd-san%E5%92%8Csas-%E7%A3%81%E7%9B%98%E6%80%A7%E8%83%BD%E6%AF%94%E8%BE%83/"
        },"genre": "posts","keywords":["Linux","磁盘性能","san","光纤"],"wordcount":  10479 ,
        "url": "http://localhost:1313/posts/ssd-san%E5%92%8Csas-%E7%A3%81%E7%9B%98%E6%80%A7%E8%83%BD%E6%AF%94%E8%BE%83/","datePublished": "2020-01-25T17:30:03+00:00","dateModified": "2020-01-25T17:30:03+00:00","publisher": {
            "@type": "Organization",
            "name": "作者"},"author": {
                "@type": "Person",
                "name": "作者",
                "url": "/"
            },"description": ""
    }</script></head>


<body data-instant-intensity="viewport" ><script type="text/javascript">
        function setTheme(theme) {
          document.body.setAttribute('theme', theme); 
          document.documentElement.className = theme;
          document.documentElement.style.setProperty('color-scheme', theme === 'light' ? 'light' : 'dark');
          if (theme === 'light') {
            document.documentElement.classList.remove('tw-dark')
          } else {
            document.documentElement.classList.add('tw-dark')
          }
          window.theme = theme;   
          window.isDark = window.theme !== 'light' 
        }
        function saveTheme(theme) {window.localStorage && localStorage.setItem('theme', theme);}
        function getMeta(metaName) {const metas = document.getElementsByTagName('meta'); for (let i = 0; i < metas.length; i++) if (metas[i].getAttribute('name') === metaName) return metas[i]; return '';}
        if (window.localStorage && localStorage.getItem('theme')) {
            let theme = localStorage.getItem('theme');
            if (theme === 'light' || theme === 'dark') {
            setTheme(theme);
            } else {
                if ((window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                    setTheme('dark');
                } else {
                    setTheme('light');
                }
            }
         } else { 
            if ('' === 'light' || '' === 'dark') 
                setTheme(''), saveTheme(''); 
            else saveTheme('auto'), window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light');
        }
        let metaColors = {'light': '#f8f8f8','dark': '#161b22'}
        getMeta('theme-color').content = metaColors[document.body.getAttribute('theme')];
        window.switchThemeEventSet = new Set()
    </script>
    <div id="back-to-top"></div>
    <div id="mask"></div><div class="wrapper"><header class="desktop print:!tw-hidden" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="plantegg">plantegg</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item"
                    href="/posts/" > 文章 </a><a class="menu-item"
                    href="/categories/" > 分类 </a><a class="menu-item"
                    href="/tags/" > 标签 </a><span class="menu-item delimiter"></span><button class="menu-item theme-switch" aria-label="切换主题">
                    <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/></svg>
                </button></div>
        </div>
    </div>
</header><header class="mobile print:!tw-hidden" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="plantegg">plantegg</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="" >文章</a><a class="menu-item" href="/categories/" title="" >分类</a><a class="menu-item" href="/tags/" title="" >标签</a><button class="menu-item theme-switch tw-w-full" aria-label="切换主题">
                <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/></svg>
            </button></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div><main class="main">
            <div class="container"><div class="toc print:!tw-hidden" id="toc-auto">
        <h2 class="toc-title">目录</h2>
        <div class="toc-content always-active" id="toc-content-auto"><nav id="TableOfContents">
  <ul>
    <li><a href="#nvme-ssd-和-hdd的性能比较">NVMe SSD 和 HDD的性能比较</a></li>
    <li><a href="#ssd-的性能特性和机制">SSD 的性能特性和机制</a>
      <ul>
        <li><a href="#ssd原理">SSD原理</a></li>
        <li><a href="#写入放大write-amplification-or-wa">写入放大（Write Amplification, or WA)</a></li>
        <li><a href="#耗损平衡-wear-leveling">耗损平衡 (Wear Leveling)</a></li>
      </ul>
    </li>
    <li><a href="#磁盘类型查看">磁盘类型查看</a></li>
    <li><a href="#fio测试">fio测试</a>
      <ul>
        <li><a href="#nvme-ssd测试数据">NVMe SSD测试数据</a></li>
        <li><a href="#sata-ssd测试数据">SATA SSD测试数据</a></li>
        <li><a href="#essd磁盘测试数据">ESSD磁盘测试数据</a></li>
        <li><a href="#测试数据总结">测试数据总结</a></li>
        <li><a href="#hdd性能测试数据">HDD性能测试数据</a></li>
        <li><a href="#网上测试数据参考httpszhuanlanzhihucomp40497397"><a href="https://zhuanlan.zhihu.com/p/40497397">网上测试数据参考</a></a></li>
      </ul>
    </li>
    <li><a href="#rq_affinity">rq_affinity</a></li>
    <li><a href="#lvm性能对比">LVM性能对比</a></li>
    <li><a href="#ssd中satam2pcie和nvme各有什么意义">SSD中，SATA、m2、PCIE和NVME各有什么意义</a>
      <ul>
        <li><a href="#高速信号协议">高速信号协议</a></li>
        <li><a href="#传输层协议">传输层协议</a></li>
        <li><a href="#物理接口">物理接口</a></li>
      </ul>
    </li>
    <li><a href="#数据总结">数据总结</a></li>
    <li><a href="#参考资料">参考资料</a></li>
  </ul>
</nav></div>
    </div><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC", "true")</script><article class="page single print:!tw-w-full print:!tw-max-w-none print:!tw-m-0 print:!tw-p-0"><h1 class="single-title" data-pagefind-meta="date:2020-01-25" data-pagefind-body>ssd/san/sas  磁盘 光纤性能比较</h1><div class="post-meta">
            <div class="post-meta-line">
                <span class="post-author"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href="/" title="Author" rel=" author" class="author">作者</a>
                </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category">类别 <a href="/categories/performance/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>Performance</a></span></div>
            <div class="post-meta-line"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"/></svg>&nbsp;<time datetime="2020-01-25">2020-01-25</time>&nbsp;<svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg>&nbsp;<time datetime="2020-01-25">2020-01-25</time>&nbsp;<svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"/></svg>&nbsp;约 10479 字&nbsp;
                    <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg>&nbsp;预计阅读 46 分钟&nbsp;<i class="fas fa-eye fa-fw"></i>
                    <span id="busuanzi_container_page_pv">本文阅读量 <span id="busuanzi_value_page_pv"></span> 次</span></div>
        </div><div class="details toc print:!tw-block" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span class="details-icon"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#nvme-ssd-和-hdd的性能比较">NVMe SSD 和 HDD的性能比较</a></li>
    <li><a href="#ssd-的性能特性和机制">SSD 的性能特性和机制</a>
      <ul>
        <li><a href="#ssd原理">SSD原理</a></li>
        <li><a href="#写入放大write-amplification-or-wa">写入放大（Write Amplification, or WA)</a></li>
        <li><a href="#耗损平衡-wear-leveling">耗损平衡 (Wear Leveling)</a></li>
      </ul>
    </li>
    <li><a href="#磁盘类型查看">磁盘类型查看</a></li>
    <li><a href="#fio测试">fio测试</a>
      <ul>
        <li><a href="#nvme-ssd测试数据">NVMe SSD测试数据</a></li>
        <li><a href="#sata-ssd测试数据">SATA SSD测试数据</a></li>
        <li><a href="#essd磁盘测试数据">ESSD磁盘测试数据</a></li>
        <li><a href="#测试数据总结">测试数据总结</a></li>
        <li><a href="#hdd性能测试数据">HDD性能测试数据</a></li>
        <li><a href="#网上测试数据参考httpszhuanlanzhihucomp40497397"><a href="https://zhuanlan.zhihu.com/p/40497397">网上测试数据参考</a></a></li>
      </ul>
    </li>
    <li><a href="#rq_affinity">rq_affinity</a></li>
    <li><a href="#lvm性能对比">LVM性能对比</a></li>
    <li><a href="#ssd中satam2pcie和nvme各有什么意义">SSD中，SATA、m2、PCIE和NVME各有什么意义</a>
      <ul>
        <li><a href="#高速信号协议">高速信号协议</a></li>
        <li><a href="#传输层协议">传输层协议</a></li>
        <li><a href="#物理接口">物理接口</a></li>
      </ul>
    </li>
    <li><a href="#数据总结">数据总结</a></li>
    <li><a href="#参考资料">参考资料</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content" data-pagefind-body><h1 id="ssdsansas-磁盘-光纤性能比较" class="headerLink">
    <a href="#ssdsansas-%e7%a3%81%e7%9b%98-%e5%85%89%e7%ba%a4%e6%80%a7%e8%83%bd%e6%af%94%e8%be%83" class="header-mark"></a>ssd/san/sas 磁盘 光纤性能比较</h1><p>正好有机会用到一个san存储设备，跑了一把性能数据，记录一下</p>
<p><img class="tw-inline" loading="lazy" src=/images/oss/d57a004c846e193126ca01398e394319.png   alt="image.png"  ></p>
<p>所使用的测试命令：</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-1" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">fio -ioengine=libaio -bs=4k -direct=1 -thread -rw=randwrite -size=1000G -filename=/data/fio.test -name=&#34;EBS 4K randwrite test&#34; -iodepth=64 -runtime=60</span></span></code></pre>
</div>
<p>ssd（Solid State Drive）和san的比较是在同一台物理机上，所以排除了其他因素的干扰。</p>
<p>简要的结论：</p>
<ul>
<li>
<p>本地ssd性能最好、sas机械盘(RAID10)性能最差</p>
</li>
<li>
<p>san存储走特定的光纤网络，不是走tcp的san（至少从网卡看不到san的流量），性能居中</p>
</li>
<li>
<p>从rt来看 ssd:san:sas 大概是 1:3:15</p>
</li>
<li>
<p>san比本地sas机械盘性能要好，这也许取决于san的网络传输性能和san存储中的设备（比如用的ssd而不是机械盘）</p>
</li>
</ul>
<h2 id="nvme-ssd-和-hdd的性能比较" class="headerLink">
    <a href="#nvme-ssd-%e5%92%8c-hdd%e7%9a%84%e6%80%a7%e8%83%bd%e6%af%94%e8%be%83" class="header-mark"></a>NVMe SSD 和 HDD的性能比较</h2><p><img class="tw-inline" loading="lazy" src=/images/oss/d64a0f78ebf471ac69d447ecb46d90f1.png   alt="image.png"  ></p>
<p>表中性能差异比上面测试还要大，SSD 的随机 IO 延迟比传统硬盘快百倍以上，一般在微妙级别；IO 带宽也高很多倍，可以达到每秒几个 GB；随机 IOPS 更是快了上千倍，可以达到几十万。</p>
<p><strong>HDD只有一个磁头，并发没有意义，但是SSD支持高并发写入读取。SSD没有磁头、不需要旋转，所以随机读取和顺序读取基本没有差别。</strong></p>
<h2 id="ssd-的性能特性和机制" class="headerLink">
    <a href="#ssd-%e7%9a%84%e6%80%a7%e8%83%bd%e7%89%b9%e6%80%a7%e5%92%8c%e6%9c%ba%e5%88%b6" class="header-mark"></a>SSD 的性能特性和机制</h2><p>SSD 的内部工作方式和 HDD 大相径庭，我们先了解几个概念。</p>
<p><strong>单元（Cell）、页面（Page）、块（Block）</strong>。当今的主流 SSD 是基于 NAND 的，它将数字位存储在单元中。每个 SSD 单元可以存储一位或多位。对单元的每次擦除都会降低单元的寿命，所以单元只能承受一定数量的擦除。单元存储的位数越多，制造成本就越少，SSD 的容量也就越大，但是耐久性（擦除次数）也会降低。</p>
<p>一个页面包括很多单元，典型的页面大小是 4KB，页面也是要读写的最小存储单元。SSD 上没有“重写”操作，不像 HDD 可以直接对任何字节重写覆盖。一个页面一旦写入内容后就不能进行部分重写，必须和其它相邻页面一起被整体擦除重置。</p>
<p>多个页面组合成块。一个块的典型大小为 512KB 或 1MB，也就是大约 128 或 256 页。<strong>块是擦除的基本单位，每次擦除都是整个块内的所有页面都被重置。</strong></p>
<p><strong>擦除速度相对很慢，通常为几毫秒</strong>。所以对同步的 IO，发出 IO 的应用程序可能会因为块的擦除，而经历很大的写入延迟。为了尽量地减少这样的场景，保持空闲块的阈值对于快速的写响应是很有必要的。SSD 的垃圾回收（GC）的目的就在于此。GC 可以回收用过的块，这样可以确保以后的页写入可以快速分配到一个全新的页。</p>
<h3 id="ssd原理" class="headerLink">
    <a href="#ssd%e5%8e%9f%e7%90%86" class="header-mark"></a>SSD原理</h3><p>对于 SSD 硬盘，类似SRAM（CPU cache）它是由一个电容加上一个电压计组合在一起，记录了一个或者多个比特。能够记录一个比特很容易理解。给电容里面充上电有电压的时候就是 1，给电容放电里面没有电就是 0。采用这样方式存储数据的 SSD 硬盘，我们一般称之为使用了 SLC 的颗粒，全称是 Single-Level Cell，也就是一个存储单元中只有一位数据。</p>
<p>但是，这样的方式会遇到和 CPU Cache 类似的问题，那就是，同样的面积下，能够存放下的元器件是有限的。如果只用 SLC，我们就会遇到，存储容量上不去，并且价格下不来的问题。于是呢，硬件工程师们就陆续发明了 MLC（Multi-Level Cell）、TLC（Triple-Level Cell）以及 QLC（Quad-Level Cell），也就是能在一个电容里面存下 2 个、3 个乃至 4 个比特。</p>
<p>只有一个电容，我们怎么能够表示更多的比特呢？别忘了，这里我们还有一个电压计。4 个比特一共可以从 0000-1111 表示 16 个不同的数。那么，如果我们能往电容里面充电的时候，充上 15 个不同的电压，并且我们电压计能够区分出这 15 个不同的电压。加上电容被放空代表的 0，就能够代表从 0000-1111 这样 4 个比特了。</p>
<p>不过，要想表示 15 个不同的电压，充电和读取的时候，对于精度的要求就会更高。这会导致充电和读取的时候都更慢，所以 QLC 的 SSD 的读写速度，要比 SLC 的慢上好几倍。</p>
<p>SSD对碎片很敏感，类似JVM的内存碎片需要整理，碎片整理就带来了写入放大。也就是写入空间不够的时候需要先进行碎片整理、搬运，这样写入的数据更大了。</p>
<p>SSD寿命：以Intel 335为例再来算一下，BT用户可以用600TB × 1024 / 843 = <strong>728天</strong>，普通用户可以用600TB/2 = <strong>300年</strong>！情况十分乐观</p>
<h4 id="两种逻辑门" class="headerLink">
    <a href="#%e4%b8%a4%e7%a7%8d%e9%80%bb%e8%be%91%e9%97%a8" class="header-mark"></a>两种逻辑门</h4><p><strong>NAND</strong>(NOT-AND)  gate</p>
<p><strong>NOR</strong>(NOT-OR)  gate</p>
<p>如上两种门实现的介质<strong>都是非易失存储介质</strong>，<strong>在写入前都需要擦除</strong>。实际上NOR Flash的一个bit可以从1变成0，而要从0变1就要擦除整块。NAND flash都需要擦除。</p>

<div class="table-wrapper">
  <table>
    <thead>
        <tr>
            <th style="text-align: "></th>
            <th style="text-align: ">NAND Flash</th>
            <th style="text-align: ">NOR Flash</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align: ">芯片容量</td>
            <td style="text-align: ">&lt;32GBit</td>
            <td style="text-align: ">&lt;1GBit</td>
        </tr>
        <tr>
            <td style="text-align: ">访问方式</td>
            <td style="text-align: ">块读写（顺序读写）</td>
            <td style="text-align: ">随机读写</td>
        </tr>
        <tr>
            <td style="text-align: ">接口方式</td>
            <td style="text-align: ">任意I/O口</td>
            <td style="text-align: ">特定完整存储器接口</td>
        </tr>
        <tr>
            <td style="text-align: ">读写性能</td>
            <td style="text-align: ">读取快（顺序读） 写入快 擦除快（可按块擦除）</td>
            <td style="text-align: ">读取快（RAM方式） 写入慢 檫除很慢</td>
        </tr>
        <tr>
            <td style="text-align: ">使用寿命</td>
            <td style="text-align: ">百万次</td>
            <td style="text-align: ">十万次</td>
        </tr>
        <tr>
            <td style="text-align: ">价格</td>
            <td style="text-align: ">低廉</td>
            <td style="text-align: ">高昂</td>
        </tr>
    </tbody>
  </table>
</div>
<p>NAND Flash更适合在各类需要大数据的设备中使用，如U盘、SSD、各种存储卡、MP3播放器等，而NOR Flash更适合用在高性能的工业产品中。</p>
<p><a href="https://www.amc-systeme.de/files/pdf/wp_adv_flash_type_comparison_2016.pdf" target="_blank" rel="noopener noreferrer">高端SSD会选取MLC</a>（Multi-Level Cell）甚至SLC（Single-Level Cell），低端SSD则选取 TLC（Triple-Level Cell）。SD卡一般选取 TLC（Triple-Level Cell）</p>
<p><img class="tw-inline" loading="lazy" src=/images/951413iMgBlog/image-20210603161822079.png   alt="image-20210603161822079"  ></p>
<p><img class="tw-inline" loading="lazy" src=/images/951413iMgBlog/slc-mlc-tlc-buckets.jpg   alt="slc-mlc-tlc-buckets"  ></p>
<p>NOR FLash主要用于：Bios、机顶盒，大小一般是1-32MB</p>
<h4 id="为什么断电后ssd不丢数据" class="headerLink">
    <a href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e6%96%ad%e7%94%b5%e5%90%8essd%e4%b8%8d%e4%b8%a2%e6%95%b0%e6%8d%ae" class="header-mark"></a>为什么断电后SSD不丢数据</h4><p>SSD的存储硬件都是NAND Flash。实现原理和通过改变电压，让电子进入绝缘层的浮栅(Floating Gate)内。断电之后，电子仍然在FG里面。但是如果长时间不通电，比如几年，仍然可能会丢数据。所以换句话说，SSD的确也不适合作为冷数据备份。</p>
<p>比如标准要求SSD：温度在30度的情况下，数据要能保持52周。</p>
<h3 id="写入放大write-amplification-or-wa" class="headerLink">
    <a href="#%e5%86%99%e5%85%a5%e6%94%be%e5%a4%a7write-amplification-or-wa" class="header-mark"></a>写入放大（Write Amplification, or WA)</h3><p>这是 SSD 相对于 HDD 的一个缺点，即实际写入 SSD 的物理数据量，有可能是应用层写入数据量的多倍。一方面，页级别的写入需要移动已有的数据来腾空页面。另一方面，GC 的操作也会移动用户数据来进行块级别的擦除。所以对 SSD 真正的写操作的数据可能比实际写的数据量大，这就是写入放大。一块 SSD 只能进行有限的擦除次数，也称为编程 / 擦除（P/E）周期，所以写入放大效用会缩短 SSD 的寿命。</p>
<p>SSD 的读取和写入的基本单位，不是一个比特（bit）或者一个字节（byte），而是一个页（Page）。SSD 的擦除单位就更夸张了，我们不仅不能按照比特或者字节来擦除，连按照页来擦除都不行，我们必须按照块来擦除。</p>
<p>SLC 的芯片，可以擦除的次数大概在 10 万次，MLC 就在 1 万次左右，而 TLC 和 QLC 就只在几千次了。这也是为什么，你去购买 SSD 硬盘，会看到同样的容量的价格差别很大，因为它们的芯片颗粒和寿命完全不一样。</p>
<h3 id="耗损平衡-wear-leveling" class="headerLink">
    <a href="#%e8%80%97%e6%8d%9f%e5%b9%b3%e8%a1%a1-wear-leveling" class="header-mark"></a>耗损平衡 (Wear Leveling)</h3><p>对每一个块而言，一旦达到最大数量，该块就会死亡。对于 SLC 块，P/E 周期的典型数目是十万次；对于 MLC 块，P/E 周期的数目是一万；而对于 TLC 块，则可能是几千。为了确保 SSD 的容量和性能，我们需要在擦除次数上保持平衡，SSD 控制器具有这种“耗损平衡”机制可以实现这一目标。在损耗平衡期间，数据在各个块之间移动，以实现均衡的损耗，这种机制也会对前面讲的写入放大推波助澜。</p>
<h2 id="磁盘类型查看" class="headerLink">
    <a href="#%e7%a3%81%e7%9b%98%e7%b1%bb%e5%9e%8b%e6%9f%a5%e7%9c%8b" class="header-mark"></a>磁盘类型查看</h2><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-2" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">$cat /sys/block/vda/queue/rotational
</span></span><span class="line"><span class="cl">1  //1表示旋转，非ssd，0表示ssd
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">或者
</span></span><span class="line"><span class="cl">lsblk -d -o name,rota</span></span></code></pre>
</div>
<h2 id="fio测试" class="headerLink">
    <a href="#fio%e6%b5%8b%e8%af%95" class="header-mark"></a>fio测试</h2><p>以下是两块测试的SSD磁盘测试前的基本情况</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-3" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">/dev/sda	240.06G  SSD_SATA  //sata
</span></span><span class="line"><span class="cl">/dev/sfd0n1	3200G	 SSD_PCIE  //PCIE
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Filesystem      Size  Used Avail Use% Mounted on
</span></span><span class="line"><span class="cl">/dev/sda3        49G   29G   18G  63% / 
</span></span><span class="line"><span class="cl">/dev/sfdv0n1p1  2.0T  803G  1.3T  40% /data
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># cat /sys/block/sda/queue/rotational 
</span></span><span class="line"><span class="cl">0
</span></span><span class="line"><span class="cl"># cat /sys/block/sfdv0n1/queue/rotational 
</span></span><span class="line"><span class="cl">0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">#测试前的iostat状态
</span></span><span class="line"><span class="cl"># iostat -d sfdv0n1 sda3 1 -x
</span></span><span class="line"><span class="cl">Linux 3.10.0-957.el7.x86_64 (nu4d01142.sqa.nu8) 	2021年02月23日 	_x86_64_	(104 CPU)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
</span></span><span class="line"><span class="cl">sda3              0.00    10.67    1.24   18.78     7.82   220.69    22.83     0.03    1.64    1.39    1.66   0.08   0.17
</span></span><span class="line"><span class="cl">sfdv0n1           0.00     0.21    9.91  841.42   128.15  8237.10    19.65     0.93    0.04    0.25    0.04   1.05  89.52
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
</span></span><span class="line"><span class="cl">sda3              0.00    15.00    0.00   17.00     0.00   136.00    16.00     0.03    2.00    0.00    2.00   1.29   2.20
</span></span><span class="line"><span class="cl">sfdv0n1           0.00     0.00    0.00 11158.00     0.00 54448.00     9.76     1.03    0.02    0.00    0.02   0.09 100.00
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
</span></span><span class="line"><span class="cl">sda3              0.00     5.00    0.00   18.00     0.00   104.00    11.56     0.01    0.61    0.00    0.61   0.61   1.10
</span></span><span class="line"><span class="cl">sfdv0n1           0.00     0.00    0.00 10970.00     0.00 53216.00     9.70     1.02    0.03    0.00    0.03   0.09 100.10
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
</span></span><span class="line"><span class="cl">sda3              0.00     0.00    0.00   24.00     0.00   100.00     8.33     0.01    0.58    0.00    0.58   0.08   0.20
</span></span><span class="line"><span class="cl">sfdv0n1           0.00     0.00    0.00 11206.00     0.00 54476.00     9.72     1.03    0.03    0.00    0.03   0.09  99.90
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
</span></span><span class="line"><span class="cl">sda3              0.00    14.00    0.00   21.00     0.00   148.00    14.10     0.01    0.48    0.00    0.48   0.33   0.70
</span></span><span class="line"><span class="cl">sfdv0n1           0.00     0.00    0.00 10071.00     0.00 49028.00     9.74     1.02    0.03    0.00    0.03   0.10  99.80</span></span></code></pre>
</div>
<h3 id="nvme-ssd测试数据" class="headerLink">
    <a href="#nvme-ssd%e6%b5%8b%e8%af%95%e6%95%b0%e6%8d%ae" class="header-mark"></a>NVMe SSD测试数据</h3><p>对一块ssd进行如下测试(挂载在/data 目录)</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-4" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">fio -ioengine=libaio -bs=4k -direct=1 -thread -rw=randwrite -rwmixread=70 -size=16G -filename=/data/fio.test -name=&#34;EBS 4K randwrite test&#34; -iodepth=64 -runtime=60
</span></span><span class="line"><span class="cl">EBS 4K randwrite test: (g=0): rw=randwrite, bs=(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine=libaio, iodepth=64
</span></span><span class="line"><span class="cl">fio-3.7
</span></span><span class="line"><span class="cl">Starting 1 thread
</span></span><span class="line"><span class="cl">EBS 4K randwrite test: Laying out IO file (1 file / 16384MiB)
</span></span><span class="line"><span class="cl">Jobs: 1 (f=1): [w(1)][100.0%][r=0KiB/s,w=63.8MiB/s][r=0,w=16.3k IOPS][eta 00m:00s]
</span></span><span class="line"><span class="cl">EBS 4K randwrite test: (groupid=0, jobs=1): err= 0: pid=258871: Tue Feb 23 14:12:23 2021
</span></span><span class="line"><span class="cl">  write: IOPS=18.9k, BW=74.0MiB/s (77.6MB/s)(4441MiB/60001msec)
</span></span><span class="line"><span class="cl">    slat (usec): min=4, max=6154, avg=48.82, stdev=56.38
</span></span><span class="line"><span class="cl">    clat (nsec): min=1049, max=12360k, avg=3326362.62, stdev=920683.43
</span></span><span class="line"><span class="cl">     lat (usec): min=68, max=12414, avg=3375.52, stdev=928.97
</span></span><span class="line"><span class="cl">    clat percentiles (usec):
</span></span><span class="line"><span class="cl">     |  1.00th=[ 1483],  5.00th=[ 1811], 10.00th=[ 2114], 20.00th=[ 2376],
</span></span><span class="line"><span class="cl">     | 30.00th=[ 2704], 40.00th=[ 3130], 50.00th=[ 3523], 60.00th=[ 3785],
</span></span><span class="line"><span class="cl">     | 70.00th=[ 3949], 80.00th=[ 4080], 90.00th=[ 4293], 95.00th=[ 4490],
</span></span><span class="line"><span class="cl">     | 99.00th=[ 5604], 99.50th=[ 5997], 99.90th=[ 7111], 99.95th=[ 7832],
</span></span><span class="line"><span class="cl">     | 99.99th=[ 9634]
</span></span><span class="line"><span class="cl">   bw (  KiB/s): min=61024, max=118256, per=99.98%, avg=75779.58, stdev=12747.95, samples=120
</span></span><span class="line"><span class="cl">   iops        : min=15256, max=29564, avg=18944.88, stdev=3186.97, samples=120
</span></span><span class="line"><span class="cl">  lat (usec)   : 2=0.01%, 100=0.01%, 250=0.01%, 500=0.01%, 750=0.02%
</span></span><span class="line"><span class="cl">  lat (usec)   : 1000=0.06%
</span></span><span class="line"><span class="cl">  lat (msec)   : 2=7.40%, 4=66.19%, 10=26.32%, 20=0.01%
</span></span><span class="line"><span class="cl">  cpu          : usr=5.23%, sys=46.71%, ctx=846953, majf=0, minf=6
</span></span><span class="line"><span class="cl">  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=0.1%, 32=0.1%, &gt;=64=100.0%
</span></span><span class="line"><span class="cl">     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%
</span></span><span class="line"><span class="cl">     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.1%, &gt;=64=0.0%
</span></span><span class="line"><span class="cl">     issued rwts: total=0,1136905,0,0 short=0,0,0,0 dropped=0,0,0,0
</span></span><span class="line"><span class="cl">     latency   : target=0, window=0, percentile=100.00%, depth=64
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Run status group 0 (all jobs):
</span></span><span class="line"><span class="cl">  WRITE: bw=74.0MiB/s (77.6MB/s), 74.0MiB/s-74.0MiB/s (77.6MB/s-77.6MB/s), io=4441MiB (4657MB), run=60001-60001msec
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Disk stats (read/write):
</span></span><span class="line"><span class="cl">  sfdv0n1: ios=0/1821771, merge=0/7335, ticks=0/39708, in_queue=78295, util=100.00%</span></span></code></pre>
</div>
<p>slat (usec): min=4, max=6154, avg=48.82, stdev=56.38： The first latency metric you&rsquo;ll see is the &lsquo;slat&rsquo; or submission latency. It is pretty much what it sounds like, meaning &ldquo;how long did it take to submit this IO to the kernel for processing?&rdquo;</p>
<p>如上测试iops为：18944，测试期间的iostat，测试中一直有mysql在导入数据，所以测试开始前util就已经100%了，并且w/s到了13K左右</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-5" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"># iostat -d sfdv0n1 3 -x
</span></span><span class="line"><span class="cl">Linux 3.10.0-957.el7.x86_64 (nu4d01142.sqa.nu8) 	2021年02月23日 	_x86_64_	(104 CPU)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
</span></span><span class="line"><span class="cl">sfdv0n1           0.00     0.18    3.45  769.17   102.83  7885.16    20.68     0.93    0.04    0.26    0.04   1.16  89.46
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
</span></span><span class="line"><span class="cl">sfdv0n1           0.00     0.00    0.00 13168.67     0.00 66244.00    10.06     1.05    0.03    0.00    0.03   0.08 100.10
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
</span></span><span class="line"><span class="cl">sfdv0n1           0.00     0.00    0.00 12822.67     0.00 65542.67    10.22     1.04    0.02    0.00    0.02   0.08 100.07
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">//增加压力
</span></span><span class="line"><span class="cl">Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
</span></span><span class="line"><span class="cl">sfdv0n1           0.00     0.00    0.00 27348.33     0.00 214928.00    15.72     1.27    0.02    0.00    0.02   0.04 100.17
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
</span></span><span class="line"><span class="cl">sfdv0n1           0.00     1.00    0.00 32661.67     0.00 271660.00    16.63     1.32    0.02    0.00    0.02   0.03 100.37
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
</span></span><span class="line"><span class="cl">sfdv0n1           0.00     0.00    0.00 31645.00     0.00 265988.00    16.81     1.33    0.02    0.00    0.02   0.03 100.37
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
</span></span><span class="line"><span class="cl">sfdv0n1           0.00   574.00    0.00 31961.67     0.00 271094.67    16.96     1.36    0.02    0.00    0.02   0.03 100.13
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
</span></span><span class="line"><span class="cl">sfdv0n1           0.00     0.00    0.00 27656.33     0.00 224586.67    16.24     1.28    0.02    0.00    0.02   0.04 100.37</span></span></code></pre>
</div>
<p>从iostat看出，测试开始前util已经100%（因为ssd，util失去参考意义），w/s 13K左右，压力跑起来后w/s能到30K，svctm、await均保持稳定</p>
<p>SSD的direct和buffered似乎很奇怪，应该是direct=0性能更好，实际不是这样，这里还需要找资料求证下</p>
<blockquote>
  <ul>
<li>
<p><code>direct``=bool</code></p>
<p>If value is true, use non-buffered I/O. This is usually O_DIRECT. Note that OpenBSD and ZFS on Solaris don’t support direct I/O. On Windows the synchronous ioengines don’t support direct I/O. Default: false.</p>
</li>
<li>
<p><code>buffered``=bool</code></p>
<p>If value is true, use buffered I/O. This is the opposite of the <a href="https://fio.readthedocs.io/en/latest/fio_man.html#cmdoption-arg-direct" target="_blank" rel="noopener noreferrer"><code>direct</code></a> option. Defaults to true.</p>
</li>
</ul>

</blockquote><p>如下测试中direct=1和direct=0的write avg iops分别为42K、16K</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-6" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"># fio -ioengine=libaio -bs=4k -direct=1 -buffered=0 -thread -rw=randrw -rwmixread=70 -size=16G -filename=/data/fio.test -name=&#34;EBS 4K randwrite test&#34; -iodepth=64 -runtime=60 
</span></span><span class="line"><span class="cl">EBS 4K randwrite test: (g=0): rw=randrw, bs=(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine=libaio, iodepth=64
</span></span><span class="line"><span class="cl">fio-3.7
</span></span><span class="line"><span class="cl">Starting 1 thread
</span></span><span class="line"><span class="cl">Jobs: 1 (f=1): [m(1)][100.0%][r=507MiB/s,w=216MiB/s][r=130k,w=55.2k IOPS][eta 00m:00s] 
</span></span><span class="line"><span class="cl">EBS 4K randwrite test: (groupid=0, jobs=1): err= 0: pid=415921: Tue Feb 23 14:34:33 2021
</span></span><span class="line"><span class="cl">   read: IOPS=99.8k, BW=390MiB/s (409MB/s)(11.2GiB/29432msec)
</span></span><span class="line"><span class="cl">    slat (nsec): min=1043, max=917837, avg=4273.86, stdev=3792.17
</span></span><span class="line"><span class="cl">    clat (usec): min=2, max=4313, avg=459.80, stdev=239.61
</span></span><span class="line"><span class="cl">     lat (usec): min=4, max=4328, avg=464.16, stdev=241.81
</span></span><span class="line"><span class="cl">    clat percentiles (usec):
</span></span><span class="line"><span class="cl">     |  1.00th=[  251],  5.00th=[  277], 10.00th=[  289], 20.00th=[  310],
</span></span><span class="line"><span class="cl">     | 30.00th=[  326], 40.00th=[  343], 50.00th=[  363], 60.00th=[  400],
</span></span><span class="line"><span class="cl">     | 70.00th=[  502], 80.00th=[  603], 90.00th=[  750], 95.00th=[  881],
</span></span><span class="line"><span class="cl">     | 99.00th=[ 1172], 99.50th=[ 1401], 99.90th=[ 3032], 99.95th=[ 3359],
</span></span><span class="line"><span class="cl">     | 99.99th=[ 3785]
</span></span><span class="line"><span class="cl">   bw (  KiB/s): min=182520, max=574856, per=99.24%, avg=395975.64, stdev=119541.78, samples=58
</span></span><span class="line"><span class="cl">   iops        : min=45630, max=143714, avg=98993.90, stdev=29885.42, samples=58
</span></span><span class="line"><span class="cl">  write: IOPS=42.8k, BW=167MiB/s (175MB/s)(4915MiB/29432msec)
</span></span><span class="line"><span class="cl">    slat (usec): min=3, max=263, avg= 9.34, stdev= 4.35
</span></span><span class="line"><span class="cl">    clat (usec): min=14, max=2057, avg=402.26, stdev=140.67
</span></span><span class="line"><span class="cl">     lat (usec): min=19, max=2070, avg=411.72, stdev=142.67
</span></span><span class="line"><span class="cl">    clat percentiles (usec):
</span></span><span class="line"><span class="cl">     |  1.00th=[  237],  5.00th=[  281], 10.00th=[  293], 20.00th=[  314],
</span></span><span class="line"><span class="cl">     | 30.00th=[  330], 40.00th=[  343], 50.00th=[  359], 60.00th=[  379],
</span></span><span class="line"><span class="cl">     | 70.00th=[  404], 80.00th=[  457], 90.00th=[  586], 95.00th=[  717],
</span></span><span class="line"><span class="cl">     | 99.00th=[  930], 99.50th=[ 1004], 99.90th=[ 1254], 99.95th=[ 1385],
</span></span><span class="line"><span class="cl">     | 99.99th=[ 1532]
</span></span><span class="line"><span class="cl">   bw (  KiB/s): min=78104, max=244408, per=99.22%, avg=169671.52, stdev=51142.10, samples=58
</span></span><span class="line"><span class="cl">   iops        : min=19526, max=61102, avg=42417.86, stdev=12785.51, samples=58
</span></span><span class="line"><span class="cl">  lat (usec)   : 4=0.01%, 10=0.01%, 20=0.01%, 50=0.02%, 100=0.04%
</span></span><span class="line"><span class="cl">  lat (usec)   : 250=1.02%, 500=73.32%, 750=17.28%, 1000=6.30%
</span></span><span class="line"><span class="cl">  lat (msec)   : 2=1.83%, 4=0.19%, 10=0.01%
</span></span><span class="line"><span class="cl">  cpu          : usr=15.84%, sys=83.31%, ctx=13765, majf=0, minf=7
</span></span><span class="line"><span class="cl">  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=0.1%, 32=0.1%, &gt;=64=100.0%
</span></span><span class="line"><span class="cl">     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%
</span></span><span class="line"><span class="cl">     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.1%, &gt;=64=0.0%
</span></span><span class="line"><span class="cl">     issued rwts: total=2936000,1258304,0,0 short=0,0,0,0 dropped=0,0,0,0
</span></span><span class="line"><span class="cl">     latency   : target=0, window=0, percentile=100.00%, depth=64
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Run status group 0 (all jobs):
</span></span><span class="line"><span class="cl">   READ: bw=390MiB/s (409MB/s), 390MiB/s-390MiB/s (409MB/s-409MB/s), io=11.2GiB (12.0GB), run=29432-29432msec
</span></span><span class="line"><span class="cl">  WRITE: bw=167MiB/s (175MB/s), 167MiB/s-167MiB/s (175MB/s-175MB/s), io=4915MiB (5154MB), run=29432-29432msec
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Disk stats (read/write):
</span></span><span class="line"><span class="cl">  sfdv0n1: ios=795793/1618341, merge=0/11, ticks=218710/27721, in_queue=264935, util=100.00%
</span></span><span class="line"><span class="cl">[root@nu4d01142 data]# 
</span></span><span class="line"><span class="cl">[root@nu4d01142 data]# fio -ioengine=libaio -bs=4k -direct=0 -buffered=0 -thread -rw=randrw -rwmixread=70 -size=6G -filename=/data/fio.test -name=&#34;EBS 4K randwrite test&#34; -iodepth=64 -runtime=60 
</span></span><span class="line"><span class="cl">EBS 4K randwrite test: (g=0): rw=randrw, bs=(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine=libaio, iodepth=64
</span></span><span class="line"><span class="cl">fio-3.7
</span></span><span class="line"><span class="cl">Starting 1 thread
</span></span><span class="line"><span class="cl">Jobs: 1 (f=1): [m(1)][100.0%][r=124MiB/s,w=53.5MiB/s][r=31.7k,w=13.7k IOPS][eta 00m:00s]
</span></span><span class="line"><span class="cl">EBS 4K randwrite test: (groupid=0, jobs=1): err= 0: pid=437523: Tue Feb 23 14:37:54 2021
</span></span><span class="line"><span class="cl">   read: IOPS=38.6k, BW=151MiB/s (158MB/s)(4300MiB/28550msec)
</span></span><span class="line"><span class="cl">    slat (nsec): min=1205, max=1826.7k, avg=13253.36, stdev=17173.87
</span></span><span class="line"><span class="cl">    clat (nsec): min=236, max=5816.8k, avg=1135969.25, stdev=337142.34
</span></span><span class="line"><span class="cl">     lat (nsec): min=1977, max=5831.2k, avg=1149404.84, stdev=341232.87
</span></span><span class="line"><span class="cl">    clat percentiles (usec):
</span></span><span class="line"><span class="cl">     |  1.00th=[  461],  5.00th=[  627], 10.00th=[  717], 20.00th=[  840],
</span></span><span class="line"><span class="cl">     | 30.00th=[  938], 40.00th=[ 1029], 50.00th=[ 1123], 60.00th=[ 1221],
</span></span><span class="line"><span class="cl">     | 70.00th=[ 1319], 80.00th=[ 1434], 90.00th=[ 1565], 95.00th=[ 1680],
</span></span><span class="line"><span class="cl">     | 99.00th=[ 1893], 99.50th=[ 1975], 99.90th=[ 2671], 99.95th=[ 3261],
</span></span><span class="line"><span class="cl">     | 99.99th=[ 3851]
</span></span><span class="line"><span class="cl">   bw (  KiB/s): min=119304, max=216648, per=100.00%, avg=154273.07, stdev=29925.10, samples=57
</span></span><span class="line"><span class="cl">   iops        : min=29826, max=54162, avg=38568.25, stdev=7481.30, samples=57
</span></span><span class="line"><span class="cl">  write: IOPS=16.5k, BW=64.6MiB/s (67.7MB/s)(1844MiB/28550msec)
</span></span><span class="line"><span class="cl">    slat (usec): min=3, max=3565, avg=21.07, stdev=22.23
</span></span><span class="line"><span class="cl">    clat (usec): min=14, max=9983, avg=1164.21, stdev=459.66
</span></span><span class="line"><span class="cl">     lat (usec): min=21, max=10011, avg=1185.57, stdev=463.28
</span></span><span class="line"><span class="cl">    clat percentiles (usec):
</span></span><span class="line"><span class="cl">     |  1.00th=[  498],  5.00th=[  619], 10.00th=[  709], 20.00th=[  832],
</span></span><span class="line"><span class="cl">     | 30.00th=[  930], 40.00th=[ 1020], 50.00th=[ 1123], 60.00th=[ 1237],
</span></span><span class="line"><span class="cl">     | 70.00th=[ 1336], 80.00th=[ 1450], 90.00th=[ 1598], 95.00th=[ 1713],
</span></span><span class="line"><span class="cl">     | 99.00th=[ 2311], 99.50th=[ 3851], 99.90th=[ 5932], 99.95th=[ 6456],
</span></span><span class="line"><span class="cl">     | 99.99th=[ 7701]
</span></span><span class="line"><span class="cl">   bw (  KiB/s): min=50800, max=92328, per=100.00%, avg=66128.47, stdev=12890.64, samples=57
</span></span><span class="line"><span class="cl">   iops        : min=12700, max=23082, avg=16532.07, stdev=3222.66, samples=57
</span></span><span class="line"><span class="cl">  lat (nsec)   : 250=0.01%, 500=0.01%, 750=0.01%, 1000=0.01%
</span></span><span class="line"><span class="cl">  lat (usec)   : 2=0.01%, 4=0.01%, 10=0.01%, 20=0.02%, 50=0.03%
</span></span><span class="line"><span class="cl">  lat (usec)   : 100=0.04%, 250=0.18%, 500=1.01%, 750=11.05%, 1000=25.02%
</span></span><span class="line"><span class="cl">  lat (msec)   : 2=61.87%, 4=0.62%, 10=0.14%
</span></span><span class="line"><span class="cl">  cpu          : usr=10.87%, sys=61.98%, ctx=218415, majf=0, minf=7
</span></span><span class="line"><span class="cl">  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=0.1%, 32=0.1%, &gt;=64=100.0%
</span></span><span class="line"><span class="cl">     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%
</span></span><span class="line"><span class="cl">     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.1%, &gt;=64=0.0%
</span></span><span class="line"><span class="cl">     issued rwts: total=1100924,471940,0,0 short=0,0,0,0 dropped=0,0,0,0
</span></span><span class="line"><span class="cl">     latency   : target=0, window=0, percentile=100.00%, depth=64
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Run status group 0 (all jobs):
</span></span><span class="line"><span class="cl">   READ: bw=151MiB/s (158MB/s), 151MiB/s-151MiB/s (158MB/s-158MB/s), io=4300MiB (4509MB), run=28550-28550msec
</span></span><span class="line"><span class="cl">  WRITE: bw=64.6MiB/s (67.7MB/s), 64.6MiB/s-64.6MiB/s (67.7MB/s-67.7MB/s), io=1844MiB (1933MB), run=28550-28550msec
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Disk stats (read/write):
</span></span><span class="line"><span class="cl">  sfdv0n1: ios=536103/822037, merge=0/1442, ticks=66507/17141, in_queue=99429, util=100.00%</span></span></code></pre>
</div>
<h3 id="sata-ssd测试数据" class="headerLink">
    <a href="#sata-ssd%e6%b5%8b%e8%af%95%e6%95%b0%e6%8d%ae" class="header-mark"></a>SATA SSD测试数据</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-7" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"># cat /sys/block/sda/queue/rotational 
</span></span><span class="line"><span class="cl">0
</span></span><span class="line"><span class="cl"># lsblk -d -o name,rota
</span></span><span class="line"><span class="cl">NAME     ROTA
</span></span><span class="line"><span class="cl">sda         0
</span></span><span class="line"><span class="cl">sfdv0n1     0</span></span></code></pre>
</div>
<p>-direct=0 -buffered=0读写iops分别为15.8K、6.8K 比ssd差了不少（都是direct=0），如果direct、buffered都是1的话，ESSD性能很差，读写iops分别为4312、1852</p>
<div class="code-block highlight is-closed show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-8" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"><span class="c1"># fio -ioengine=libaio -bs=4k -direct=0 -buffered=0 -thread -rw=randrw -rwmixread=70 -size=2G -filename=/var/lib/docker/fio.test -name=&#34;EBS 4K randwrite test&#34; -iodepth=64 -runtime=60 </span>
</span></span><span class="line"><span class="cl"><span class="n">EBS</span> <span class="mi">4</span><span class="n">K</span> <span class="n">randwrite</span> <span class="n">test</span><span class="p">:</span> <span class="p">(</span><span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span> <span class="n">rw</span><span class="o">=</span><span class="n">randrw</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="mi">4096</span><span class="n">B</span><span class="o">-</span><span class="mi">4096</span><span class="n">B</span><span class="p">,</span> <span class="p">(</span><span class="n">W</span><span class="p">)</span> <span class="mi">4096</span><span class="n">B</span><span class="o">-</span><span class="mi">4096</span><span class="n">B</span><span class="p">,</span> <span class="p">(</span><span class="n">T</span><span class="p">)</span> <span class="mi">4096</span><span class="n">B</span><span class="o">-</span><span class="mi">4096</span><span class="n">B</span><span class="p">,</span> <span class="n">ioengine</span><span class="o">=</span><span class="n">libaio</span><span class="p">,</span> <span class="n">iodepth</span><span class="o">=</span><span class="mi">64</span>
</span></span><span class="line"><span class="cl"><span class="n">fio</span><span class="o">-</span><span class="mf">3.7</span>
</span></span><span class="line"><span class="cl"><span class="n">Starting</span> <span class="mi">1</span> <span class="n">thread</span>
</span></span><span class="line"><span class="cl"><span class="n">EBS</span> <span class="mi">4</span><span class="n">K</span> <span class="n">randwrite</span> <span class="n">test</span><span class="p">:</span> <span class="n">Laying</span> <span class="n">out</span> <span class="n">IO</span> <span class="n">file</span> <span class="p">(</span><span class="mi">1</span> <span class="n">file</span> <span class="o">/</span> <span class="mi">2048</span><span class="n">MiB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">Jobs</span><span class="p">:</span> <span class="mi">1</span> <span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span> <span class="p">[</span><span class="n">m</span><span class="p">(</span><span class="mi">1</span><span class="p">)][</span><span class="mf">100.0</span><span class="o">%</span><span class="p">][</span><span class="n">r</span><span class="o">=</span><span class="mf">68.7</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="p">,</span><span class="n">w</span><span class="o">=</span><span class="mf">29.7</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="p">][</span><span class="n">r</span><span class="o">=</span><span class="mf">17.6</span><span class="n">k</span><span class="p">,</span><span class="n">w</span><span class="o">=</span><span class="mi">7594</span> <span class="n">IOPS</span><span class="p">][</span><span class="n">eta</span> <span class="mi">00</span><span class="n">m</span><span class="p">:</span><span class="mi">00</span><span class="n">s</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">EBS</span> <span class="mi">4</span><span class="n">K</span> <span class="n">randwrite</span> <span class="n">test</span><span class="p">:</span> <span class="p">(</span><span class="n">groupid</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span> <span class="n">err</span><span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">pid</span><span class="o">=</span><span class="mi">13261</span><span class="p">:</span> <span class="n">Tue</span> <span class="n">Feb</span> <span class="mi">23</span> <span class="mi">14</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">41</span> <span class="mi">2021</span>
</span></span><span class="line"><span class="cl">   <span class="n">read</span><span class="p">:</span> <span class="n">IOPS</span><span class="o">=</span><span class="mf">15.8</span><span class="n">k</span><span class="p">,</span> <span class="n">BW</span><span class="o">=</span><span class="mf">61.8</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">64.8</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">)(</span><span class="mi">1432</span><span class="n">MiB</span><span class="o">/</span><span class="mi">23172</span><span class="n">msec</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">slat</span> <span class="p">(</span><span class="n">nsec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">1266</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mf">7261.0</span><span class="n">k</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">7101.88</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">20655.54</span>
</span></span><span class="line"><span class="cl">    <span class="n">clat</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">167</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">27670</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">2832.68</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">1786.18</span>
</span></span><span class="line"><span class="cl">     <span class="n">lat</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">175</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">27674</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">2839.93</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">1784.42</span>
</span></span><span class="line"><span class="cl">    <span class="n">clat</span> <span class="n">percentiles</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span>  <span class="mf">1.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">437</span><span class="p">],</span>  <span class="mf">5.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">668</span><span class="p">],</span> <span class="mf">10.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">873</span><span class="p">],</span> <span class="mf">20.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">988</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">30.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">1401</span><span class="p">],</span> <span class="mf">40.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">2442</span><span class="p">],</span> <span class="mf">50.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">2835</span><span class="p">],</span> <span class="mf">60.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">3195</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">70.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">3523</span><span class="p">],</span> <span class="mf">80.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">4047</span><span class="p">],</span> <span class="mf">90.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">5014</span><span class="p">],</span> <span class="mf">95.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">5866</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">99.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">8160</span><span class="p">],</span> <span class="mf">99.50</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">9372</span><span class="p">],</span> <span class="mf">99.90</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">13829</span><span class="p">],</span> <span class="mf">99.95</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">15008</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">99.99</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">23725</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">   <span class="n">bw</span> <span class="p">(</span>  <span class="n">KiB</span><span class="o">/</span><span class="n">s</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">44183</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">149440</span><span class="p">,</span> <span class="n">per</span><span class="o">=</span><span class="mf">99.28</span><span class="o">%</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">62836.17</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">26590.84</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">46</span>
</span></span><span class="line"><span class="cl">   <span class="n">iops</span>        <span class="p">:</span> <span class="nb">min</span><span class="o">=</span><span class="mi">11045</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">37360</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">15709.02</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">6647.72</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">46</span>
</span></span><span class="line"><span class="cl">  <span class="n">write</span><span class="p">:</span> <span class="n">IOPS</span><span class="o">=</span><span class="mi">6803</span><span class="p">,</span> <span class="n">BW</span><span class="o">=</span><span class="mf">26.6</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">27.9</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">)(</span><span class="mi">616</span><span class="n">MiB</span><span class="o">/</span><span class="mi">23172</span><span class="n">msec</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">slat</span> <span class="p">(</span><span class="n">nsec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">1566</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">11474</span><span class="n">k</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">8460.17</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">38221.51</span>
</span></span><span class="line"><span class="cl">    <span class="n">clat</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">77</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">24047</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">2789.68</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">2042.55</span>
</span></span><span class="line"><span class="cl">     <span class="n">lat</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">24054</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">2798.29</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">2040.85</span>
</span></span><span class="line"><span class="cl">    <span class="n">clat</span> <span class="n">percentiles</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span>  <span class="mf">1.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">265</span><span class="p">],</span>  <span class="mf">5.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">433</span><span class="p">],</span> <span class="mf">10.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">635</span><span class="p">],</span> <span class="mf">20.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">840</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">30.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">979</span><span class="p">],</span> <span class="mf">40.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">2212</span><span class="p">],</span> <span class="mf">50.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">2671</span><span class="p">],</span> <span class="mf">60.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">3130</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">70.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">3523</span><span class="p">],</span> <span class="mf">80.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">4228</span><span class="p">],</span> <span class="mf">90.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">5342</span><span class="p">],</span> <span class="mf">95.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">6456</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">99.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">9241</span><span class="p">],</span> <span class="mf">99.50</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">10421</span><span class="p">],</span> <span class="mf">99.90</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">13960</span><span class="p">],</span> <span class="mf">99.95</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">15533</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">99.99</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">23725</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">   <span class="n">bw</span> <span class="p">(</span>  <span class="n">KiB</span><span class="o">/</span><span class="n">s</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">18435</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">63112</span><span class="p">,</span> <span class="n">per</span><span class="o">=</span><span class="mf">99.26</span><span class="o">%</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">27012.57</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">11299.42</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">46</span>
</span></span><span class="line"><span class="cl">   <span class="n">iops</span>        <span class="p">:</span> <span class="nb">min</span><span class="o">=</span> <span class="mi">4608</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">15778</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">6753.11</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">2824.87</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">46</span>
</span></span><span class="line"><span class="cl">  <span class="n">lat</span> <span class="p">(</span><span class="n">usec</span><span class="p">)</span>   <span class="p">:</span> <span class="mi">100</span><span class="o">=</span><span class="mf">0.01</span><span class="o">%</span><span class="p">,</span> <span class="mi">250</span><span class="o">=</span><span class="mf">0.23</span><span class="o">%</span><span class="p">,</span> <span class="mi">500</span><span class="o">=</span><span class="mf">3.14</span><span class="o">%</span><span class="p">,</span> <span class="mi">750</span><span class="o">=</span><span class="mf">5.46</span><span class="o">%</span><span class="p">,</span> <span class="mi">1000</span><span class="o">=</span><span class="mf">15.27</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">  <span class="n">lat</span> <span class="p">(</span><span class="n">msec</span><span class="p">)</span>   <span class="p">:</span> <span class="mi">2</span><span class="o">=</span><span class="mf">11.47</span><span class="o">%</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="mf">43.09</span><span class="o">%</span><span class="p">,</span> <span class="mi">10</span><span class="o">=</span><span class="mf">20.88</span><span class="o">%</span><span class="p">,</span> <span class="mi">20</span><span class="o">=</span><span class="mf">0.44</span><span class="o">%</span><span class="p">,</span> <span class="mi">50</span><span class="o">=</span><span class="mf">0.01</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">  <span class="n">cpu</span>          <span class="p">:</span> <span class="n">usr</span><span class="o">=</span><span class="mf">3.53</span><span class="o">%</span><span class="p">,</span> <span class="n">sys</span><span class="o">=</span><span class="mf">18.08</span><span class="o">%</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="mi">47448</span><span class="p">,</span> <span class="n">majf</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">minf</span><span class="o">=</span><span class="mi">6</span>
</span></span><span class="line"><span class="cl">  <span class="n">IO</span> <span class="n">depths</span>    <span class="p">:</span> <span class="mi">1</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">2</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">8</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">16</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">32</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="o">&gt;=</span><span class="mi">64</span><span class="o">=</span><span class="mf">100.0</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">     <span class="n">submit</span>    <span class="p">:</span> <span class="mi">0</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="mf">100.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">8</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">16</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">32</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">64</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="o">&gt;=</span><span class="mi">64</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">     <span class="n">complete</span>  <span class="p">:</span> <span class="mi">0</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="mf">100.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">8</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">16</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">32</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">64</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="o">&gt;=</span><span class="mi">64</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">     <span class="n">issued</span> <span class="n">rwts</span><span class="p">:</span> <span class="n">total</span><span class="o">=</span><span class="mi">366638</span><span class="p">,</span><span class="mi">157650</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="n">short</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="n">dropped</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">     <span class="n">latency</span>   <span class="p">:</span> <span class="n">target</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">percentile</span><span class="o">=</span><span class="mf">100.00</span><span class="o">%</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">64</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Run</span> <span class="n">status</span> <span class="n">group</span> <span class="mi">0</span> <span class="p">(</span><span class="n">all</span> <span class="n">jobs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">   <span class="n">READ</span><span class="p">:</span> <span class="n">bw</span><span class="o">=</span><span class="mf">61.8</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">64.8</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">),</span> <span class="mf">61.8</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="o">-</span><span class="mf">61.8</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">64.8</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="o">-</span><span class="mf">64.8</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">),</span> <span class="n">io</span><span class="o">=</span><span class="mi">1432</span><span class="n">MiB</span> <span class="p">(</span><span class="mi">1502</span><span class="n">MB</span><span class="p">),</span> <span class="n">run</span><span class="o">=</span><span class="mi">23172</span><span class="o">-</span><span class="mi">23172</span><span class="n">msec</span>
</span></span><span class="line"><span class="cl">  <span class="n">WRITE</span><span class="p">:</span> <span class="n">bw</span><span class="o">=</span><span class="mf">26.6</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">27.9</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">),</span> <span class="mf">26.6</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="o">-</span><span class="mf">26.6</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">27.9</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="o">-</span><span class="mf">27.9</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">),</span> <span class="n">io</span><span class="o">=</span><span class="mi">616</span><span class="n">MiB</span> <span class="p">(</span><span class="mi">646</span><span class="n">MB</span><span class="p">),</span> <span class="n">run</span><span class="o">=</span><span class="mi">23172</span><span class="o">-</span><span class="mi">23172</span><span class="n">msec</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Disk</span> <span class="n">stats</span> <span class="p">(</span><span class="n">read</span><span class="o">/</span><span class="n">write</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">  <span class="n">sda</span><span class="p">:</span> <span class="n">ios</span><span class="o">=</span><span class="mi">359202</span><span class="o">/</span><span class="mi">155123</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="mi">299</span><span class="o">/</span><span class="mi">377</span><span class="p">,</span> <span class="n">ticks</span><span class="o">=</span><span class="mi">946305</span><span class="o">/</span><span class="mi">407820</span><span class="p">,</span> <span class="n">in_queue</span><span class="o">=</span><span class="mi">1354596</span><span class="p">,</span> <span class="n">util</span><span class="o">=</span><span class="mf">99.61</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="c1"># fio -ioengine=libaio -bs=4k -direct=1 -buffered=0 -thread -rw=randrw -rwmixread=70 -size=2G -filename=/var/lib/docker/fio.test -name=&#34;EBS 4K randwrite test&#34; -iodepth=64 -runtime=60 </span>
</span></span><span class="line"><span class="cl"><span class="n">EBS</span> <span class="mi">4</span><span class="n">K</span> <span class="n">randwrite</span> <span class="n">test</span><span class="p">:</span> <span class="p">(</span><span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span> <span class="n">rw</span><span class="o">=</span><span class="n">randrw</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="mi">4096</span><span class="n">B</span><span class="o">-</span><span class="mi">4096</span><span class="n">B</span><span class="p">,</span> <span class="p">(</span><span class="n">W</span><span class="p">)</span> <span class="mi">4096</span><span class="n">B</span><span class="o">-</span><span class="mi">4096</span><span class="n">B</span><span class="p">,</span> <span class="p">(</span><span class="n">T</span><span class="p">)</span> <span class="mi">4096</span><span class="n">B</span><span class="o">-</span><span class="mi">4096</span><span class="n">B</span><span class="p">,</span> <span class="n">ioengine</span><span class="o">=</span><span class="n">libaio</span><span class="p">,</span> <span class="n">iodepth</span><span class="o">=</span><span class="mi">64</span>
</span></span><span class="line"><span class="cl"><span class="n">fio</span><span class="o">-</span><span class="mf">3.7</span>
</span></span><span class="line"><span class="cl"><span class="n">Starting</span> <span class="mi">1</span> <span class="n">thread</span>
</span></span><span class="line"><span class="cl"><span class="n">Jobs</span><span class="p">:</span> <span class="mi">1</span> <span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span> <span class="p">[</span><span class="n">m</span><span class="p">(</span><span class="mi">1</span><span class="p">)][</span><span class="mf">95.5</span><span class="o">%</span><span class="p">][</span><span class="n">r</span><span class="o">=</span><span class="mf">57.8</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="p">,</span><span class="n">w</span><span class="o">=</span><span class="mf">25.7</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="p">][</span><span class="n">r</span><span class="o">=</span><span class="mf">14.8</span><span class="n">k</span><span class="p">,</span><span class="n">w</span><span class="o">=</span><span class="mi">6568</span> <span class="n">IOPS</span><span class="p">][</span><span class="n">eta</span> <span class="mi">00</span><span class="n">m</span><span class="p">:</span><span class="mi">01</span><span class="n">s</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl"><span class="n">EBS</span> <span class="mi">4</span><span class="n">K</span> <span class="n">randwrite</span> <span class="n">test</span><span class="p">:</span> <span class="p">(</span><span class="n">groupid</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span> <span class="n">err</span><span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">pid</span><span class="o">=</span><span class="mi">26167</span><span class="p">:</span> <span class="n">Tue</span> <span class="n">Feb</span> <span class="mi">23</span> <span class="mi">14</span><span class="p">:</span><span class="mi">44</span><span class="p">:</span><span class="mi">40</span> <span class="mi">2021</span>
</span></span><span class="line"><span class="cl">   <span class="n">read</span><span class="p">:</span> <span class="n">IOPS</span><span class="o">=</span><span class="mf">16.9</span><span class="n">k</span><span class="p">,</span> <span class="n">BW</span><span class="o">=</span><span class="mf">65.9</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">69.1</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">)(</span><span class="mi">1432</span><span class="n">MiB</span><span class="o">/</span><span class="mi">21730</span><span class="n">msec</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">slat</span> <span class="p">(</span><span class="n">nsec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">1312</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mf">4454.2</span><span class="n">k</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">8489.99</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">15763.97</span>
</span></span><span class="line"><span class="cl">    <span class="n">clat</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">201</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">18856</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">2679.38</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">1720.02</span>
</span></span><span class="line"><span class="cl">     <span class="n">lat</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">206</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">18860</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">2688.03</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">1717.19</span>
</span></span><span class="line"><span class="cl">    <span class="n">clat</span> <span class="n">percentiles</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span>  <span class="mf">1.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">635</span><span class="p">],</span>  <span class="mf">5.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">832</span><span class="p">],</span> <span class="mf">10.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">914</span><span class="p">],</span> <span class="mf">20.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">971</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">30.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">1090</span><span class="p">],</span> <span class="mf">40.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">2114</span><span class="p">],</span> <span class="mf">50.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">2704</span><span class="p">],</span> <span class="mf">60.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">3064</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">70.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">3392</span><span class="p">],</span> <span class="mf">80.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">3851</span><span class="p">],</span> <span class="mf">90.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">4817</span><span class="p">],</span> <span class="mf">95.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">5735</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">99.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">7767</span><span class="p">],</span> <span class="mf">99.50</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">8979</span><span class="p">],</span> <span class="mf">99.90</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">13698</span><span class="p">],</span> <span class="mf">99.95</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">15139</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">99.99</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">16581</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">   <span class="n">bw</span> <span class="p">(</span>  <span class="n">KiB</span><span class="o">/</span><span class="n">s</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">45168</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">127528</span><span class="p">,</span> <span class="n">per</span><span class="o">=</span><span class="mf">100.00</span><span class="o">%</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">67625.19</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">26620.82</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">43</span>
</span></span><span class="line"><span class="cl">   <span class="n">iops</span>        <span class="p">:</span> <span class="nb">min</span><span class="o">=</span><span class="mi">11292</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">31882</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">16906.28</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">6655.20</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">43</span>
</span></span><span class="line"><span class="cl">  <span class="n">write</span><span class="p">:</span> <span class="n">IOPS</span><span class="o">=</span><span class="mi">7254</span><span class="p">,</span> <span class="n">BW</span><span class="o">=</span><span class="mf">28.3</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">29.7</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">)(</span><span class="mi">616</span><span class="n">MiB</span><span class="o">/</span><span class="mi">21730</span><span class="n">msec</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">slat</span> <span class="p">(</span><span class="n">nsec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">1749</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mf">3412.2</span><span class="n">k</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">9816.22</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">14501.05</span>
</span></span><span class="line"><span class="cl">    <span class="n">clat</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">97</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">23473</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">2556.02</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">1980.53</span>
</span></span><span class="line"><span class="cl">     <span class="n">lat</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">107</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">23477</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">2566.01</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">1977.65</span>
</span></span><span class="line"><span class="cl">    <span class="n">clat</span> <span class="n">percentiles</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span>  <span class="mf">1.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">277</span><span class="p">],</span>  <span class="mf">5.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">486</span><span class="p">],</span> <span class="mf">10.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">693</span><span class="p">],</span> <span class="mf">20.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">824</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">30.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">881</span><span class="p">],</span> <span class="mf">40.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">1205</span><span class="p">],</span> <span class="mf">50.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">2442</span><span class="p">],</span> <span class="mf">60.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">2868</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">70.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">3326</span><span class="p">],</span> <span class="mf">80.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">3949</span><span class="p">],</span> <span class="mf">90.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">5080</span><span class="p">],</span> <span class="mf">95.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">6128</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">99.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">8717</span><span class="p">],</span> <span class="mf">99.50</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">10159</span><span class="p">],</span> <span class="mf">99.90</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">14484</span><span class="p">],</span> <span class="mf">99.95</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">15926</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">99.99</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">18744</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">   <span class="n">bw</span> <span class="p">(</span>  <span class="n">KiB</span><span class="o">/</span><span class="n">s</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">19360</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">55040</span><span class="p">,</span> <span class="n">per</span><span class="o">=</span><span class="mf">100.00</span><span class="o">%</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">29064.05</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">11373.59</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">43</span>
</span></span><span class="line"><span class="cl">   <span class="n">iops</span>        <span class="p">:</span> <span class="nb">min</span><span class="o">=</span> <span class="mi">4840</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">13760</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">7266.00</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">2843.41</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">43</span>
</span></span><span class="line"><span class="cl">  <span class="n">lat</span> <span class="p">(</span><span class="n">usec</span><span class="p">)</span>   <span class="p">:</span> <span class="mi">100</span><span class="o">=</span><span class="mf">0.01</span><span class="o">%</span><span class="p">,</span> <span class="mi">250</span><span class="o">=</span><span class="mf">0.17</span><span class="o">%</span><span class="p">,</span> <span class="mi">500</span><span class="o">=</span><span class="mf">1.66</span><span class="o">%</span><span class="p">,</span> <span class="mi">750</span><span class="o">=</span><span class="mf">3.74</span><span class="o">%</span><span class="p">,</span> <span class="mi">1000</span><span class="o">=</span><span class="mf">22.57</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">  <span class="n">lat</span> <span class="p">(</span><span class="n">msec</span><span class="p">)</span>   <span class="p">:</span> <span class="mi">2</span><span class="o">=</span><span class="mf">12.66</span><span class="o">%</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="mf">40.62</span><span class="o">%</span><span class="p">,</span> <span class="mi">10</span><span class="o">=</span><span class="mf">18.20</span><span class="o">%</span><span class="p">,</span> <span class="mi">20</span><span class="o">=</span><span class="mf">0.38</span><span class="o">%</span><span class="p">,</span> <span class="mi">50</span><span class="o">=</span><span class="mf">0.01</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">  <span class="n">cpu</span>          <span class="p">:</span> <span class="n">usr</span><span class="o">=</span><span class="mf">4.17</span><span class="o">%</span><span class="p">,</span> <span class="n">sys</span><span class="o">=</span><span class="mf">22.27</span><span class="o">%</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="mi">14314</span><span class="p">,</span> <span class="n">majf</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">minf</span><span class="o">=</span><span class="mi">7</span>
</span></span><span class="line"><span class="cl">  <span class="n">IO</span> <span class="n">depths</span>    <span class="p">:</span> <span class="mi">1</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">2</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">8</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">16</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">32</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="o">&gt;=</span><span class="mi">64</span><span class="o">=</span><span class="mf">100.0</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">     <span class="n">submit</span>    <span class="p">:</span> <span class="mi">0</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="mf">100.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">8</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">16</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">32</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">64</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="o">&gt;=</span><span class="mi">64</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">     <span class="n">complete</span>  <span class="p">:</span> <span class="mi">0</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="mf">100.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">8</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">16</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">32</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">64</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="o">&gt;=</span><span class="mi">64</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">     <span class="n">issued</span> <span class="n">rwts</span><span class="p">:</span> <span class="n">total</span><span class="o">=</span><span class="mi">366638</span><span class="p">,</span><span class="mi">157650</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="n">short</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="n">dropped</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">     <span class="n">latency</span>   <span class="p">:</span> <span class="n">target</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">percentile</span><span class="o">=</span><span class="mf">100.00</span><span class="o">%</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">64</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Run</span> <span class="n">status</span> <span class="n">group</span> <span class="mi">0</span> <span class="p">(</span><span class="n">all</span> <span class="n">jobs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">   <span class="n">READ</span><span class="p">:</span> <span class="n">bw</span><span class="o">=</span><span class="mf">65.9</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">69.1</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">),</span> <span class="mf">65.9</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="o">-</span><span class="mf">65.9</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">69.1</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="o">-</span><span class="mf">69.1</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">),</span> <span class="n">io</span><span class="o">=</span><span class="mi">1432</span><span class="n">MiB</span> <span class="p">(</span><span class="mi">1502</span><span class="n">MB</span><span class="p">),</span> <span class="n">run</span><span class="o">=</span><span class="mi">21730</span><span class="o">-</span><span class="mi">21730</span><span class="n">msec</span>
</span></span><span class="line"><span class="cl">  <span class="n">WRITE</span><span class="p">:</span> <span class="n">bw</span><span class="o">=</span><span class="mf">28.3</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">29.7</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">),</span> <span class="mf">28.3</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="o">-</span><span class="mf">28.3</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">29.7</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="o">-</span><span class="mf">29.7</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">),</span> <span class="n">io</span><span class="o">=</span><span class="mi">616</span><span class="n">MiB</span> <span class="p">(</span><span class="mi">646</span><span class="n">MB</span><span class="p">),</span> <span class="n">run</span><span class="o">=</span><span class="mi">21730</span><span class="o">-</span><span class="mi">21730</span><span class="n">msec</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Disk</span> <span class="n">stats</span> <span class="p">(</span><span class="n">read</span><span class="o">/</span><span class="n">write</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">  <span class="n">sda</span><span class="p">:</span> <span class="n">ios</span><span class="o">=</span><span class="mi">364744</span><span class="o">/</span><span class="mi">157621</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="mi">779</span><span class="o">/</span><span class="mi">473</span><span class="p">,</span> <span class="n">ticks</span><span class="o">=</span><span class="mi">851759</span><span class="o">/</span><span class="mi">352008</span><span class="p">,</span> <span class="n">in_queue</span><span class="o">=</span><span class="mi">1204024</span><span class="p">,</span> <span class="n">util</span><span class="o">=</span><span class="mf">99.61</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># fio -ioengine=libaio -bs=4k -direct=1 -buffered=1 -thread -rw=randrw -rwmixread=70 -size=2G -filename=/var/lib/docker/fio.test -name=&#34;EBS 4K randwrite test&#34; -iodepth=64 -runtime=60 </span>
</span></span><span class="line"><span class="cl"><span class="n">EBS</span> <span class="mi">4</span><span class="n">K</span> <span class="n">randwrite</span> <span class="n">test</span><span class="p">:</span> <span class="p">(</span><span class="n">g</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span> <span class="n">rw</span><span class="o">=</span><span class="n">randrw</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="mi">4096</span><span class="n">B</span><span class="o">-</span><span class="mi">4096</span><span class="n">B</span><span class="p">,</span> <span class="p">(</span><span class="n">W</span><span class="p">)</span> <span class="mi">4096</span><span class="n">B</span><span class="o">-</span><span class="mi">4096</span><span class="n">B</span><span class="p">,</span> <span class="p">(</span><span class="n">T</span><span class="p">)</span> <span class="mi">4096</span><span class="n">B</span><span class="o">-</span><span class="mi">4096</span><span class="n">B</span><span class="p">,</span> <span class="n">ioengine</span><span class="o">=</span><span class="n">libaio</span><span class="p">,</span> <span class="n">iodepth</span><span class="o">=</span><span class="mi">64</span>
</span></span><span class="line"><span class="cl"><span class="n">fio</span><span class="o">-</span><span class="mf">3.7</span>
</span></span><span class="line"><span class="cl"><span class="n">Starting</span> <span class="mi">1</span> <span class="n">thread</span>
</span></span><span class="line"><span class="cl"><span class="n">Jobs</span><span class="p">:</span> <span class="mi">1</span> <span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span> <span class="p">[</span><span class="n">m</span><span class="p">(</span><span class="mi">1</span><span class="p">)][</span><span class="mf">100.0</span><span class="o">%</span><span class="p">][</span><span class="n">r</span><span class="o">=</span><span class="mf">15.9</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="p">,</span><span class="n">w</span><span class="o">=</span><span class="mi">7308</span><span class="n">KiB</span><span class="o">/</span><span class="n">s</span><span class="p">][</span><span class="n">r</span><span class="o">=</span><span class="mi">4081</span><span class="p">,</span><span class="n">w</span><span class="o">=</span><span class="mi">1827</span> <span class="n">IOPS</span><span class="p">][</span><span class="n">eta</span> <span class="mi">00</span><span class="n">m</span><span class="p">:</span><span class="mi">00</span><span class="n">s</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">EBS</span> <span class="mi">4</span><span class="n">K</span> <span class="n">randwrite</span> <span class="n">test</span><span class="p">:</span> <span class="p">(</span><span class="n">groupid</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span> <span class="n">err</span><span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">pid</span><span class="o">=</span><span class="mi">31560</span><span class="p">:</span> <span class="n">Tue</span> <span class="n">Feb</span> <span class="mi">23</span> <span class="mi">14</span><span class="p">:</span><span class="mi">46</span><span class="p">:</span><span class="mi">10</span> <span class="mi">2021</span>
</span></span><span class="line"><span class="cl">   <span class="n">read</span><span class="p">:</span> <span class="n">IOPS</span><span class="o">=</span><span class="mi">4312</span><span class="p">,</span> <span class="n">BW</span><span class="o">=</span><span class="mf">16.8</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">17.7</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">)(</span><span class="mi">1011</span><span class="n">MiB</span><span class="o">/</span><span class="mi">60001</span><span class="n">msec</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">slat</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">63</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">14320</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">216.76</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">430.61</span>
</span></span><span class="line"><span class="cl">    <span class="n">clat</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">778861</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">10254.92</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">22345.40</span>
</span></span><span class="line"><span class="cl">     <span class="n">lat</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">1900</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">782277</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">10472.16</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">22657.06</span>
</span></span><span class="line"><span class="cl">    <span class="n">clat</span> <span class="n">percentiles</span> <span class="p">(</span><span class="n">msec</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span>  <span class="mf">1.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">6</span><span class="p">],</span>  <span class="mf">5.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">6</span><span class="p">],</span> <span class="mf">10.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">6</span><span class="p">],</span> <span class="mf">20.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">7</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">30.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">7</span><span class="p">],</span> <span class="mf">40.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">7</span><span class="p">],</span> <span class="mf">50.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">7</span><span class="p">],</span> <span class="mf">60.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">7</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">70.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">8</span><span class="p">],</span> <span class="mf">80.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">8</span><span class="p">],</span> <span class="mf">90.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">8</span><span class="p">],</span> <span class="mf">95.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>   <span class="mi">11</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">99.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">107</span><span class="p">],</span> <span class="mf">99.50</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">113</span><span class="p">],</span> <span class="mf">99.90</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">132</span><span class="p">],</span> <span class="mf">99.95</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">197</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">99.99</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">760</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">   <span class="n">bw</span> <span class="p">(</span>  <span class="n">KiB</span><span class="o">/</span><span class="n">s</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span>  <span class="mi">168</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">29784</span><span class="p">,</span> <span class="n">per</span><span class="o">=</span><span class="mf">100.00</span><span class="o">%</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">17390.92</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">10932.90</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">119</span>
</span></span><span class="line"><span class="cl">   <span class="n">iops</span>        <span class="p">:</span> <span class="nb">min</span><span class="o">=</span>   <span class="mi">42</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span> <span class="mi">7446</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">4347.71</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">2733.21</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">119</span>
</span></span><span class="line"><span class="cl">  <span class="n">write</span><span class="p">:</span> <span class="n">IOPS</span><span class="o">=</span><span class="mi">1852</span><span class="p">,</span> <span class="n">BW</span><span class="o">=</span><span class="mi">7410</span><span class="n">KiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mi">7588</span><span class="n">kB</span><span class="o">/</span><span class="n">s</span><span class="p">)(</span><span class="mi">434</span><span class="n">MiB</span><span class="o">/</span><span class="mi">60001</span><span class="n">msec</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">slat</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">666432</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">23.59</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">2745.39</span>
</span></span><span class="line"><span class="cl">    <span class="n">clat</span> <span class="p">(</span><span class="n">msec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">781</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">10.14</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">20.50</span>
</span></span><span class="line"><span class="cl">     <span class="n">lat</span> <span class="p">(</span><span class="n">msec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">781</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">10.16</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">20.72</span>
</span></span><span class="line"><span class="cl">    <span class="n">clat</span> <span class="n">percentiles</span> <span class="p">(</span><span class="n">msec</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span>  <span class="mf">1.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">6</span><span class="p">],</span>  <span class="mf">5.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">6</span><span class="p">],</span> <span class="mf">10.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">6</span><span class="p">],</span> <span class="mf">20.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">7</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">30.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">7</span><span class="p">],</span> <span class="mf">40.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">7</span><span class="p">],</span> <span class="mf">50.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">7</span><span class="p">],</span> <span class="mf">60.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">7</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">70.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">7</span><span class="p">],</span> <span class="mf">80.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">8</span><span class="p">],</span> <span class="mf">90.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>    <span class="mi">8</span><span class="p">],</span> <span class="mf">95.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>   <span class="mi">11</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">99.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">107</span><span class="p">],</span> <span class="mf">99.50</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">113</span><span class="p">],</span> <span class="mf">99.90</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">131</span><span class="p">],</span> <span class="mf">99.95</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">157</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">     <span class="o">|</span> <span class="mf">99.99</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">760</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">   <span class="n">bw</span> <span class="p">(</span>  <span class="n">KiB</span><span class="o">/</span><span class="n">s</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span>   <span class="mi">80</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">12328</span><span class="p">,</span> <span class="n">per</span><span class="o">=</span><span class="mf">100.00</span><span class="o">%</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">7469.53</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">4696.69</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">119</span>
</span></span><span class="line"><span class="cl">   <span class="n">iops</span>        <span class="p">:</span> <span class="nb">min</span><span class="o">=</span>   <span class="mi">20</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span> <span class="mi">3082</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">1867.34</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">1174.19</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">119</span>
</span></span><span class="line"><span class="cl">  <span class="n">lat</span> <span class="p">(</span><span class="n">usec</span><span class="p">)</span>   <span class="p">:</span> <span class="mi">10</span><span class="o">=</span><span class="mf">0.01</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">  <span class="n">lat</span> <span class="p">(</span><span class="n">msec</span><span class="p">)</span>   <span class="p">:</span> <span class="mi">2</span><span class="o">=</span><span class="mf">0.01</span><span class="o">%</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="mf">0.01</span><span class="o">%</span><span class="p">,</span> <span class="mi">10</span><span class="o">=</span><span class="mf">94.64</span><span class="o">%</span><span class="p">,</span> <span class="mi">20</span><span class="o">=</span><span class="mf">1.78</span><span class="o">%</span><span class="p">,</span> <span class="mi">50</span><span class="o">=</span><span class="mf">0.11</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">  <span class="n">lat</span> <span class="p">(</span><span class="n">msec</span><span class="p">)</span>   <span class="p">:</span> <span class="mi">100</span><span class="o">=</span><span class="mf">1.80</span><span class="o">%</span><span class="p">,</span> <span class="mi">250</span><span class="o">=</span><span class="mf">1.63</span><span class="o">%</span><span class="p">,</span> <span class="mi">500</span><span class="o">=</span><span class="mf">0.01</span><span class="o">%</span><span class="p">,</span> <span class="mi">750</span><span class="o">=</span><span class="mf">0.02</span><span class="o">%</span><span class="p">,</span> <span class="mi">1000</span><span class="o">=</span><span class="mf">0.01</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">  <span class="n">cpu</span>          <span class="p">:</span> <span class="n">usr</span><span class="o">=</span><span class="mf">2.51</span><span class="o">%</span><span class="p">,</span> <span class="n">sys</span><span class="o">=</span><span class="mf">10.98</span><span class="o">%</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="mi">260210</span><span class="p">,</span> <span class="n">majf</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">minf</span><span class="o">=</span><span class="mi">7</span>
</span></span><span class="line"><span class="cl">  <span class="n">IO</span> <span class="n">depths</span>    <span class="p">:</span> <span class="mi">1</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">2</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">8</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">16</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">32</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="o">&gt;=</span><span class="mi">64</span><span class="o">=</span><span class="mf">100.0</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">     <span class="n">submit</span>    <span class="p">:</span> <span class="mi">0</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="mf">100.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">8</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">16</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">32</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">64</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="o">&gt;=</span><span class="mi">64</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">     <span class="n">complete</span>  <span class="p">:</span> <span class="mi">0</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="mf">100.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">8</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">16</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">32</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">64</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="o">&gt;=</span><span class="mi">64</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span>
</span></span><span class="line"><span class="cl">     <span class="n">issued</span> <span class="n">rwts</span><span class="p">:</span> <span class="n">total</span><span class="o">=</span><span class="mi">258768</span><span class="p">,</span><span class="mi">111147</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="n">short</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="n">dropped</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">     <span class="n">latency</span>   <span class="p">:</span> <span class="n">target</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">percentile</span><span class="o">=</span><span class="mf">100.00</span><span class="o">%</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">64</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Run</span> <span class="n">status</span> <span class="n">group</span> <span class="mi">0</span> <span class="p">(</span><span class="n">all</span> <span class="n">jobs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">   <span class="n">READ</span><span class="p">:</span> <span class="n">bw</span><span class="o">=</span><span class="mf">16.8</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">17.7</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">),</span> <span class="mf">16.8</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="o">-</span><span class="mf">16.8</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">17.7</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="o">-</span><span class="mf">17.7</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">),</span> <span class="n">io</span><span class="o">=</span><span class="mi">1011</span><span class="n">MiB</span> <span class="p">(</span><span class="mi">1060</span><span class="n">MB</span><span class="p">),</span> <span class="n">run</span><span class="o">=</span><span class="mi">60001</span><span class="o">-</span><span class="mi">60001</span><span class="n">msec</span>
</span></span><span class="line"><span class="cl">  <span class="n">WRITE</span><span class="p">:</span> <span class="n">bw</span><span class="o">=</span><span class="mi">7410</span><span class="n">KiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mi">7588</span><span class="n">kB</span><span class="o">/</span><span class="n">s</span><span class="p">),</span> <span class="mi">7410</span><span class="n">KiB</span><span class="o">/</span><span class="n">s</span><span class="o">-</span><span class="mi">7410</span><span class="n">KiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mi">7588</span><span class="n">kB</span><span class="o">/</span><span class="n">s</span><span class="o">-</span><span class="mi">7588</span><span class="n">kB</span><span class="o">/</span><span class="n">s</span><span class="p">),</span> <span class="n">io</span><span class="o">=</span><span class="mi">434</span><span class="n">MiB</span> <span class="p">(</span><span class="mi">455</span><span class="n">MB</span><span class="p">),</span> <span class="n">run</span><span class="o">=</span><span class="mi">60001</span><span class="o">-</span><span class="mi">60001</span><span class="n">msec</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Disk</span> <span class="n">stats</span> <span class="p">(</span><span class="n">read</span><span class="o">/</span><span class="n">write</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">  <span class="n">sda</span><span class="p">:</span> <span class="n">ios</span><span class="o">=</span><span class="mi">258717</span><span class="o">/</span><span class="mi">89376</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="mi">0</span><span class="o">/</span><span class="mi">735</span><span class="p">,</span> <span class="n">ticks</span><span class="o">=</span><span class="mi">52540</span><span class="o">/</span><span class="mi">564186</span><span class="p">,</span> <span class="n">in_queue</span><span class="o">=</span><span class="mi">616999</span><span class="p">,</span> <span class="n">util</span><span class="o">=</span><span class="mf">90.07</span><span class="o">%</span></span></span></code></pre>
</div>
<h3 id="essd磁盘测试数据" class="headerLink">
    <a href="#essd%e7%a3%81%e7%9b%98%e6%b5%8b%e8%af%95%e6%95%b0%e6%8d%ae" class="header-mark"></a>ESSD磁盘测试数据</h3><p>这是一块虚拟的阿里云网络盘，不能算完整意义的SSD（承诺IOPS 4200），数据仅供参考，磁盘概况：</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-9" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">$df -lh
</span></span><span class="line"><span class="cl">Filesystem      Size  Used Avail Use% Mounted on
</span></span><span class="line"><span class="cl">/dev/vda1        99G   30G   65G  32% /
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$cat /sys/block/vda/queue/rotational
</span></span><span class="line"><span class="cl">1</span></span></code></pre>
</div>
<p>测试数据：</p>
<div class="code-block highlight is-closed show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-10" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">$fio -ioengine=libaio -bs=4k -direct=1 -buffered=1  -thread -rw=randrw  -size=4G -filename=/home/admin/fio.test -name=&#34;EBS 4K randwrite test&#34; -iodepth=64 -runtime=60
</span></span><span class="line"><span class="cl">EBS 4K randwrite test: (g=0): rw=randrw, bs=(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine=libaio, iodepth=64
</span></span><span class="line"><span class="cl">fio-3.1
</span></span><span class="line"><span class="cl">Starting 1 thread
</span></span><span class="line"><span class="cl">Jobs: 1 (f=1): [m(1)][100.0%][r=10.8MiB/s,w=11.2MiB/s][r=2757,w=2876 IOPS][eta 00m:00s]
</span></span><span class="line"><span class="cl">EBS 4K randwrite test: (groupid=0, jobs=1): err= 0: pid=25641: Tue Feb 23 16:35:19 2021
</span></span><span class="line"><span class="cl">   read: IOPS=2136, BW=8545KiB/s (8750kB/s)(501MiB/60001msec)
</span></span><span class="line"><span class="cl">    slat (usec): min=190, max=830992, avg=457.20, stdev=3088.80
</span></span><span class="line"><span class="cl">    clat (nsec): min=1792, max=1721.3M, avg=14657528.60, stdev=63188988.75
</span></span><span class="line"><span class="cl">     lat (usec): min=344, max=1751.1k, avg=15115.20, stdev=65165.80
</span></span><span class="line"><span class="cl">    clat percentiles (msec):
</span></span><span class="line"><span class="cl">     |  1.00th=[    8],  5.00th=[    9], 10.00th=[    9], 20.00th=[   10],
</span></span><span class="line"><span class="cl">     | 30.00th=[   10], 40.00th=[   11], 50.00th=[   11], 60.00th=[   11],
</span></span><span class="line"><span class="cl">     | 70.00th=[   12], 80.00th=[   12], 90.00th=[   13], 95.00th=[   14],
</span></span><span class="line"><span class="cl">     | 99.00th=[   17], 99.50th=[   53], 99.90th=[ 1028], 99.95th=[ 1167],
</span></span><span class="line"><span class="cl">     | 99.99th=[ 1653]
</span></span><span class="line"><span class="cl">   bw (  KiB/s): min=   56, max=12648, per=100.00%, avg=8598.92, stdev=5289.40, samples=118
</span></span><span class="line"><span class="cl">   iops        : min=   14, max= 3162, avg=2149.73, stdev=1322.35, samples=118
</span></span><span class="line"><span class="cl">  write: IOPS=2137, BW=8548KiB/s (8753kB/s)(501MiB/60001msec)
</span></span><span class="line"><span class="cl">    slat (usec): min=2, max=181, avg= 6.67, stdev= 7.22
</span></span><span class="line"><span class="cl">    clat (usec): min=628, max=1721.1k, avg=14825.32, stdev=65017.66
</span></span><span class="line"><span class="cl">     lat (usec): min=636, max=1721.1k, avg=14832.10, stdev=65018.10
</span></span><span class="line"><span class="cl">    clat percentiles (msec):
</span></span><span class="line"><span class="cl">     |  1.00th=[    8],  5.00th=[    9], 10.00th=[    9], 20.00th=[   10],
</span></span><span class="line"><span class="cl">     | 30.00th=[   10], 40.00th=[   11], 50.00th=[   11], 60.00th=[   11],
</span></span><span class="line"><span class="cl">     | 70.00th=[   12], 80.00th=[   12], 90.00th=[   13], 95.00th=[   14],
</span></span><span class="line"><span class="cl">     | 99.00th=[   17], 99.50th=[   53], 99.90th=[ 1045], 99.95th=[ 1200],
</span></span><span class="line"><span class="cl">     | 99.99th=[ 1687]
</span></span><span class="line"><span class="cl">   bw (  KiB/s): min=   72, max=13304, per=100.00%, avg=8602.99, stdev=5296.31, samples=118
</span></span><span class="line"><span class="cl">   iops        : min=   18, max= 3326, avg=2150.75, stdev=1324.08, samples=118
</span></span><span class="line"><span class="cl">  lat (usec)   : 2=0.01%, 500=0.01%, 750=0.01%
</span></span><span class="line"><span class="cl">  lat (msec)   : 2=0.01%, 4=0.01%, 10=37.85%, 20=61.53%, 50=0.10%
</span></span><span class="line"><span class="cl">  lat (msec)   : 100=0.06%, 250=0.03%, 500=0.01%, 750=0.03%, 1000=0.25%
</span></span><span class="line"><span class="cl">  lat (msec)   : 2000=0.14%
</span></span><span class="line"><span class="cl">  cpu          : usr=0.70%, sys=4.01%, ctx=135029, majf=0, minf=4
</span></span><span class="line"><span class="cl">  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=0.1%, 32=0.1%, &gt;=64=100.0%
</span></span><span class="line"><span class="cl">     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%
</span></span><span class="line"><span class="cl">     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.1%, &gt;=64=0.0%
</span></span><span class="line"><span class="cl">     issued rwt: total=128180,128223,0, short=0,0,0, dropped=0,0,0
</span></span><span class="line"><span class="cl">     latency   : target=0, window=0, percentile=100.00%, depth=64
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Run status group 0 (all jobs):
</span></span><span class="line"><span class="cl">   READ: bw=8545KiB/s (8750kB/s), 8545KiB/s-8545KiB/s (8750kB/s-8750kB/s), io=501MiB (525MB), run=60001-60001msec
</span></span><span class="line"><span class="cl">  WRITE: bw=8548KiB/s (8753kB/s), 8548KiB/s-8548KiB/s (8753kB/s-8753kB/s), io=501MiB (525MB), run=60001-60001msec
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Disk stats (read/write):
</span></span><span class="line"><span class="cl">  vda: ios=127922/87337, merge=0/237, ticks=55122/4269885, in_queue=2209125, util=94.29%
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$fio -ioengine=libaio -bs=4k -direct=1 -buffered=0  -thread -rw=randrw  -size=4G -filename=/home/admin/fio.test -name=&#34;EBS 4K randwrite test&#34; -iodepth=64 -runtime=60
</span></span><span class="line"><span class="cl">EBS 4K randwrite test: (g=0): rw=randrw, bs=(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine=libaio, iodepth=64
</span></span><span class="line"><span class="cl">fio-3.1
</span></span><span class="line"><span class="cl">Starting 1 thread
</span></span><span class="line"><span class="cl">Jobs: 1 (f=1): [m(1)][100.0%][r=9680KiB/s,w=9712KiB/s][r=2420,w=2428 IOPS][eta 00m:00s]
</span></span><span class="line"><span class="cl">EBS 4K randwrite test: (groupid=0, jobs=1): err= 0: pid=25375: Tue Feb 23 16:33:03 2021
</span></span><span class="line"><span class="cl">   read: IOPS=2462, BW=9849KiB/s (10.1MB/s)(577MiB/60011msec)
</span></span><span class="line"><span class="cl">    slat (nsec): min=1558, max=10663k, avg=5900.28, stdev=46286.64
</span></span><span class="line"><span class="cl">    clat (usec): min=290, max=93493, avg=13054.57, stdev=4301.89
</span></span><span class="line"><span class="cl">     lat (usec): min=332, max=93497, avg=13060.60, stdev=4301.68
</span></span><span class="line"><span class="cl">    clat percentiles (usec):
</span></span><span class="line"><span class="cl">     |  1.00th=[ 1844],  5.00th=[10159], 10.00th=[10290], 20.00th=[10421],
</span></span><span class="line"><span class="cl">     | 30.00th=[10552], 40.00th=[10552], 50.00th=[10683], 60.00th=[10814],
</span></span><span class="line"><span class="cl">     | 70.00th=[18482], 80.00th=[19006], 90.00th=[19006], 95.00th=[19268],
</span></span><span class="line"><span class="cl">     | 99.00th=[19530], 99.50th=[19792], 99.90th=[29492], 99.95th=[30278],
</span></span><span class="line"><span class="cl">     | 99.99th=[43779]
</span></span><span class="line"><span class="cl">   bw (  KiB/s): min= 9128, max=30392, per=100.00%, avg=9850.12, stdev=1902.00, samples=120
</span></span><span class="line"><span class="cl">   iops        : min= 2282, max= 7598, avg=2462.52, stdev=475.50, samples=120
</span></span><span class="line"><span class="cl">  write: IOPS=2465, BW=9864KiB/s (10.1MB/s)(578MiB/60011msec)
</span></span><span class="line"><span class="cl">    slat (usec): min=2, max=10586, avg= 6.92, stdev=67.34
</span></span><span class="line"><span class="cl">    clat (usec): min=240, max=69922, avg=12902.33, stdev=4307.92
</span></span><span class="line"><span class="cl">     lat (usec): min=244, max=69927, avg=12909.37, stdev=4307.03
</span></span><span class="line"><span class="cl">    clat percentiles (usec):
</span></span><span class="line"><span class="cl">     |  1.00th=[ 1729],  5.00th=[10159], 10.00th=[10290], 20.00th=[10290],
</span></span><span class="line"><span class="cl">     | 30.00th=[10421], 40.00th=[10421], 50.00th=[10552], 60.00th=[10683],
</span></span><span class="line"><span class="cl">     | 70.00th=[18220], 80.00th=[18744], 90.00th=[19006], 95.00th=[19006],
</span></span><span class="line"><span class="cl">     | 99.00th=[19268], 99.50th=[19530], 99.90th=[21103], 99.95th=[35390],
</span></span><span class="line"><span class="cl">     | 99.99th=[50594]
</span></span><span class="line"><span class="cl">   bw (  KiB/s): min= 8496, max=31352, per=100.00%, avg=9862.92, stdev=1991.48, samples=120
</span></span><span class="line"><span class="cl">   iops        : min= 2124, max= 7838, avg=2465.72, stdev=497.87, samples=120
</span></span><span class="line"><span class="cl">  lat (usec)   : 250=0.01%, 500=0.03%, 750=0.02%, 1000=0.02%
</span></span><span class="line"><span class="cl">  lat (msec)   : 2=1.70%, 4=0.41%, 10=1.25%, 20=96.22%, 50=0.34%
</span></span><span class="line"><span class="cl">  lat (msec)   : 100=0.01%
</span></span><span class="line"><span class="cl">  cpu          : usr=0.89%, sys=4.09%, ctx=206337, majf=0, minf=4
</span></span><span class="line"><span class="cl">  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=0.1%, 32=0.1%, &gt;=64=100.0%
</span></span><span class="line"><span class="cl">     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%
</span></span><span class="line"><span class="cl">     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.1%, &gt;=64=0.0%
</span></span><span class="line"><span class="cl">     issued rwt: total=147768,147981,0, short=0,0,0, dropped=0,0,0
</span></span><span class="line"><span class="cl">     latency   : target=0, window=0, percentile=100.00%, depth=64
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Run status group 0 (all jobs):
</span></span><span class="line"><span class="cl">   READ: bw=9849KiB/s (10.1MB/s), 9849KiB/s-9849KiB/s (10.1MB/s-10.1MB/s), io=577MiB (605MB), run=60011-60011msec
</span></span><span class="line"><span class="cl">  WRITE: bw=9864KiB/s (10.1MB/s), 9864KiB/s-9864KiB/s (10.1MB/s-10.1MB/s), io=578MiB (606MB), run=60011-60011msec
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Disk stats (read/write):
</span></span><span class="line"><span class="cl">  vda: ios=147515/148154, merge=0/231, ticks=1922378/1915751, in_queue=3780605, util=98.46%
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">$fio -ioengine=libaio -bs=4k -direct=0 -buffered=1  -thread -rw=randrw  -size=4G -filename=/home/admin/fio.test -name=&#34;EBS 4K randwrite test&#34; -iodepth=64 -runtime=60
</span></span><span class="line"><span class="cl">EBS 4K randwrite test: (g=0): rw=randrw, bs=(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine=libaio, iodepth=64
</span></span><span class="line"><span class="cl">fio-3.1
</span></span><span class="line"><span class="cl">Starting 1 thread
</span></span><span class="line"><span class="cl">Jobs: 1 (f=1): [m(1)][100.0%][r=132KiB/s,w=148KiB/s][r=33,w=37 IOPS][eta 00m:00s]
</span></span><span class="line"><span class="cl">EBS 4K randwrite test: (groupid=0, jobs=1): err= 0: pid=25892: Tue Feb 23 16:37:41 2021
</span></span><span class="line"><span class="cl">   read: IOPS=1987, BW=7949KiB/s (8140kB/s)(467MiB/60150msec)
</span></span><span class="line"><span class="cl">    slat (usec): min=192, max=599873, avg=479.26, stdev=2917.52
</span></span><span class="line"><span class="cl">    clat (usec): min=15, max=1975.6k, avg=16004.22, stdev=76024.60
</span></span><span class="line"><span class="cl">     lat (msec): min=5, max=2005, avg=16.48, stdev=78.00
</span></span><span class="line"><span class="cl">    clat percentiles (msec):
</span></span><span class="line"><span class="cl">     |  1.00th=[    8],  5.00th=[    9], 10.00th=[    9], 20.00th=[   10],
</span></span><span class="line"><span class="cl">     | 30.00th=[   10], 40.00th=[   11], 50.00th=[   11], 60.00th=[   11],
</span></span><span class="line"><span class="cl">     | 70.00th=[   12], 80.00th=[   12], 90.00th=[   13], 95.00th=[   14],
</span></span><span class="line"><span class="cl">     | 99.00th=[   19], 99.50th=[  317], 99.90th=[ 1133], 99.95th=[ 1435],
</span></span><span class="line"><span class="cl">     | 99.99th=[ 1871]
</span></span><span class="line"><span class="cl">   bw (  KiB/s): min=   32, max=12672, per=100.00%, avg=8034.08, stdev=5399.63, samples=119
</span></span><span class="line"><span class="cl">   iops        : min=    8, max= 3168, avg=2008.52, stdev=1349.91, samples=119
</span></span><span class="line"><span class="cl">  write: IOPS=1984, BW=7937KiB/s (8127kB/s)(466MiB/60150msec)
</span></span><span class="line"><span class="cl">    slat (usec): min=2, max=839634, avg=18.39, stdev=2747.10
</span></span><span class="line"><span class="cl">    clat (msec): min=5, max=1975, avg=15.64, stdev=73.06
</span></span><span class="line"><span class="cl">     lat (msec): min=5, max=1975, avg=15.66, stdev=73.28
</span></span><span class="line"><span class="cl">    clat percentiles (msec):
</span></span><span class="line"><span class="cl">     |  1.00th=[    8],  5.00th=[    9], 10.00th=[    9], 20.00th=[   10],
</span></span><span class="line"><span class="cl">     | 30.00th=[   10], 40.00th=[   11], 50.00th=[   11], 60.00th=[   11],
</span></span><span class="line"><span class="cl">     | 70.00th=[   12], 80.00th=[   12], 90.00th=[   13], 95.00th=[   14],
</span></span><span class="line"><span class="cl">     | 99.00th=[   18], 99.50th=[  153], 99.90th=[ 1116], 99.95th=[ 1435],
</span></span><span class="line"><span class="cl">     | 99.99th=[ 1921]
</span></span><span class="line"><span class="cl">   bw (  KiB/s): min=   24, max=13160, per=100.00%, avg=8021.18, stdev=5405.12, samples=119
</span></span><span class="line"><span class="cl">   iops        : min=    6, max= 3290, avg=2005.29, stdev=1351.28, samples=119
</span></span><span class="line"><span class="cl">  lat (usec)   : 20=0.01%
</span></span><span class="line"><span class="cl">  lat (msec)   : 10=36.51%, 20=62.63%, 50=0.21%, 100=0.12%, 250=0.05%
</span></span><span class="line"><span class="cl">  lat (msec)   : 500=0.02%, 750=0.02%, 1000=0.19%, 2000=0.26%
</span></span><span class="line"><span class="cl">  cpu          : usr=0.62%, sys=4.04%, ctx=125974, majf=0, minf=3
</span></span><span class="line"><span class="cl">  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=0.1%, 32=0.1%, &gt;=64=100.0%
</span></span><span class="line"><span class="cl">     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%
</span></span><span class="line"><span class="cl">     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.1%, &gt;=64=0.0%
</span></span><span class="line"><span class="cl">     issued rwt: total=119533,119347,0, short=0,0,0, dropped=0,0,0
</span></span><span class="line"><span class="cl">     latency   : target=0, window=0, percentile=100.00%, depth=64
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Run status group 0 (all jobs):
</span></span><span class="line"><span class="cl">   READ: bw=7949KiB/s (8140kB/s), 7949KiB/s-7949KiB/s (8140kB/s-8140kB/s), io=467MiB (490MB), run=60150-60150msec
</span></span><span class="line"><span class="cl">  WRITE: bw=7937KiB/s (8127kB/s), 7937KiB/s-7937KiB/s (8127kB/s-8127kB/s), io=466MiB (489MB), run=60150-60150msec
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Disk stats (read/write):
</span></span><span class="line"><span class="cl">  vda: ios=119533/108186, merge=0/214, ticks=54093/4937255, in_queue=2525052, util=93.99%
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">$fio -ioengine=libaio -bs=4k -direct=0 -buffered=0  -thread -rw=randrw  -size=4G -filename=/home/admin/fio.test -name=&#34;EBS 4K randwrite test&#34; -iodepth=64 -runtime=60
</span></span><span class="line"><span class="cl">EBS 4K randwrite test: (g=0): rw=randrw, bs=(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine=libaio, iodepth=64
</span></span><span class="line"><span class="cl">fio-3.1
</span></span><span class="line"><span class="cl">Starting 1 thread
</span></span><span class="line"><span class="cl">Jobs: 1 (f=1): [m(1)][100.0%][r=9644KiB/s,w=9792KiB/s][r=2411,w=2448 IOPS][eta 00m:00s]
</span></span><span class="line"><span class="cl">EBS 4K randwrite test: (groupid=0, jobs=1): err= 0: pid=26139: Tue Feb 23 16:39:43 2021
</span></span><span class="line"><span class="cl">   read: IOPS=2455, BW=9823KiB/s (10.1MB/s)(576MiB/60015msec)
</span></span><span class="line"><span class="cl">    slat (nsec): min=1619, max=18282k, avg=5882.81, stdev=71214.52
</span></span><span class="line"><span class="cl">    clat (usec): min=281, max=64630, avg=13055.68, stdev=4233.17
</span></span><span class="line"><span class="cl">     lat (usec): min=323, max=64636, avg=13061.69, stdev=4232.79
</span></span><span class="line"><span class="cl">    clat percentiles (usec):
</span></span><span class="line"><span class="cl">     |  1.00th=[ 2040],  5.00th=[10290], 10.00th=[10421], 20.00th=[10421],
</span></span><span class="line"><span class="cl">     | 30.00th=[10552], 40.00th=[10552], 50.00th=[10683], 60.00th=[10814],
</span></span><span class="line"><span class="cl">     | 70.00th=[18220], 80.00th=[19006], 90.00th=[19006], 95.00th=[19268],
</span></span><span class="line"><span class="cl">     | 99.00th=[19530], 99.50th=[20055], 99.90th=[28967], 99.95th=[29754],
</span></span><span class="line"><span class="cl">     | 99.99th=[30540]
</span></span><span class="line"><span class="cl">   bw (  KiB/s): min= 8776, max=27648, per=100.00%, avg=9824.29, stdev=1655.78, samples=120
</span></span><span class="line"><span class="cl">   iops        : min= 2194, max= 6912, avg=2456.05, stdev=413.95, samples=120
</span></span><span class="line"><span class="cl">  write: IOPS=2458, BW=9835KiB/s (10.1MB/s)(576MiB/60015msec)
</span></span><span class="line"><span class="cl">    slat (usec): min=2, max=10681, avg= 6.79, stdev=71.30
</span></span><span class="line"><span class="cl">    clat (usec): min=221, max=70411, avg=12909.50, stdev=4312.40
</span></span><span class="line"><span class="cl">     lat (usec): min=225, max=70414, avg=12916.40, stdev=4312.05
</span></span><span class="line"><span class="cl">    clat percentiles (usec):
</span></span><span class="line"><span class="cl">     |  1.00th=[ 1909],  5.00th=[10159], 10.00th=[10290], 20.00th=[10290],
</span></span><span class="line"><span class="cl">     | 30.00th=[10421], 40.00th=[10421], 50.00th=[10552], 60.00th=[10683],
</span></span><span class="line"><span class="cl">     | 70.00th=[18220], 80.00th=[18744], 90.00th=[19006], 95.00th=[19006],
</span></span><span class="line"><span class="cl">     | 99.00th=[19268], 99.50th=[19530], 99.90th=[28705], 99.95th=[40109],
</span></span><span class="line"><span class="cl">     | 99.99th=[60031]
</span></span><span class="line"><span class="cl">   bw (  KiB/s): min= 8568, max=28544, per=100.00%, avg=9836.03, stdev=1737.29, samples=120
</span></span><span class="line"><span class="cl">   iops        : min= 2142, max= 7136, avg=2458.98, stdev=434.32, samples=120
</span></span><span class="line"><span class="cl">  lat (usec)   : 250=0.01%, 500=0.03%, 750=0.02%, 1000=0.02%
</span></span><span class="line"><span class="cl">  lat (msec)   : 2=1.03%, 4=1.10%, 10=0.98%, 20=96.43%, 50=0.38%
</span></span><span class="line"><span class="cl">  lat (msec)   : 100=0.01%
</span></span><span class="line"><span class="cl">  cpu          : usr=0.82%, sys=4.32%, ctx=212008, majf=0, minf=4
</span></span><span class="line"><span class="cl">  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=0.1%, 32=0.1%, &gt;=64=100.0%
</span></span><span class="line"><span class="cl">     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%
</span></span><span class="line"><span class="cl">     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.1%, &gt;=64=0.0%
</span></span><span class="line"><span class="cl">     issued rwt: total=147386,147564,0, short=0,0,0, dropped=0,0,0
</span></span><span class="line"><span class="cl">     latency   : target=0, window=0, percentile=100.00%, depth=64
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Run status group 0 (all jobs):
</span></span><span class="line"><span class="cl">   READ: bw=9823KiB/s (10.1MB/s), 9823KiB/s-9823KiB/s (10.1MB/s-10.1MB/s), io=576MiB (604MB), run=60015-60015msec
</span></span><span class="line"><span class="cl">  WRITE: bw=9835KiB/s (10.1MB/s), 9835KiB/s-9835KiB/s (10.1MB/s-10.1MB/s), io=576MiB (604MB), run=60015-60015msec
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Disk stats (read/write):
</span></span><span class="line"><span class="cl">  vda: ios=147097/147865, merge=0/241, ticks=1916703/1915836, in_queue=3791443, util=98.68%</span></span></code></pre>
</div>
<h3 id="测试数据总结" class="headerLink">
    <a href="#%e6%b5%8b%e8%af%95%e6%95%b0%e6%8d%ae%e6%80%bb%e7%bb%93" class="header-mark"></a>测试数据总结</h3>
<div class="table-wrapper">
  <table>
    <thead>
        <tr>
            <th style="text-align: "></th>
            <th style="text-align: ">-direct=1 -buffered=1</th>
            <th style="text-align: ">-direct=1 -buffered=0</th>
            <th style="text-align: ">-direct=0 -buffered=0</th>
            <th style="text-align: ">-direct=0 -buffered=1</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align: ">NVMe SSD</td>
            <td style="text-align: ">R=10.6k W=4544</td>
            <td style="text-align: ">R=99.8K W=42.8K</td>
            <td style="text-align: ">R=38.6k W=16.5k</td>
            <td style="text-align: ">R=10.8K W=4642</td>
        </tr>
        <tr>
            <td style="text-align: ">SATA SSD</td>
            <td style="text-align: ">R=4312 W=1852</td>
            <td style="text-align: ">R=16.9k W=7254</td>
            <td style="text-align: ">R=15.8k W=6803</td>
            <td style="text-align: ">R=5389 W=2314</td>
        </tr>
        <tr>
            <td style="text-align: ">ESSD</td>
            <td style="text-align: ">R=2149 W=2150</td>
            <td style="text-align: ">R=2462 W=2465</td>
            <td style="text-align: ">R=2455 W=2458</td>
            <td style="text-align: ">R=1987 W=1984</td>
        </tr>
    </tbody>
  </table>
</div>
<p>看起来，<strong>对于SSD如果buffered为1的话direct没啥用，如果buffered为0那么direct为1性能要好很多</strong></p>
<p><strong>SATA SSD的IOPS比NVMe性能差很多</strong>。</p>
<p>SATA SSD当-buffered=1参数下SATA SSD的latency在7-10us之间。</p>
<p>NVMe SSD以及SATA SSD当buffered=0的条件下latency均为2-3us,  NVMe SSD latency参考文章第一个表格， 和本次NVMe测试结果一致.</p>
<p>ESSD的latency基本是13-16us。</p>
<p>以上NVMe SSD测试数据是在测试过程中还有mysql在全力导入数据的情况下，用fio测试所得。所以空闲情况下测试结果会更好。</p>
<h3 id="hdd性能测试数据" class="headerLink">
    <a href="#hdd%e6%80%a7%e8%83%bd%e6%b5%8b%e8%af%95%e6%95%b0%e6%8d%ae" class="header-mark"></a>HDD性能测试数据</h3><p><img class="tw-inline" loading="lazy" src=/images/oss/0868d560-067f-4302-bc60-bffc3d4460ed.png   alt="img"  ></p>
<p>从上图可以看到这个磁盘的IOPS 读 935 写 400，读rt 10731nsec 大约10us, 写 17us。如果IOPS是1000的话，rt应该是1ms，实际比1ms小两个数量级，<del>应该是cache、磁盘阵列在起作用。</del></p>
<p>SATA硬盘，10K转</p>
<p>万转机械硬盘组成RAID5阵列，在顺序条件最好的情况下，带宽可以达到1GB/s以上，平均延时也非常低，最低只有20多us。但是在随机IO的情况下，机械硬盘的短板就充分暴露了，零点几兆的带宽，将近5ms的延迟，IOPS只有200左右。其原因是因为</p>
<ul>
<li>随机访问直接让RAID卡缓存成了个摆设</li>
<li>磁盘不能并行工作，因为我的机器RAID宽度Strip Size为128 KB</li>
<li>机械轴也得在各个磁道之间跳来跳去。</li>
</ul>
<p>理解了磁盘顺序IO时候的几十M甚至一个GB的带宽，随机IO这个真的是太可怜了。</p>
<p>从上面的测试数据中我们看到了机械硬盘在顺序IO和随机IO下的巨大性能差异。在顺序IO情况下，磁盘是最擅长的顺序IO,再加上Raid卡缓存命中率也高。这时带宽表现有几十、几百M，最好条件下甚至能达到1GB。IOPS这时候能有2-3W左右。到了随机IO的情形下，机械轴也被逼的跳来跳去寻道，RAID卡缓存也失效了。带宽跌到了1MB以下，最低只有100K，IOPS也只有可怜巴巴的200左右。</p>
<h3 id="网上测试数据参考httpszhuanlanzhihucomp40497397" class="headerLink">
    <a href="#%e7%bd%91%e4%b8%8a%e6%b5%8b%e8%af%95%e6%95%b0%e6%8d%ae%e5%8f%82%e8%80%83httpszhuanlanzhihucomp40497397" class="header-mark"></a><a href="https://zhuanlan.zhihu.com/p/40497397" target="_blank" rel="noopener noreferrer">网上测试数据参考</a></h3><p>我们来一起看一下具体的数据。首先来看NVＭe如何减小了协议栈本身的时间消耗，我们用<em>blktrace</em>工具来分析一组传输在应用程序层、操作系统层、驱动层和硬件层消耗的时间和占比，来了解AHCI和NVMe协议的性能区别：</p>
<p><img class="tw-inline" loading="lazy" src=https://pic4.zhimg.com/80/v2-8b37f236d5c754efabe17aa9706f99a3_720w.jpg   alt="img"  ></p>
<p>硬盘HDD作为一个参考基准，它的时延是非常大的，达到14ms，而AHCI SATA为125us，NVMe为111us。我们从图中可以看出，NVMe相对AHCI，协议栈及之下所占用的时间比重明显减小，应用程序层面等待的时间占比很高，这是因为SSD物理硬盘速度不够快，导致应用空转。NVMe也为将来Optane硬盘这种低延迟介质的速度提高留下了广阔的空间。</p>
<h2 id="rq_affinity" class="headerLink">
    <a href="#rq_affinity" class="header-mark"></a>rq_affinity</h2><p>参考<a href="https://help.aliyun.com/knowledge_detail/65077.html#title-x10-2c0-yll" target="_blank" rel="noopener noreferrer">aliyun测试文档</a> , rq_affinity增加2的commit： git show 5757a6d76c</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-11" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">function RunFio
</span></span><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl"> numjobs=$1   # 实例中的测试线程数，例如示例中的10
</span></span><span class="line"><span class="cl"> iodepth=$2   # 同时发出I/O数的上限，例如示例中的64
</span></span><span class="line"><span class="cl"> bs=$3        # 单次I/O的块文件大小，例如示例中的4k
</span></span><span class="line"><span class="cl"> rw=$4        # 测试时的读写策略，例如示例中的randwrite
</span></span><span class="line"><span class="cl"> filename=$5  # 指定测试文件的名称，例如示例中的/dev/your_device
</span></span><span class="line"><span class="cl"> nr_cpus=`cat /proc/cpuinfo |grep &#34;processor&#34; |wc -l`
</span></span><span class="line"><span class="cl"> if [ $nr_cpus -lt $numjobs ];then
</span></span><span class="line"><span class="cl">     echo “Numjobs is more than cpu cores, exit!”
</span></span><span class="line"><span class="cl">     exit -1
</span></span><span class="line"><span class="cl"> fi
</span></span><span class="line"><span class="cl"> let nu=$numjobs+1
</span></span><span class="line"><span class="cl"> cpulist=&#34;&#34;
</span></span><span class="line"><span class="cl"> for ((i=1;i&lt;10;i++))
</span></span><span class="line"><span class="cl"> do
</span></span><span class="line"><span class="cl">     list=`cat /sys/block/your_device/mq/*/cpu_list | awk &#39;{if(i&lt;=NF) print $i;}&#39; i=&#34;$i&#34; | tr -d &#39;,&#39; | tr &#39;\n&#39; &#39;,&#39;`
</span></span><span class="line"><span class="cl">     if [ -z $list ];then
</span></span><span class="line"><span class="cl">         break
</span></span><span class="line"><span class="cl">     fi
</span></span><span class="line"><span class="cl">     cpulist=${cpulist}${list}
</span></span><span class="line"><span class="cl"> done
</span></span><span class="line"><span class="cl"> spincpu=`echo $cpulist | cut -d &#39;,&#39; -f 2-${nu}`
</span></span><span class="line"><span class="cl"> echo $spincpu
</span></span><span class="line"><span class="cl"> fio --ioengine=libaio --runtime=30s --numjobs=${numjobs} --iodepth=${iodepth} --bs=${bs} --rw=${rw} --filename=${filename} --time_based=1 --direct=1 --name=test --group_reporting --cpus_allowed=$spincpu --cpus_allowed_policy=split
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">echo 2 &gt; /sys/block/your_device/queue/rq_affinity
</span></span><span class="line"><span class="cl">sleep 5
</span></span><span class="line"><span class="cl">RunFio 10 64 4k randwrite filename</span></span></code></pre>
</div>
<p>对NVME SSD进行测试，左边rq_affinity是2，右边rq_affinity为1，在这个测试参数下rq_affinity为1的性能要好(后许多次测试两者性能差不多)</p>
<p><img class="tw-inline" loading="lazy" src=/images/951413iMgBlog/image-20210607113709945.png   alt="image-20210607113709945"  ></p>
<h2 id="lvm性能对比" class="headerLink">
    <a href="#lvm%e6%80%a7%e8%83%bd%e5%af%b9%e6%af%94" class="header-mark"></a>LVM性能对比</h2><p>磁盘信息</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-12" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">#lsblk
</span></span><span class="line"><span class="cl">NAME         MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
</span></span><span class="line"><span class="cl">sda            8:0    0 223.6G  0 disk
</span></span><span class="line"><span class="cl">├─sda1         8:1    0     3M  0 part
</span></span><span class="line"><span class="cl">├─sda2         8:2    0     1G  0 part /boot
</span></span><span class="line"><span class="cl">├─sda3         8:3    0    96G  0 part /
</span></span><span class="line"><span class="cl">├─sda4         8:4    0    10G  0 part /tmp
</span></span><span class="line"><span class="cl">└─sda5         8:5    0 116.6G  0 part /home
</span></span><span class="line"><span class="cl">nvme0n1      259:4    0   2.7T  0 disk
</span></span><span class="line"><span class="cl">└─nvme0n1p1  259:5    0   2.7T  0 part
</span></span><span class="line"><span class="cl">  └─vg1-drds 252:0    0   5.4T  0 lvm  /drds
</span></span><span class="line"><span class="cl">nvme1n1      259:0    0   2.7T  0 disk
</span></span><span class="line"><span class="cl">└─nvme1n1p1  259:2    0   2.7T  0 part /u02
</span></span><span class="line"><span class="cl">nvme2n1      259:1    0   2.7T  0 disk
</span></span><span class="line"><span class="cl">└─nvme2n1p1  259:3    0   2.7T  0 part
</span></span><span class="line"><span class="cl">  └─vg1-drds 252:0    0   5.4T  0 lvm  /drds</span></span></code></pre>
</div>
<p>单块nvme SSD盘跑mysql server，运行sysbench导入测试数据</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-13" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">#iostat -x nvme1n1 1
</span></span><span class="line"><span class="cl">Linux 3.10.0-327.ali2017.alios7.x86_64 (k28a11352.eu95sqa) 	05/13/2021 	_x86_64_	(64 CPU)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">avg-cpu:  %user   %nice %system %iowait  %steal   %idle
</span></span><span class="line"><span class="cl">           0.32    0.00    0.17    0.07    0.00   99.44
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
</span></span><span class="line"><span class="cl">nvme1n1           0.00    47.19    0.19  445.15     2.03 43110.89   193.62     0.31    0.70    0.03    0.70   0.06   2.85
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">avg-cpu:  %user   %nice %system %iowait  %steal   %idle
</span></span><span class="line"><span class="cl">           1.16    0.00    0.36    0.17    0.00   98.31
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
</span></span><span class="line"><span class="cl">nvme1n1           0.00   122.00    0.00 3290.00     0.00 271052.00   164.77     1.65    0.50    0.00    0.50   0.05  17.00
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">#iostat 1
</span></span><span class="line"><span class="cl">Linux 3.10.0-327.ali2017.alios7.x86_64 (k28a11352.eu95sqa) 	05/13/2021 	_x86_64_	(64 CPU)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">avg-cpu:  %user   %nice %system %iowait  %steal   %idle
</span></span><span class="line"><span class="cl">           0.14    0.00    0.13    0.05    0.00   99.67
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn
</span></span><span class="line"><span class="cl">sda              49.21       554.51      2315.83    1416900    5917488
</span></span><span class="line"><span class="cl">nvme1n1           5.65         2.34       844.73       5989    2158468
</span></span><span class="line"><span class="cl">nvme2n1           0.06         1.13         0.00       2896          0
</span></span><span class="line"><span class="cl">nvme0n1           0.06         1.13         0.00       2900          0
</span></span><span class="line"><span class="cl">dm-0              0.02         0.41         0.00       1036          0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">avg-cpu:  %user   %nice %system %iowait  %steal   %idle
</span></span><span class="line"><span class="cl">           1.39    0.00    0.23    0.08    0.00   98.30
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn
</span></span><span class="line"><span class="cl">sda               8.00         0.00        60.00          0         60
</span></span><span class="line"><span class="cl">nvme1n1         868.00         0.00    132100.00          0     132100
</span></span><span class="line"><span class="cl">nvme2n1           0.00         0.00         0.00          0          0
</span></span><span class="line"><span class="cl">nvme0n1           0.00         0.00         0.00          0          0
</span></span><span class="line"><span class="cl">dm-0              0.00         0.00         0.00          0          0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">avg-cpu:  %user   %nice %system %iowait  %steal   %idle
</span></span><span class="line"><span class="cl">           1.44    0.00    0.14    0.09    0.00   98.33
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn
</span></span><span class="line"><span class="cl">sda               0.00         0.00         0.00          0          0
</span></span><span class="line"><span class="cl">nvme1n1         766.00         0.00    132780.00          0     132780
</span></span><span class="line"><span class="cl">nvme2n1           0.00         0.00         0.00          0          0
</span></span><span class="line"><span class="cl">nvme0n1           0.00         0.00         0.00          0          0
</span></span><span class="line"><span class="cl">dm-0              0.00         0.00         0.00          0          0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">avg-cpu:  %user   %nice %system %iowait  %steal   %idle
</span></span><span class="line"><span class="cl">           1.41    0.00    0.16    0.09    0.00   98.34
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn
</span></span><span class="line"><span class="cl">sda             105.00         0.00       532.00          0        532
</span></span><span class="line"><span class="cl">nvme1n1         760.00         0.00    122236.00          0     122236
</span></span><span class="line"><span class="cl">nvme2n1           0.00         0.00         0.00          0          0
</span></span><span class="line"><span class="cl">nvme0n1           0.00         0.00         0.00          0          0
</span></span><span class="line"><span class="cl">dm-0              0.00         0.00         0.00          0          0</span></span></code></pre>
</div>
<p>如果同样写lvm，由两块nvme组成</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-14" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"><span class="n">Device</span><span class="p">:</span>         <span class="n">rrqm</span><span class="o">/</span><span class="n">s</span>   <span class="n">wrqm</span><span class="o">/</span><span class="n">s</span>     <span class="n">r</span><span class="o">/</span><span class="n">s</span>     <span class="n">w</span><span class="o">/</span><span class="n">s</span>    <span class="n">rkB</span><span class="o">/</span><span class="n">s</span>    <span class="n">wkB</span><span class="o">/</span><span class="n">s</span> <span class="n">avgrq</span><span class="o">-</span><span class="n">sz</span> <span class="n">avgqu</span><span class="o">-</span><span class="n">sz</span>   <span class="n">await</span> <span class="n">r_await</span> <span class="n">w_await</span>  <span class="n">svctm</span>  <span class="o">%</span><span class="n">util</span>
</span></span><span class="line"><span class="cl"><span class="n">nvme2n1</span>           <span class="mf">0.00</span>     <span class="mf">0.00</span>    <span class="mf">0.00</span>    <span class="mf">0.00</span>     <span class="mf">0.00</span>     <span class="mf">0.00</span>     <span class="mf">0.00</span>     <span class="mf">0.00</span>    <span class="mf">0.00</span>    <span class="mf">0.00</span>    <span class="mf">0.00</span>   <span class="mf">0.00</span>   <span class="mf">0.00</span>
</span></span><span class="line"><span class="cl"><span class="n">nvme0n1</span>           <span class="mf">0.00</span>   <span class="mf">137.00</span>    <span class="mf">0.00</span> <span class="mf">5730.00</span>     <span class="mf">0.00</span> <span class="mf">421112.00</span>   <span class="mf">146.98</span>     <span class="mf">2.95</span>    <span class="mf">0.52</span>    <span class="mf">0.00</span>    <span class="mf">0.52</span>   <span class="mf">0.05</span>  <span class="mf">27.30</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">avg</span><span class="o">-</span><span class="n">cpu</span><span class="p">:</span>  <span class="o">%</span><span class="n">user</span>   <span class="o">%</span><span class="n">nice</span> <span class="o">%</span><span class="n">system</span> <span class="o">%</span><span class="n">iowait</span>  <span class="o">%</span><span class="n">steal</span>   <span class="o">%</span><span class="n">idle</span>
</span></span><span class="line"><span class="cl">           <span class="mf">1.17</span>    <span class="mf">0.00</span>    <span class="mf">0.34</span>    <span class="mf">0.19</span>    <span class="mf">0.00</span>   <span class="mf">98.30</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Device</span><span class="p">:</span>         <span class="n">rrqm</span><span class="o">/</span><span class="n">s</span>   <span class="n">wrqm</span><span class="o">/</span><span class="n">s</span>     <span class="n">r</span><span class="o">/</span><span class="n">s</span>     <span class="n">w</span><span class="o">/</span><span class="n">s</span>    <span class="n">rkB</span><span class="o">/</span><span class="n">s</span>    <span class="n">wkB</span><span class="o">/</span><span class="n">s</span> <span class="n">avgrq</span><span class="o">-</span><span class="n">sz</span> <span class="n">avgqu</span><span class="o">-</span><span class="n">sz</span>   <span class="n">await</span> <span class="n">r_await</span> <span class="n">w_await</span>  <span class="n">svctm</span>  <span class="o">%</span><span class="n">util</span>
</span></span><span class="line"><span class="cl"><span class="n">nvme2n1</span>           <span class="mf">0.00</span>     <span class="mf">0.00</span>    <span class="mf">0.00</span>    <span class="mf">0.00</span>     <span class="mf">0.00</span>     <span class="mf">0.00</span>     <span class="mf">0.00</span>     <span class="mf">0.00</span>    <span class="mf">0.00</span>    <span class="mf">0.00</span>    <span class="mf">0.00</span>   <span class="mf">0.00</span>   <span class="mf">0.00</span>
</span></span><span class="line"><span class="cl"><span class="n">nvme0n1</span>           <span class="mf">0.00</span>   <span class="mf">109.00</span>    <span class="mf">0.00</span> <span class="mf">2533.00</span>     <span class="mf">0.00</span> <span class="mf">271236.00</span>   <span class="mf">214.16</span>     <span class="mf">1.08</span>    <span class="mf">0.43</span>    <span class="mf">0.00</span>    <span class="mf">0.43</span>   <span class="mf">0.06</span>  <span class="mf">15.90</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">avg</span><span class="o">-</span><span class="n">cpu</span><span class="p">:</span>  <span class="o">%</span><span class="n">user</span>   <span class="o">%</span><span class="n">nice</span> <span class="o">%</span><span class="n">system</span> <span class="o">%</span><span class="n">iowait</span>  <span class="o">%</span><span class="n">steal</span>   <span class="o">%</span><span class="n">idle</span>
</span></span><span class="line"><span class="cl">           <span class="mf">1.38</span>    <span class="mf">0.00</span>    <span class="mf">0.42</span>    <span class="mf">0.20</span>    <span class="mf">0.00</span>   <span class="mf">98.00</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Device</span><span class="p">:</span>         <span class="n">rrqm</span><span class="o">/</span><span class="n">s</span>   <span class="n">wrqm</span><span class="o">/</span><span class="n">s</span>     <span class="n">r</span><span class="o">/</span><span class="n">s</span>     <span class="n">w</span><span class="o">/</span><span class="n">s</span>    <span class="n">rkB</span><span class="o">/</span><span class="n">s</span>    <span class="n">wkB</span><span class="o">/</span><span class="n">s</span> <span class="n">avgrq</span><span class="o">-</span><span class="n">sz</span> <span class="n">avgqu</span><span class="o">-</span><span class="n">sz</span>   <span class="n">await</span> <span class="n">r_await</span> <span class="n">w_await</span>  <span class="n">svctm</span>  <span class="o">%</span><span class="n">util</span>
</span></span><span class="line"><span class="cl"><span class="n">nvme2n1</span>           <span class="mf">0.00</span>     <span class="mf">0.00</span>    <span class="mf">0.00</span>    <span class="mf">0.00</span>     <span class="mf">0.00</span>     <span class="mf">0.00</span>     <span class="mf">0.00</span>     <span class="mf">0.00</span>    <span class="mf">0.00</span>    <span class="mf">0.00</span>    <span class="mf">0.00</span>   <span class="mf">0.00</span>   <span class="mf">0.00</span>
</span></span><span class="line"><span class="cl"><span class="n">nvme0n1</span>           <span class="mf">0.00</span>   <span class="mf">118.00</span>    <span class="mf">0.00</span> <span class="mf">3336.00</span>     <span class="mf">0.00</span> <span class="mf">320708.00</span>   <span class="mf">192.27</span>     <span class="mf">1.50</span>    <span class="mf">0.45</span>    <span class="mf">0.00</span>    <span class="mf">0.45</span>   <span class="mf">0.06</span>  <span class="mf">20.00</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="n">root</span><span class="err">@</span><span class="n">k28a11352</span><span class="o">.</span><span class="n">eu95sqa</span> <span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">lib</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="c1">#iostat  1</span>
</span></span><span class="line"><span class="cl"><span class="n">Linux</span> <span class="mf">3.10</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="mf">327.</span><span class="n">ali2017</span><span class="o">.</span><span class="n">alios7</span><span class="o">.</span><span class="n">x86_64</span> <span class="p">(</span><span class="n">k28a11352</span><span class="o">.</span><span class="n">eu95sqa</span><span class="p">)</span> 	<span class="mi">05</span><span class="o">/</span><span class="mi">13</span><span class="o">/</span><span class="mi">2021</span> 	<span class="n">_x86_64_</span>	<span class="p">(</span><span class="mi">64</span> <span class="n">CPU</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">avg</span><span class="o">-</span><span class="n">cpu</span><span class="p">:</span>  <span class="o">%</span><span class="n">user</span>   <span class="o">%</span><span class="n">nice</span> <span class="o">%</span><span class="n">system</span> <span class="o">%</span><span class="n">iowait</span>  <span class="o">%</span><span class="n">steal</span>   <span class="o">%</span><span class="n">idle</span>
</span></span><span class="line"><span class="cl">           <span class="mf">0.40</span>    <span class="mf">0.00</span>    <span class="mf">0.20</span>    <span class="mf">0.07</span>    <span class="mf">0.00</span>   <span class="mf">99.33</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Device</span><span class="p">:</span>            <span class="n">tps</span>    <span class="n">kB_read</span><span class="o">/</span><span class="n">s</span>    <span class="n">kB_wrtn</span><span class="o">/</span><span class="n">s</span>    <span class="n">kB_read</span>    <span class="n">kB_wrtn</span>
</span></span><span class="line"><span class="cl"><span class="n">sda</span>              <span class="mf">38.96</span>       <span class="mf">334.64</span>      <span class="mf">1449.68</span>    <span class="mi">1419236</span>    <span class="mi">6148304</span>
</span></span><span class="line"><span class="cl"><span class="n">nvme1n1</span>         <span class="mf">324.95</span>         <span class="mf">1.43</span>     <span class="mf">31201.30</span>       <span class="mi">6069</span>  <span class="mi">132329072</span>
</span></span><span class="line"><span class="cl"><span class="n">nvme2n1</span>           <span class="mf">0.07</span>         <span class="mf">0.90</span>         <span class="mf">0.00</span>       <span class="mi">3808</span>          <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">nvme0n1</span>         <span class="mf">256.24</span>         <span class="mf">1.60</span>     <span class="mf">22918.46</span>       <span class="mi">6801</span>   <span class="mi">97200388</span>
</span></span><span class="line"><span class="cl"><span class="n">dm</span><span class="o">-</span><span class="mi">0</span>            <span class="mf">266.98</span>         <span class="mf">1.38</span>     <span class="mf">22918.46</span>       <span class="mi">5849</span>   <span class="mi">97200388</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">avg</span><span class="o">-</span><span class="n">cpu</span><span class="p">:</span>  <span class="o">%</span><span class="n">user</span>   <span class="o">%</span><span class="n">nice</span> <span class="o">%</span><span class="n">system</span> <span class="o">%</span><span class="n">iowait</span>  <span class="o">%</span><span class="n">steal</span>   <span class="o">%</span><span class="n">idle</span>
</span></span><span class="line"><span class="cl">           <span class="mf">1.20</span>    <span class="mf">0.00</span>    <span class="mf">0.42</span>    <span class="mf">0.25</span>    <span class="mf">0.00</span>   <span class="mf">98.12</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Device</span><span class="p">:</span>            <span class="n">tps</span>    <span class="n">kB_read</span><span class="o">/</span><span class="n">s</span>    <span class="n">kB_wrtn</span><span class="o">/</span><span class="n">s</span>    <span class="n">kB_read</span>    <span class="n">kB_wrtn</span>
</span></span><span class="line"><span class="cl"><span class="n">sda</span>               <span class="mf">0.00</span>         <span class="mf">0.00</span>         <span class="mf">0.00</span>          <span class="mi">0</span>          <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">nvme1n1</span>           <span class="mf">0.00</span>         <span class="mf">0.00</span>         <span class="mf">0.00</span>          <span class="mi">0</span>          <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">nvme2n1</span>           <span class="mf">0.00</span>         <span class="mf">0.00</span>         <span class="mf">0.00</span>          <span class="mi">0</span>          <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">nvme0n1</span>        <span class="mf">4460.00</span>         <span class="mf">0.00</span>    <span class="mf">332288.00</span>          <span class="mi">0</span>     <span class="mi">332288</span>
</span></span><span class="line"><span class="cl"><span class="n">dm</span><span class="o">-</span><span class="mi">0</span>           <span class="mf">4608.00</span>         <span class="mf">0.00</span>    <span class="mf">332288.00</span>          <span class="mi">0</span>     <span class="mi">332288</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">avg</span><span class="o">-</span><span class="n">cpu</span><span class="p">:</span>  <span class="o">%</span><span class="n">user</span>   <span class="o">%</span><span class="n">nice</span> <span class="o">%</span><span class="n">system</span> <span class="o">%</span><span class="n">iowait</span>  <span class="o">%</span><span class="n">steal</span>   <span class="o">%</span><span class="n">idle</span>
</span></span><span class="line"><span class="cl">           <span class="mf">1.35</span>    <span class="mf">0.00</span>    <span class="mf">0.38</span>    <span class="mf">0.22</span>    <span class="mf">0.00</span>   <span class="mf">98.06</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Device</span><span class="p">:</span>            <span class="n">tps</span>    <span class="n">kB_read</span><span class="o">/</span><span class="n">s</span>    <span class="n">kB_wrtn</span><span class="o">/</span><span class="n">s</span>    <span class="n">kB_read</span>    <span class="n">kB_wrtn</span>
</span></span><span class="line"><span class="cl"><span class="n">sda</span>              <span class="mf">48.00</span>         <span class="mf">0.00</span>       <span class="mf">200.00</span>          <span class="mi">0</span>        <span class="mi">200</span>
</span></span><span class="line"><span class="cl"><span class="n">nvme1n1</span>           <span class="mf">0.00</span>         <span class="mf">0.00</span>         <span class="mf">0.00</span>          <span class="mi">0</span>          <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">nvme2n1</span>           <span class="mf">0.00</span>         <span class="mf">0.00</span>         <span class="mf">0.00</span>          <span class="mi">0</span>          <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">nvme0n1</span>        <span class="mf">4187.00</span>         <span class="mf">0.00</span>    <span class="mf">332368.00</span>          <span class="mi">0</span>     <span class="mi">332368</span>
</span></span><span class="line"><span class="cl"><span class="n">dm</span><span class="o">-</span><span class="mi">0</span>           <span class="mf">4348.00</span>         <span class="mf">0.00</span>    <span class="mf">332368.00</span>          <span class="mi">0</span>     <span class="mi">332368</span></span></span></code></pre>
</div>
<p>不知道为什么只有一个块ssd有流量，可能跟只写一个文件有关系</p>
<h2 id="ssd中satam2pcie和nvme各有什么意义" class="headerLink">
    <a href="#ssd%e4%b8%adsatam2pcie%e5%92%8cnvme%e5%90%84%e6%9c%89%e4%bb%80%e4%b9%88%e6%84%8f%e4%b9%89" class="header-mark"></a>SSD中，SATA、m2、PCIE和NVME各有什么意义</h2><h3 id="高速信号协议" class="headerLink">
    <a href="#%e9%ab%98%e9%80%9f%e4%bf%a1%e5%8f%b7%e5%8d%8f%e8%ae%ae" class="header-mark"></a>高速信号协议</h3><p>SAS，SATA，PCIe 这三个是同一个层面上的，模拟串行高速接口。</p>
<ul>
<li>SAS 对扩容比较友好，也支持双控双活。接上SAS RAID 卡，一般在阵列上用的比较多。</li>
<li>SATA 对热插拔很友好，早先台式机装机市场的 SSD基本上都是SATA的，现在的 机械硬盘也是SATA接口居多。但速率上最高只能到 6Gb/s，上限 768MB/s左右，现在已经慢慢被pcie取代。</li>
<li>PCIe 支持速率更高，也离CPU最近。很多设备 如 网卡，显卡也都走pcie接口，当然也有SSD。现在比较主流的是PCIe 3.0,8Gb/s 看起来好像也没比 SATA 高多少，但是 PCIe 支持多个LANE，每个LANE都是 8Gb/s，这样性能就倍数增加了。目前，SSD主流的是 PCIe 3.0x4 lane，性能可以做到 3500MB/s 左右。</li>
</ul>
<h3 id="传输层协议" class="headerLink">
    <a href="#%e4%bc%a0%e8%be%93%e5%b1%82%e5%8d%8f%e8%ae%ae" class="header-mark"></a>传输层协议</h3><p>SCSI，ATA，NVMe 都属于这一层。主要是定义命令集，数字逻辑层。</p>
<ul>
<li>SCSI 命令集 历史悠久，应用也很广泛。U盘，SAS 盘，还有手机上 UFS 之类很多设备都走的这个命令集。</li>
<li>ATA 则只是跑在SATA 协议上</li>
<li>NVMe 协议是有特意为 NAND 进行优化。相比于上面两者，效率更高。主要是跑在 PCIe 上的。当然，也有NVMe-MI，NVMe-of之类的。是个很好的传输层协议。</li>
</ul>
<h3 id="物理接口" class="headerLink">
    <a href="#%e7%89%a9%e7%90%86%e6%8e%a5%e5%8f%a3" class="header-mark"></a>物理接口</h3><p>M.2 , U.2 , AIC, NGFF 这些属于物理接口</p>
<p>像 M.2 可以是 SATA SSD 也可以是 NVMe（PCIe） SSD。金手指上有一个 SATA/PCIe 的选择信号，来区分两者。很多笔记本的M.2 接口也是同时支持两种类型的盘的。</p>
<ul>
<li>
<p>M.2 , 主要用在 笔记本上，优点是体积小，缺点是散热不好。</p>
</li>
<li>
<p>U.2,主要用在 数据中心或者一些企业级用户，对热插拔需求高的地方。优点热插拔，散热也不错。一般主要是pcie ssd(也有sas ssd)，受限于接口，最多只能是 pcie 4lane</p>
</li>
<li>
<p>AIC，企业，行业用户用的比较多。通常会支持pcie 4lane/8lane，带宽上限更高</p>
</li>
</ul>
<h2 id="数据总结" class="headerLink">
    <a href="#%e6%95%b0%e6%8d%ae%e6%80%bb%e7%bb%93" class="header-mark"></a>数据总结</h2><ul>
<li>性能排序 NVMe SSD &gt; SATA SSD &gt; SAN &gt; ESSD &gt; HDD</li>
<li>本地ssd性能最好、sas机械盘(RAID10)性能最差</li>
<li>san存储走特定的光纤网络，不是走tcp的san（至少从网卡看不到san的流量），性能居中</li>
<li>从rt来看 ssd:san:sas 大概是 1:3:15</li>
<li>san比本地sas机械盘性能要好，这也许取决于san的网络传输性能和san存储中的设备（比如用的ssd而不是机械盘）</li>
<li>NVMe SSD比SATA SSD快很多，latency更稳定</li>
<li>阿里云的云盘ESSD比本地SAS RAID10阵列性能还好</li>
</ul>
<h2 id="参考资料" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99" class="header-mark"></a>参考资料</h2><p><a href="http://cizixs.com/2017/01/03/how-slow-is-disk-and-network" target="_blank" rel="noopener noreferrer">http://cizixs.com/2017/01/03/how-slow-is-disk-and-network</a></p>
<p><a href="https://tobert.github.io/post/2014-04-17-fio-output-explained.html" target="_blank" rel="noopener noreferrer">https://tobert.github.io/post/2014-04-17-fio-output-explained.html</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/40497397" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/40497397</a></p>
<p><a href="https://www.atatech.org/articles/167736?spm=ata.home.0.0.11fd75362qwsg7&amp;flag_data_from=home_algorithm_article" target="_blank" rel="noopener noreferrer">块存储NVMe云盘原型实践</a></p>
<p><a href="https://mp.weixin.qq.com/s?__biz=MjM5Njg5NDgwNA==&amp;mid=2247483999&amp;idx=1&amp;sn=238d3d1a8cf24443db0da4aa00c9fb7e&amp;chksm=a6e3036491948a72704e0b114790483f227b7ce82f5eece5dd870ef88a8391a03eca27e8ff61&amp;scene=178&amp;cur_album_id=1371808335259090944#rd" target="_blank" rel="noopener noreferrer">机械硬盘随机IO慢的超乎你的想象</a></p>
<p><a href="https://mp.weixin.qq.com/s?__biz=MjM5Njg5NDgwNA==&amp;mid=2247484023&amp;idx=1&amp;sn=1946b4c286ed72da023b402cc30908b6&amp;chksm=a6e3034c91948a5aa3b0e6beb31c1d3804de9a11c668400d598c2a6b12462e179cf9f1dc33e2&amp;scene=178&amp;cur_album_id=1371808335259090944#rd" target="_blank" rel="noopener noreferrer">搭载固态硬盘的服务器究竟比搭机械硬盘快多少？</a></p>
</div>

        <div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2020-01-25</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line print:!tw-hidden">
            <div class="post-info-md"></div>
            <div class="post-info-share"></div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/linux/">Linux</a>,&nbsp;<a href="/tags/%E7%A3%81%E7%9B%98%E6%80%A7%E8%83%BD/">磁盘性能</a>,&nbsp;<a href="/tags/san/">San</a>,&nbsp;<a href="/tags/%E5%85%89%E7%BA%A4/">光纤</a></section>
        <section class="print:!tw-hidden">
            <span><button class="tw-text-fgColor-link-muted hover:tw-text-fgColor-link-muted-hover" onclick="window.history.back();">返回</button></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav print:tw-hidden"><a href="/posts/ssd%E5%AD%98%E5%82%A8%E5%8E%9F%E7%90%86/" class="prev" rel="prev" title="存储原理"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"/></svg>存储原理</a>
            <a href="/posts/tcp%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0%E8%A7%A3%E9%87%8A/" class="next" rel="next" title="TCP相关参数解释">TCP相关参数解释<svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg></a></div>
</div>
</article></div>
        </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">
                    由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreferrer" title="Hugo 0.139.0">Hugo</a> 强力驱动&nbsp;|&nbsp;主题 - <a href="https://github.com/HEIGE-PCloud/DoIt" target="_blank" rel="noopener noreferrer" title="DoIt 0.4.0"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg> DoIt</a>
                </div><div class="footer-line"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 448c-110.532 0-200-89.451-200-200 0-110.531 89.451-200 200-200 110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200zm107.351-101.064c-9.614 9.712-45.53 41.396-104.065 41.396-82.43 0-140.484-61.425-140.484-141.567 0-79.152 60.275-139.401 139.762-139.401 55.531 0 88.738 26.62 97.593 34.779a11.965 11.965 0 0 1 1.936 15.322l-18.155 28.113c-3.841 5.95-11.966 7.282-17.499 2.921-8.595-6.776-31.814-22.538-61.708-22.538-48.303 0-77.916 35.33-77.916 80.082 0 41.589 26.888 83.692 78.277 83.692 32.657 0 56.843-19.039 65.726-27.225 5.27-4.857 13.596-4.039 17.82 1.738l19.865 27.17a11.947 11.947 0 0 1-1.152 15.518z"/></svg>2024<span class="author">&nbsp;<a href="/" target="_blank" rel="noopener noreferrer"></a></span></div>
            <div class="footer-line">
                    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
                    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: inline;">
                        <span class="post-meta-item-icon"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"/></svg></span>
                        <span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span>
                    </span></div>
            <div class="footer-line">
            </div>
        </div></footer></div>

    <div id="fixed-buttons" class="print:!tw-hidden"><a href="#back-to-top" id="back-to-top-button" class="fixed-button tw-transition-opacity tw-opacity-0" title="回到顶部">
            <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg>
        </a></div>
<script>window.config={"comment":{}};</script><script
    src="/js/theme.min.js"
    
      defer
    
  ></script>
    
    <script type="speculationrules">
        {
          "prerender": [
            {
              "where": { "href_matches": "/*" },
              "eagerness": "moderate"
            }
          ]
        }
    </script>
      
</body>

</html>
