<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>Ansible - 标签 - plantegg</title>
        <link>https://plantegg.github.io/tags/ansible/</link>
        <description>Ansible - 标签 - plantegg</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-Hans</language><lastBuildDate>Sat, 24 Mar 2018 17:30:03 &#43;0000</lastBuildDate><atom:link href="https://plantegg.github.io/tags/ansible/" rel="self" type="application/rss+xml" /><item>
    <title>Linux环境变量问题汇总</title>
    <link>https://plantegg.github.io/posts/linux%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/</link>
    <pubDate>Sat, 24 Mar 2018 17:30:03 &#43;0000</pubDate><author>
        <name>作者</name>
    </author><guid>https://plantegg.github.io/posts/linux%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/</guid>
    <description><![CDATA[<h1 id="linux环境变量问题汇总" class="headerLink">
    <a href="#linux%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f%e9%97%ae%e9%a2%98%e6%b1%87%e6%80%bb" class="header-mark"></a>Linux环境变量问题汇总</h1><h3 id="测试好的脚本放到-crontab-里就报错-找不到命令" class="headerLink">
    <a href="#%e6%b5%8b%e8%af%95%e5%a5%bd%e7%9a%84%e8%84%9a%e6%9c%ac%e6%94%be%e5%88%b0-crontab-%e9%87%8c%e5%b0%b1%e6%8a%a5%e9%94%99-%e6%89%be%e4%b8%8d%e5%88%b0%e5%91%bd%e4%bb%a4" class="header-mark"></a>测试好的脚本放到 crontab 里就报错: 找不到命令</h3><p>写好一个脚本，测试没有问题，然后放到crontab 想要定时执行，但是总是报错，去看日志的话显示某些命令找不到，这种一般都是因为PATH环境变量变了导致的</p>
<p>自己在shell命令行下测试的时候当前环境变量就是这个用户的环境变量，可以通过命令：env 看到，脚本放到crontab 里面后一般都加了sudo 这个时候 env 变了。比如你可以在命令行下执行 env 和 sudo env 比较一下就发现他们很不一样</p>
<p>sudo有一个参数 -E （&ndash;preserver-env）就是为了解决这个问题的。</p>
<p>这个时候再比较一下</p>
<ul>
<li>env</li>
<li>sudo env</li>
<li>sudo -E env</li>
</ul>
<p>大概就能理解这里的区别了。</p>
<p>本文后面的回复中有同学提到了：</p>
<blockquote>
  <p>第一个问题，sudo -E在集团的容器中貌似是不行的，没有特别好的解，我们最后是通过在要执行的脚本中手动source &ldquo;/etc/profile.d/dockerenv.sh&quot;才行</p>

</blockquote><p>我也特意去测试了一下官方的Docker容器，也有同样的问题，/etc/profile.d/dockerenv.sh 中的脚本没有生效，然后debug看了看，主要是因为bashrc中的 . 和 source 不同导致的，不能说没有生效，而是加载 /etc/profile.d/dockerenv.sh 是在一个独立的bash 进程中，加载完毕进程结束，所有加载过的变量都完成了生命周期释放了，类似我文章中的export部分提到的。我尝试把 ~/.bashrc 中的 .  /etc/bashrc 改成 source /etc/bashrc , 同时也把 /etc/bashrc 中的 . 改成 source，就可以了，再次进到容器不需要任何操作就能看到所有：/etc/profile.d/dockerenv.sh 中的变量了，所以我们制作镜像的时候考虑改改这里</p>
<p><img class="tw-inline" loading="lazy" src=https://cdn.jsdelivr.net/gh/plantegg/plantegg.github.io/images/951413iMgBlog/crontab-7372074.png   alt="crontab"  ></p>
<h3 id="docker-容器中admin取不到env参数" class="headerLink">
    <a href="#docker-%e5%ae%b9%e5%99%a8%e4%b8%adadmin%e5%8f%96%e4%b8%8d%e5%88%b0env%e5%8f%82%e6%95%b0" class="header-mark"></a>docker 容器中admin取不到env参数</h3><p>docker run的时候带入一堆参数，用root能env中能看到这些参数，admin用户也能看见这些参数，但是通过crond用admin就没法启动应用了，因为读不到这些env。</p>
<h3 id="同样一个命令ssh执行不了-报找不到命令" class="headerLink">
    <a href="#%e5%90%8c%e6%a0%b7%e4%b8%80%e4%b8%aa%e5%91%bd%e4%bb%a4ssh%e6%89%a7%e8%a1%8c%e4%b8%8d%e4%ba%86-%e6%8a%a5%e6%89%be%e4%b8%8d%e5%88%b0%e5%91%bd%e4%bb%a4" class="header-mark"></a>同样一个命令ssh执行不了， 报找不到命令</h3><p>比如：</p>
<p>ssh user@ip &quot; ip a &quot;  报错： bash: ip: command not found</p>
<p>但是你要是先执行 ssh user@ip 连上服务器后，再执行 ip a 就可以，这里是同一个命令通过两种不同的方式使用，但是环境变量也不一样了。</p>
<p>同样想要解决这个问题的话可以先 ssh 连上服务器，再执行 which ip ; env | grep PATH</p>
<pre><code>$ which ip
/usr/sbin/ip
$ env | grep PATH
PATH=/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin
</code></pre>
<p>很明显这里因为 ip在/usr/sbin下，而/usr/sbin又在PATH变量中，所以可以找到。</p>
<p>那么接下来我们看看</p>
<pre><code>$ssh user@ip &quot;env | grep PATH&quot;
PATH=/usr/local/bin:/usr/bin
</code></pre>
<p>很明显这里的PATH比上面的PATH短了一截，/usr/sbin也没有在里面，所以/usr/sbin 下的ip命令自然也找不到了，这里虽然都是同一个用户，但是他们的环境变量还不一样，有点出乎我的意料之外。</p>
<p>主要原因是我们的shell 分为login shell 和 no-login shell , 先ssh 登陆上去再执行命令就是一个login shell，Linux要为这个终端分配资源。</p>
<p>而下面的直接在ssh 里面放执行命令实际上就不需要login，所以这是一个no-login shell.</p>
<h4 id="login-shell-和-no-login-shell又有什么区别呢" class="headerLink">
    <a href="#login-shell-%e5%92%8c-no-login-shell%e5%8f%88%e6%9c%89%e4%bb%80%e4%b9%88%e5%8c%ba%e5%88%ab%e5%91%a2" class="header-mark"></a>login shell 和 no-login shell又有什么区别呢？</h4><ul>
<li>login shell加载环境变量的顺序是：① /etc/profile ② ~/.bash_profile ③ ~/.bashrc ④ /etc/bashrc</li>
<li>而non-login shell加载环境变量的顺序是： ① ~/.bashrc ② /etc/bashrc</li>
</ul>
<p>也就是nog-login少了前面两步，我们先看后面两步。</p>
<p>下面是一个 .bashrc 的内容：</p>
<pre><code>$ cat .bashrc 
# .bashrc

# Source global definitions
if [ -f /etc/bashrc ]; then
	. /etc/bashrc
fi
</code></pre>
<p>基本没有什么内容，它主要是去加载 /etc/bashrc  而他里面也没有看到sbin相关的东西</p>
<p>那我们再看non-login少的两步： ① /etc/profile ② ~/.bash_profile</p>
<p>cat /etc/profile :
if [ &ldquo;$EUID&rdquo; = &ldquo;0&rdquo; ]; then
pathmunge /usr/sbin
pathmunge /usr/local/sbin
else
pathmunge /usr/local/sbin after
pathmunge /usr/sbin after
fi</p>
<p>这几行代码就是把 /usr/sbin 添加到 PATH 变量中，正是他们的区别决定了这里的环境变量不一样。</p>
<p><strong>用一张图来表述他们的结构，箭头代表加载顺序，红框代表不同的shell的初始入口</strong>：
<img class="tw-inline" loading="lazy" src=https://plantegg.github.io/Users/ren/case/ossimg/ae3095f063dede80a8c1ee79ec25685c.png   alt="image.png"  ></p>
<p>像 ansible 这种自动化工具，或者我们自己写的自动化脚本，底层通过ssh这种non-login的方式来执行的话，那么都有可能碰到这个问题，如何修复呢？</p>
<p>在 /etc/profile.d/ 下创建一个文件：/etc/profile.d/my_bashenv.sh 内容如下：</p>
<pre><code>$cat /etc/profile.d/my_bashenv.sh 

pathmunge () {
if ! echo $PATH | /bin/egrep -q &quot;(^|:)$1($|:)&quot; ; then
   if [ &quot;$2&quot; = &quot;after&quot; ] ; then
  PATH=$PATH:$1
   else
  PATH=$1:$PATH
   fi
fi
}
 
pathmunge /sbin
pathmunge /usr/sbin
pathmunge /usr/local/sbin
pathmunge /usr/local/bin
pathmunge /usr/X11R6/bin after
 
unset pathmunge

complete -cf sudo
 
    alias chgrp='chgrp --preserve-root'
    alias chown='chown --preserve-root'
    alias chmod='chmod --preserve-root'
    alias rm='rm -i --preserve-root'
    
HISTTIMEFORMAT='[%F %T] '
HISTSIZE=1000
export EDITOR=vim    
export PS1='\n\e[1;37m[\e[m\e[1;32m\u\e[m\e[1;33m@\e[m\e[1;35m\H\e[m \e[4m`pwd`\e[m\e[1;37m]\e[m\e[1;36m\e[m\n\$'
</code></pre>
<p>通过前面我们可以看到 /etc/bashrc 总是会去加载 /etc/profile.d/ 下的所有 *.sh 文件，同时我们还可以在这个文件中修改我们喜欢的 shell 配色方案和环境变量等等</p>
<p><a href="https://www.gnu.org/software/bash/manual/html_node/Bash-Startup-Files.html" target="_blank" rel="noopener noreferrer">脚本前增加如下一行是好习惯</a></p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">shell</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-1" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"><span class="c1">#!/bin/bash --login</span></span></span></code></pre>
</div>
<p><img class="tw-inline" loading="lazy" src=https://cdn.jsdelivr.net/gh/plantegg/plantegg.github.io/images/951413iMgBlog/image-20220505213833017.png   alt="image-20220505213833017"  ></p>
<h3 id="bash" class="headerLink">
    <a href="#bash" class="header-mark"></a>BASH</h3><p>1、交互式的登录shell （bash –il xxx.sh）
载入的信息：
/etc/profile
~/.bash_profile（ -&gt;  ~/.bashrc  -&gt;  /etc/bashrc）
~/.bash_login
~/.profile</p>
<p>2、非交互式的登录shell （bash –l xxx.sh）
载入的信息：
/etc/profile
~/.bash_profile （ -&gt;  ~/.bashrc  -&gt;  /etc/bashrc）
~/.bash_login
~/.profile
$BASH_ENV</p>
<p>3、交互式的非登录shell （bash –i xxx.sh）
载入的信息：
~/.bashrc （ -&gt;  /etc/bashrc）</p>
<p>4、非交互式的非登录shell （bash xxx.sh）
载入的信息：
$BASH_ENV</p>
<h3 id="sh" class="headerLink">
    <a href="#sh" class="header-mark"></a>SH</h3><p>1、交互式的登录shell
载入的信息：
/etc/profile
~/.profile</p>
<p>2、非交互式的登录shell
载入的信息：
/etc/profile
~/.profile</p>
<p>3、交互式的非登录shell
载入的信息：
$ENV</p>
<h4 id="练习验证一下bashsh和loginnon-login" class="headerLink">
    <a href="#%e7%bb%83%e4%b9%a0%e9%aa%8c%e8%af%81%e4%b8%80%e4%b8%8bbashsh%e5%92%8cloginnon-login" class="header-mark"></a>练习验证一下bash、sh和login、non-login</h4><ul>
<li>sudo ll 或者 sudo cd 是不是都报找不到命令</li>
<li>先sudo bash 然后执行 ll或者cd就可以了</li>
<li>先sudo sh   然后执行 ll或者cd还是报找不到命令</li>
<li>sudo env | grep PATH 然后 sudo bash 后再执行 env | grep PATH 看到的PATH环境变量不一样了</li>
</ul>
<p><strong>找不到ll、cd命令不是因为login/non-login而是因为这两个命令是bash内部定义的，所以sh找不到，通过type -a cd 可以看到一个命令到底是哪里来的</strong></p>
<p>4、非交互式的非登录shell
载入的信息：
nothing</p>
<h2 id="history-为什么没有输出" class="headerLink">
    <a href="#history-%e4%b8%ba%e4%bb%80%e4%b9%88%e6%b2%a1%e6%9c%89%e8%be%93%e5%87%ba" class="header-mark"></a>history 为什么没有输出</h2><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-2" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">#cat test.sh
</span></span><span class="line"><span class="cl">echo $$
</span></span><span class="line"><span class="cl">pwd
</span></span><span class="line"><span class="cl">echo &#34;abc&#34;
</span></span><span class="line"><span class="cl">history | tail -5</span></span></code></pre>
</div>
<p>执行如上测试文件，为什么pwd 的内容有输出，但是第五行的 history 确是空的？效果如下：</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-3" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">#bash test.sh  //为什么这样 history 没有输出
</span></span><span class="line"><span class="cl">31147
</span></span><span class="line"><span class="cl">/root
</span></span><span class="line"><span class="cl">abc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">#./test.sh       //这样 history 有输出
</span></span><span class="line"><span class="cl">31151
</span></span><span class="line"><span class="cl">/root
</span></span><span class="line"><span class="cl">abc
</span></span><span class="line"><span class="cl"> 8596  17/04/24 16:02:35 strace -p 30643
</span></span><span class="line"><span class="cl"> 8597  17/04/24 16:15:18 cat test.sh
</span></span><span class="line"><span class="cl"> 8598  17/04/24 16:15:22 vi test.sh
</span></span><span class="line"><span class="cl"> 8599  17/04/24 16:15:44 bash test.sh
</span></span><span class="line"><span class="cl"> 8600  17/04/24 16:15:48 ./test.sh
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">#source ./test.sh  //这样 history 有输出
</span></span><span class="line"><span class="cl">25179
</span></span><span class="line"><span class="cl">/root
</span></span><span class="line"><span class="cl">abc
</span></span><span class="line"><span class="cl"> 8589  17/04/24 16:15:18 cat test.sh
</span></span><span class="line"><span class="cl"> 8590  17/04/24 16:15:22 vi test.sh
</span></span><span class="line"><span class="cl"> 8591  17/04/24 16:15:44 bash test.sh
</span></span><span class="line"><span class="cl"> 8592  17/04/24 16:15:48 ./test.sh
</span></span><span class="line"><span class="cl"> 8593  17/04/24 16:15:56 source ./test.sh</span></span></code></pre>
</div>
<p>history 是 bash 的内部命令，在非交互环境里默认关闭，可以通过 set -o history 开启。bash test.sh 执行的时候是新启动了一个非交互的bash，然后读入test.sh再执行，在这个新的bash 执行环境下 history 默认是关闭的</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-4" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">#echo &#34;set -o | grep history&#34; | bash
</span></span><span class="line"><span class="cl">history        	off
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">#set -o |grep history
</span></span><span class="line"><span class="cl">history        	on</span></span></code></pre>
</div>
<p>如果上面的脚本修改一下：</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-5" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">#cat test.sh
</span></span><span class="line"><span class="cl">set -o history #打开history 功能
</span></span><span class="line"><span class="cl">echo $$
</span></span><span class="line"><span class="cl">pwd
</span></span><span class="line"><span class="cl">echo &#34;abc&#34;
</span></span><span class="line"><span class="cl">history | tail -5</span></span></code></pre>
</div>
<p>然后即使用 bash ./test.sh 也能看到history 的输出了</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-6" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">#bash test.sh
</span></span><span class="line"><span class="cl">31463
</span></span><span class="line"><span class="cl">/root
</span></span><span class="line"><span class="cl">abc
</span></span><span class="line"><span class="cl">    1  17/04/24 16:24:25 echo $$
</span></span><span class="line"><span class="cl">    2  17/04/24 16:24:25 echo &#34;abc&#34;
</span></span><span class="line"><span class="cl">    3  17/04/24 16:24:25 history | tail -5</span></span></code></pre>
</div>
<h3 id="export命令的作用" class="headerLink">
    <a href="#export%e5%91%bd%e4%bb%a4%e7%9a%84%e4%bd%9c%e7%94%a8" class="header-mark"></a>export命令的作用</h3><p>Linux 中export是一种命令工具通过export命令把shell变量中包含的用户变量导入给子程序.<strong>默认情况下子程序仅会继承父程序的环境变量</strong>，子程序不会继承父程序的自定义变量，所以需要export让父程序中的<strong>自定义变量</strong>变成环境变量，然后子程序就能继承过来了。</p>
<p>我们来看一个例子， 有一个变量，名字 abc 内容123 如果没有export ，那么通过bash创建一个新的shell（新shell是之前bash的子程序），在新的shell里面就没有abc这个变量， export之后在新的 shell 里面才可以看到这个变量，但是退出重新login后（产生了一个新的bash，只会加载env）abc变量都不在了</p>
<pre><code>$echo $abc
$abc=&quot;123&quot;
$echo $abc
123
$bash
$echo $abc

$exit
exit

$export abc

$echo $abc
123

$bash

$echo $abc
123
</code></pre>
<h2 id="一些常见问题" class="headerLink">
    <a href="#%e4%b8%80%e4%ba%9b%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98" class="header-mark"></a>一些常见问题</h2><h3 id="执行好好地shell-脚本换台服务器就source-not-found" class="headerLink">
    <a href="#%e6%89%a7%e8%a1%8c%e5%a5%bd%e5%a5%bd%e5%9c%b0shell-%e8%84%9a%e6%9c%ac%e6%8d%a2%e5%8f%b0%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%b0%b1source-not-found" class="header-mark"></a>执行好好地shell 脚本换台服务器就：source: not found</h3><p>source 是bash的一个内建命令（所以你找不到一个/bin/source 这样的可执行文件），也就是他是bash自带的，如果我们执行脚本是这样： sh shell.sh 而shell.sh中用到了source命令的话就会报 source: not found</p>
<p>这是因为bash 和 sh是两个东西，sh是 POSIX shell，你可以把它看成是一个兼容某个规范的shell，而bash是 Bourne-Again shell script， bash是 POSIX shell的扩展，就是bash支持所有符合POSIX shell的规范，但是反过来就不一定了，而这里的 source 恰好就是 bash内建的，不符合 POSIX shell的规范（<strong>POSIX shell 中用 . 来代替source</strong>)</p>
<blockquote>
  <p><a href="https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html#Bourne-Shell-Builtins" target="_blank" rel="noopener noreferrer">. (a period)</a></p>
<p>. filename [arguments]</p>
<p>Read and execute commands from the filename argument in the current shell context. If filename does not contain a slash, the <code>PATH</code> variable is used to find filename. When Bash is not in POSIX mode, the current directory is searched if filename is not found in <code>$PATH</code>. If any arguments are supplied, they become the positional parameters when filename is executed. Otherwise the positional parameters are unchanged. If the -T option is enabled, <code>source</code> inherits any trap on <code>DEBUG</code>; if it is not, any <code>DEBUG</code> trap string is saved and restored around the call to <code>source</code>, and <code>source</code> unsets the <code>DEBUG</code> trap while it executes. If -T is not set, and the sourced file changes the <code>DEBUG</code> trap, the new value is retained when <code>source</code> completes. The return status is the exit status of the last command executed, or zero if no commands are executed. If filename is not found, or cannot be read, the return status is non-zero. This builtin is equivalent to <code>source</code>.</p>

</blockquote><h3 id="在centos执行好好的脚本放到ubuntu上就不行了报语法错误" class="headerLink">
    <a href="#%e5%9c%a8centos%e6%89%a7%e8%a1%8c%e5%a5%bd%e5%a5%bd%e7%9a%84%e8%84%9a%e6%9c%ac%e6%94%be%e5%88%b0ubuntu%e4%b8%8a%e5%b0%b1%e4%b8%8d%e8%a1%8c%e4%ba%86%e6%8a%a5%e8%af%ad%e6%b3%95%e9%94%99%e8%af%af" class="header-mark"></a>在centos执行好好的脚本放到Ubuntu上就不行了，报语法错误</h3><p>同上，如果到ubuntu上用 bash shell.sh是可以的，但是sh shell.sh就报语法错误，但是在centos上执行：sh或者bash shell.sh 都可以通过。 在centos上执行 ls -lh /usr/bin/sh 可以看到 /usr/bin/sh link到了 /usr/bin/bash 也就是sh等同于bash，所以都可以通过不足为奇。</p>
<p>但是在ubuntu上执行 ls -lh /usr/bin/sh 可以看到 /usr/bin/sh link到了 <strong>/usr/bin/dash</strong> ， 这就是为什么ubuntu上会报错</p>
<h3 id="source-shellsh-和-bash-shellsh以及-shellsh的区别" class="headerLink">
    <a href="#source-shellsh-%e5%92%8c-bash-shellsh%e4%bb%a5%e5%8f%8a-shellsh%e7%9a%84%e5%8c%ba%e5%88%ab" class="header-mark"></a>source shell.sh 和 bash shell.sh以及 ./shell.sh的区别</h3><p>source shell.sh就在本shell中展开执行
bash shell.sh表示在本shell启动一个子程序（bash），在子程序中执行 shell.sh (shell.sh中产生的一些环境变量就没法带回父shell进程了)， 只需要有读 shell.sh 权限就可以执行
./shell.sh 跟bash shell.sh类似，但是必须要求shell.sh有rx权限，然后根据shell.sh前面的 #! 后面的指示来确定用bash还是sh</p>
<pre><code>$cat test.sh 
echo $$

$echo $$
2299

$source test.sh 
2299

$bash test.sh 
4037

$./test.sh 
4040
</code></pre>
<p>如上实例，只有source的时候进程ID和bash进程ID一样，其它方式都创建了一个新的bash进程，所以ID也变了。</p>
<p>bash test.sh 产生一个新的bash，但是这个新的bash中不会加载 .bashrc 需要加载的话必须 bash -l test.sh.</p>
<h3 id="通过ssh-执行命令命令前有sudo的时候报错sudo-sorry-you-must-have-a-tty-to-run-sudo" class="headerLink">
    <a href="#%e9%80%9a%e8%bf%87ssh-%e6%89%a7%e8%a1%8c%e5%91%bd%e4%bb%a4%e5%91%bd%e4%bb%a4%e5%89%8d%e6%9c%89sudo%e7%9a%84%e6%97%b6%e5%80%99%e6%8a%a5%e9%94%99sudo-sorry-you-must-have-a-tty-to-run-sudo" class="header-mark"></a>通过ssh 执行命令（命令前有sudo）的时候报错：sudo: sorry, you must have a tty to run sudo</h3><p>这是因为 /etc/sudoers (Linux控制sudo行为、权限的配置文件）中指定了 requiretty（<a href="https://www.shell-tips.com/2014/09/08/sudo-sorry-you-must-have-a-tty-to-run-sudo/" target="_blank" rel="noopener noreferrer">Redhat、Fedora默认行为</a>），但是 通过ssh远程执行命令是没有tty的（不需要交互）。
解决办法可以试试 ssh -t or -tt (强制分配tty）或者先修改 /etc/sudoers把 requiretty 删掉或者改成 !requiretty</p>
<h3 id="cp-命令即使使用了--f-force参数overwrite的时候还是弹出交互信息必须手工输入yyes等" class="headerLink">
    <a href="#cp-%e5%91%bd%e4%bb%a4%e5%8d%b3%e4%bd%bf%e4%bd%bf%e7%94%a8%e4%ba%86--f-force%e5%8f%82%e6%95%b0overwrite%e7%9a%84%e6%97%b6%e5%80%99%e8%bf%98%e6%98%af%e5%bc%b9%e5%87%ba%e4%ba%a4%e4%ba%92%e4%bf%a1%e6%81%af%e5%bf%85%e9%a1%bb%e6%89%8b%e5%b7%a5%e8%be%93%e5%85%a5yyes%e7%ad%89" class="header-mark"></a>cp 命令即使使用了 -f force参数，overwrite的时候还是弹出交互信息，必须手工输入Y、yes等</h3><p>Google搜索一下别人给出的方案是这样 echo yes | cp -rf xxx yyy 算是笨办法，但是没有找到这里为什么-f 不管用。
type -a cp 先确认一下 cp到底是个什么东西：</p>
<pre><code>	#type -a cp
	cp is aliased to `cp -i'
	cp is /usr/bin/cp
</code></pre>
<p>这下算是有点清楚了，原来默认cp 都是-i了（-i, &ndash;interactive prompt before overwrite (overrides a previous -n option)），看起来就是默认情况下为了保护我们的目录不经意间被修改了。所以真的确认要overwrite的话直接用 /usr/bin/cp -f 就不需要每次yes确认了</p>
<h3 id="重定向" class="headerLink">
    <a href="#%e9%87%8d%e5%ae%9a%e5%90%91" class="header-mark"></a>重定向</h3><p>sudo docker logs swarm-agent-master &gt;master.log 2&gt;&amp;1 输出重定向http://www.kissyu.org/2016/12/25/shell%E4%B8%AD%3E%20:dev:null%202%20%3E%20&amp;1%E6%98%AF%E4%BB%80%E4%B9%88%E9%AC%BC%EF%BC%9F/</p>
<pre><code>&gt;/dev/null 2&gt;&amp;1 标准输出丢弃 错误输出丢弃
2&gt;&amp;1 &gt;/dev/null 标准输出丢弃 错误输出屏幕
</code></pre>
<p><a href="http://kodango.com/bash-one-liners-explained-part-three" target="_blank" rel="noopener noreferrer">http://kodango.com/bash-one-liners-explained-part-three</a></p>
<h3 id="umask" class="headerLink">
    <a href="#umask" class="header-mark"></a>umask</h3><p>创建文件的默认权限是 666 文件夹是777 但是都要跟 umask做运算（按位减法） 一般umask是002
所以创建出来文件最终是664，文件夹是775，如果umask 是027的话最终文件是 640 文件夹是750
『尽量不要以数字相加减啦！』你应该要这样想(-rw-rw- rw-) – (——–wx)=-rw-rw-r–这样就对啦！不要用十进制的数字喔！够能力的话，用二进制来算，不晓得的话，用 rwx 来算喔！</p>
<h3 id="其它" class="headerLink">
    <a href="#%e5%85%b6%e5%ae%83" class="header-mark"></a>其它</h3><pre><code>echo $-   // himBH 
</code></pre>
<p>“$-” 中含有“i”代表“交互式shell”
“$0”的显示结果为“-bash”，bash前面多个“-”，代表“登录shell”.
没有“i“和“-”的，是“非交互式的非登录shell”</p>
<p>set +o histexpand （！ 是history展开符号， histexpand 可以打开或者关闭这个展开符）
alias 之后，想要用原来的命令：+alias  （命令前加)</p>
<p>bash程序执行，当“$0”是“sh”的时候，则要求下面的代码遵循一定的规范，当不符合规范的语法存在时，则会报错，所以可以这样理解，“sh”并不是一个程序，而是一种标准（POSIX），这种标准，在一定程度上（具体区别见下面的“Things bash has that sh does not”）保证了脚本的跨系统性（跨UNIX系统）</p>
<p>Linux 分 shell变量(set)，用户变量(env)， shell变量包含用户变量，export是一种命令工具，是显式那些通过export命令把shell变量中包含的用户变量导入给用户变量的那些变量.</p>
<p>set -euxo pipefail //-u unset -e 异常退出  <a href="http://www.ruanyifeng.com/blog/2017/11/bash-set.html" target="_blank" rel="noopener noreferrer">http://www.ruanyifeng.com/blog/2017/11/bash-set.html</a></p>
<h3 id="引号" class="headerLink">
    <a href="#%e5%bc%95%e5%8f%b7" class="header-mark"></a>引号</h3><p>shell 中：单引号的处理是比较简单的，被单引号包括的所有字符都保留原有的意思，例如&rsquo;$a&rsquo;不会被展开, &lsquo;<code>cmd</code>&lsquo;也不会执行命令；而双引号，则相对比较松，在双引号中，以下几个字符 $, `, \ 依然有其特殊的含义，比如$可以用于变量展开, 反引号`可以执行命令，反斜杠\可以用于转义。但是，在双引号包围的字符串里，反斜杠的转义也是有限的，它只能转义$, `, &ldquo;, \或者newline（回车）这几个字符，后面如果跟着的不是这几个字符，只不会被黑底，反斜杠会被保留  <a href="http://kodango.com/simple-bash-programming-skills-2" target="_blank" rel="noopener noreferrer">http://kodango.com/simple-bash-programming-skills-2</a></p>
<h3 id="su-和-su---的区别" class="headerLink">
    <a href="#su-%e5%92%8c-su---%e7%9a%84%e5%8c%ba%e5%88%ab" class="header-mark"></a>su 和 su - 的区别</h3><p>su命令和su -命令最大的本质区别就是：前者只是切换了root身份，但Shell环境仍然是普通用户的Shell；而后者连用户和Shell环境一起切换成root身份了。只有切换了Shell环境才不会出现PATH环境变量错误。su切换成root用户以后，pwd一下，发现工作目录仍然是普通用户的工作目录；而用su -命令切换以后，工作目录变成root的工作目录了。用echo $PATH命令看一下su和su -以后的环境变量有何不同。以此类推，要从当前用户切换到其它用户也一样，应该使用su -命令。</p>
<p>比如：
su admin 会重新加载 ~/.bashrc ，但是不会切换到admin 的home目录。
但是 su - admin 不会重新加载 ~/.bashrc ，但是会切换admin的home目录。</p>
<p>The su command is used to become another user during a login session. Invoked without a username, su defaults to becoming the superuser. The optional argument - may be used to provide an environment similar to what the user would expect had the user logged in directly.</p>
<h3 id="后台任务执行" class="headerLink">
    <a href="#%e5%90%8e%e5%8f%b0%e4%bb%bb%e5%8a%a1%e6%89%a7%e8%a1%8c" class="header-mark"></a>后台任务执行</h3><p>将任务放到后台，断开ssh后还能运行：
&ldquo;ctrl-Z&quot;将当前任务挂起（实际是发送 SIGTSTP 信号），父进程ssh退出时会给所有子进程发送 SIGHUP；</p>
<p>jobs -l 查看所有job</p>
<p>&ldquo;disown -h %序号&rdquo; 让该任务忽略SIGHUP信号（不会因为掉线而终止执行），序号为 Jobs -l 看到的顺序号；
&ldquo;bg&quot;让该任务在后台恢复运行。</p>
<h2 id="shell-调试与参数" class="headerLink">
    <a href="#shell-%e8%b0%83%e8%af%95%e4%b8%8e%e5%8f%82%e6%95%b0" class="header-mark"></a>shell 调试与参数</h2><p>为了方便 Debug，有时在启动 Bash 的时候，可以加上启动参数。</p>
<ul>
<li><code>-n</code>：不运行脚本，只检查是否有语法错误。</li>
<li><code>-v</code>：输出每一行语句运行结果前，会先输出该行语句。</li>
<li><code>-x</code>：每一个命令处理完以后，先输出该命令，再进行下一个命令的处理。</li>
</ul>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-7" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">$ bash -n scriptname
</span></span><span class="line"><span class="cl">$ bash -v scriptname
</span></span><span class="line"><span class="cl">$ bash -x scriptname</span></span></code></pre>
</div>
<h2 id="shell-数值运算" class="headerLink">
    <a href="#shell-%e6%95%b0%e5%80%bc%e8%bf%90%e7%ae%97" class="header-mark"></a>shell 数值运算</h2><p>bash中数值运算要这样 $(( $a+$b )) // declare -i 才是定义一个整型变量</p>
<ul>
<li>在中括号 [] 内的每个组件都需要有空白键来分隔；</li>
<li>在中括号内的变量，最好都以双引号括号起来；</li>
<li>在中括号内的常数，最好都以单或双引号括号起来。</li>
</ul>
<p>在bash中为变量赋值的语法是<code>foo=bar</code>，访问变量中存储的数值，其语法为 <code>$foo</code>。 需要注意的是，<code>foo = bar</code> （使用空格隔开）是不能正确工作的，因为解释器会调用程序<code>foo</code> 并将 <code>=</code> 和 <code>bar</code>作为参数。 总的来说，在shell脚本中使用空格会起到分割参数的作用，有时候可能会造成混淆，请务必多加检查。</p>
<h2 id="其它-1" class="headerLink">
    <a href="#%e5%85%b6%e5%ae%83-1" class="header-mark"></a>其它</h2><ul>
<li>系统合法的 shell 均写在 /etc/shells 文件中；</li>
<li>用户默认登陆取得的 shell 记录于 /etc/passwd 的最后一个字段；</li>
<li>type 可以用来找到运行命令为何种类型，亦可用于与 which 相同的功能 [<strong>type -a</strong>]；</li>
<li>变量主要有环境变量与自定义变量，或称为全局变量与局部变量</li>
<li>使用 env 与 export 可观察环境变量，其中 export 可以将自定义变量转成环境变量；</li>
<li>set 可以观察目前 bash 环境下的所有变量；</li>
<li>stty -a</li>
<li><strong>$? 亦为变量，是前一个命令运行完毕后的回传值</strong>。在 Linux 回传值为 0 代表运行成功；</li>
<li>bash 的配置文件主要分为 login shell 与 non-login shell。login shell 主要读取 /etc/profile 与 ~/.bash_profile， non-login shell 则仅读取 ~/.bashrc</li>
</ul>
<p>在bash中进行比较时，尽量使用双方括号 <code>[[ ]]</code> 而不是单方括号 <code>[ ]</code>，<a href="http://mywiki.wooledge.org/BashFAQ/031" target="_blank" rel="noopener noreferrer">这样会降低犯错的几率</a>，尽管这样并不能兼容 <code>sh</code></p>
<h3 id="type" class="headerLink">
    <a href="#type" class="header-mark"></a>type</h3><p><strong>执行顺序(type -a ls 可以查看到顺序)：</strong></p>
<ol>
<li>以相对/绝对路径运行命令，例如『 /bin/ls 』或『 ./ls 』；</li>
<li>由 alias 找到该命令来运行；</li>
<li>由 bash 内建的 (builtin) 命令来运行；</li>
<li>透过 $PATH 这个变量的顺序搜寻到的第一个命令来运行。</li>
</ol>
<p><a href="https://tldr.sh/" target="_blank" rel="noopener noreferrer">tldr 可以用来查询命令的常用语法</a>，比man简短些，偏case型</p>
<h2 id="参考文章" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%ab%a0" class="header-mark"></a>参考文章：</h2><p><a href="https://blog.csdn.net/u010871982/article/details/78525367" target="_blank" rel="noopener noreferrer">关于ansible远程执行的环境变量问题</a></p>
<p><a href="http://bbs.chinaunix.net/thread-1068678-1-1.html" target="_blank" rel="noopener noreferrer">Bash和Sh的区别</a></p>
<p><a href="http://kodango.com/what-is-interactive-and-login-shell" target="_blank" rel="noopener noreferrer">什么是交互式登录 Shell what-is-interactive-and-login-shell</a></p>
<p><a href="http://kodango.com/explain-shell-default-options" target="_blank" rel="noopener noreferrer">Shell 默认选项 himBH 的解释</a></p>
<p><a href="http://kodango.com/useful-documents-about-shell" target="_blank" rel="noopener noreferrer">useful-documents-about-shell</a></p>
<p><a href="http://coolnull.com/4432.html" target="_blank" rel="noopener noreferrer">linux cp实现强制覆盖</a></p>
<p><a href="https://wangdoc.com/bash/startup.html" target="_blank" rel="noopener noreferrer">https://wangdoc.com/bash/startup.html</a></p>
<p><a href="https://cjting.me/2020/12/10/tiny-x64-helloworld/" target="_blank" rel="noopener noreferrer">编写一个最小的 64 位 Hello World</a></p>
<p><a href="https://missing-semester-cn.github.io/" target="_blank" rel="noopener noreferrer">计算机教育中缺失的一课</a></p>
<p><a href="https://foxwho.com/article/184" target="_blank" rel="noopener noreferrer">macOS设置环境变量path/paths的完全总结</a> 很详细</p>
]]></description>
</item><item>
    <title>ansible 常见问题</title>
    <link>https://plantegg.github.io/posts/ansible-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/</link>
    <pubDate>Thu, 24 Mar 2016 17:30:03 &#43;0000</pubDate><author>
        <name>作者</name>
    </author><guid>https://plantegg.github.io/posts/ansible-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/</guid>
    <description><![CDATA[<h1 id="ansible-常见问题" class="headerLink">
    <a href="#ansible-%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98" class="header-mark"></a>ansible 常见问题</h1><h2 id="获取模块信息" class="headerLink">
    <a href="#%e8%8e%b7%e5%8f%96%e6%a8%a1%e5%9d%97%e4%bf%a1%e6%81%af" class="header-mark"></a>获取模块信息</h2><ul>
<li></li>
</ul>
<p>获取所有模块信息，100多个</p>
<ul>
<li>ansible-doc -l</li>
</ul>
<p>获取每个模块的具体信息</p>
<ul>
<li>
<p>ansible-doc<br>
example：ansible-doc ping</p>
<p>PING</p>
<p>A trivial test module, this module always returns <code>pong' on successful contact. It does not make sense in playbooks, but it is useful from </code>/usr/bin/udp'</p>
<p>EXAMPLES:
Test &lsquo;webservers&rsquo; status</p>
<p>udp webservers -m ping</p>
</li>
</ul>
<h2 id="嵌套执行命令roles" class="headerLink">
    <a href="#%e5%b5%8c%e5%a5%97%e6%89%a7%e8%a1%8c%e5%91%bd%e4%bb%a4roles" class="header-mark"></a>嵌套执行命令roles</h2><pre><code>- name: create jdk home
  file: path={{ remote_jdk_home }} state=directory mode=0755

- name: xxxxxxxxx
  include: ../../init/tasks/main.yml
</code></pre>
<h2 id="defaults-中变量定义" class="headerLink">
    <a href="#defaults-%e4%b8%ad%e5%8f%98%e9%87%8f%e5%ae%9a%e4%b9%89" class="header-mark"></a>defaults 中变量定义</h2><pre><code> 1：加双引号；2：变量名和变量之间，有空格；
 diamond_db_key: &quot;{{ diamond_db_ip }}_{{ diamond_db_name }}_dbkey&quot;
 manager_user1: &quot;{{ manager_user_name }}&quot;
</code></pre>
<h1 id="tags" class="headerLink">
    <a href="#tags" class="header-mark"></a>tags</h1><p>相同的tasks在不同的环境下面执行，通过tag来进行表面，如下图：</p>
<pre><code>  useage: 
    udp-playbook setup.yml -v -kK -i hosts.ini --tags &quot;ta&quot;

- name: 1
  authorized_key: user={{ ansible_ssh_user }}  key=&quot;{{ lookup('file', '~/.ssh/id_rsa.pub') }}&quot;  state=present
  tags: ta

- name: 2
  group: name={{ remote_user }}
  tags: always

- name: 3
  file: path={{ remote_home }} owner={{ remote_user }} group={{ remote_user }} state=directory recurse=yes mode=0755
  tags: tb
</code></pre>
<h2 id="常见错误" class="headerLink">
    <a href="#%e5%b8%b8%e8%a7%81%e9%94%99%e8%af%af" class="header-mark"></a>常见错误</h2><p>ansible 中 scp scp: ambiguous target 错误还是因为ssh 增加了 -t 参数, scp不支持 -t 参数</p>
<h2 id="disable-python-warninghttpsdocsansiblecomansiblelatestreference_appendicesinterpreter_discoveryhtml" class="headerLink">
    <a href="#disable-python-warninghttpsdocsansiblecomansiblelatestreference_appendicesinterpreter_discoveryhtml" class="header-mark"></a><a href="https://docs.ansible.com/ansible/latest/reference_appendices/interpreter_discovery.html" target="_blank" rel="noopener noreferrer">disable python warning</a></h2><p>To control the discovery behavior:</p>
<ul>
<li>for individual hosts and groups, use the <code>ansible_python_interpreter</code> inventory variable</li>
<li>globally, use the <code>interpreter_python</code> key in the <code>[defaults]</code> section of <code>ansible.cfg</code></li>
</ul>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">shell</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-1" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"><span class="o">[</span>defaults<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">interpreter_python</span><span class="o">=</span>auto_silent  </span></span></code></pre>
</div>
<h3 id="其它常见错误" class="headerLink">
    <a href="#%e5%85%b6%e5%ae%83%e5%b8%b8%e8%a7%81%e9%94%99%e8%af%af" class="header-mark"></a>其它常见错误</h3>
<div class="table-wrapper">
  <table>
    <thead>
        <tr>
            <th style="text-align: ">问题</th>
            <th style="text-align: ">解决方案</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align: ">性能</td>
            <td style="text-align: ">ansible现在并发执行的任务好像还不够，执行批量传大文件的任务等的比较久 &mdash; 用 synchronize  并将 fork 默认的5改大</td>
        </tr>
        <tr>
            <td style="text-align: ">sudoers</td>
            <td style="text-align: ">尝试解决ansible不能执行的问题，搜索各种英文文档，有人说版本的原因，有人反馈是脚本错误，最终无解。 继续在本地进行测试，发现使用原始的ansible命令可以执行ls，但是sudo ls时会提示 sudo need tty 之类的报错。 定位这个错误是因为在/etc/sudoers文件中设置了  Defaults requiretty，修改为 #Defaults requiretty，重试发现问题解决。 手工修改所有机器的配置文件，问题解决。{&ldquo;msg&rdquo;: &ldquo;ssh connection closed waiting for a privilege escalation password prompt&rdquo;}&mdash;实际在部分机器上执行ansible命令时仍然有：sudo: no tty present and no askpass program specified  可以给ssh 增加-t/-tt参数来强制分配一个tty</td>
        </tr>
        <tr>
            <td style="text-align: ">failed to transfer file to  xxx</td>
            <td style="text-align: ">远端机器磁盘已经满,查看df -h，特别是/tmp</td>
        </tr>
        <tr>
            <td style="text-align: ">requires a json module, none found</td>
            <td style="text-align: ">问题已经通过nginx进行解决部署,安装ansible的时候，在目标机器上面安装 python-simplejson 通过如下命令：yum install python-simplejson -y</td>
        </tr>
        <tr>
            <td style="text-align: ">openssh升级后无法登录报错</td>
            <td style="text-align: ">sshrpm 升级后会修改/etc/pam.d/sshd 文件。需要升级前备份此文件最后还原即可登录。</td>
        </tr>
        <tr>
            <td style="text-align: ">安装EagleEye出现的问题</td>
            <td style="text-align: ">1.hadoop name -format 这个需要输入Y/N；2.ssh-key没搞定；3.我们原来可以for循环的地方，古谦脚本只能1条1条的加</td>
        </tr>
        <tr>
            <td style="text-align: ">使用lineinfile方法时，内容不能包含&quot;: &ldquo;(冒号+空格)，这个与ansible底层的分隔符冲突；</td>
            <td style="text-align: ">让用户在内容中不要包含&rdquo;: &quot;</td>
        </tr>
        <tr>
            <td style="text-align: ">https 相关</td>
            <td style="text-align: ">SSL validation is not available in your version of python. You can use validate_certs=no, however this is unsafe and not recommended. You can also install python-ssl from EPEL</td>
        </tr>
        <tr>
            <td style="text-align: ">You need a C++ compiler for C++ support</td>
            <td style="text-align: ">yum install -y gcc gcc-c++</td>
        </tr>
        <tr>
            <td style="text-align: ">１：udp权限问题，有时候会出现权限认证失败；２：udp如何执行本地命令；　３：udp线上有什么方便的安装方法</td>
            <td style="text-align: ">问题1:方法一 去掉sudo试试（报访问文件 /opt/aliUDP/logs/udp.log 失败，备份重新建一个udp.log 文件给于 777 权限）; 方法二 指定 &ndash;private-key=PRIVATE_KEY_FILE （先试试直接ssh登录某台目标机器行不行）  问题2：udp支持直接运行目标机器上的命令，用法：udp server  -i ~/ali/udp-roles/roles/udp-install/udp-hosts.ini  -m shell -a &quot; uptime ; df -lh &quot; -u admin</td>
        </tr>
        <tr>
            <td style="text-align: ">同一个ip部署不同的工程时，定义的变量会冲突；例如ip1同时部署mysql和diamond，都定义project_name；这样上面的会生效，下面定义的会被冲掉</td>
            <td style="text-align: ">Wiki：http://gitlab.alibaba-inc.com/middleware-udp/udp-doc/wikis/Different_Hosts_With_Different_Variables  将变量分别定义在 ./roles/mysql/defaults/main.yml 和 ./roles/diamond/defaults/main.yml中 或者使用不同的变量名</td>
        </tr>
        <tr>
            <td style="text-align: ">执行udp-play-book 时会报找不到key的问题</td>
            <td style="text-align: ">在udp机器上执行 ssh-keygen 来生成key，解决</td>
        </tr>
        <tr>
            <td style="text-align: ">ssh 的时候需要手工 yes/no</td>
            <td style="text-align: ">增加参数 -o StrictHostKeyChecking no 就不需要输入了</td>
        </tr>
        <tr>
            <td style="text-align: ">防火墙问题，本地可以访问，远程不能</td>
            <td style="text-align: ">通过抓包/telnet等方式来确认这个问题， 通过iptables stop 来临时关闭防火墙； 修改iptables 的配置永久关闭或者增加所有其它节点到白名单中</td>
        </tr>
        <tr>
            <td style="text-align: "></td>
            <td style="text-align: ">重要！ hostname -i 一定要是本机在局域网内的真实ip地址（不是127.0.0.1 ）。  要绑定etc/hosts 下面 把自己的hostname绑定到对应的真实ip上。</td>
        </tr>
        <tr>
            <td style="text-align: ">在UDP PlayBook中如何定义不同的机器、不同的Role使用不同的变量</td>
            <td style="text-align: "><a href="http://gitlab.alibaba-inc.com/middleware-udp/udp-doc/wikis/Different_Hosts_With_Different_Variables" target="_blank" rel="noopener noreferrer">http://gitlab.alibaba-inc.com/middleware-udp/udp-doc/wikis/Different_Hosts_With_Different_Variables</a></td>
        </tr>
        <tr>
            <td style="text-align: ">Dauth部署问题总结</td>
            <td style="text-align: "><a href="http://gitlab.alibaba-inc.com/middleware-udp/udp-doc/wikis/Dauth-UDP-deployment-issues" target="_blank" rel="noopener noreferrer">http://gitlab.alibaba-inc.com/middleware-udp/udp-doc/wikis/Dauth-UDP-deployment-issues</a></td>
        </tr>
        <tr>
            <td style="text-align: ">Device or resource busy</td>
            <td style="text-align: ">一般出现在Docker中修改/etc/hosts会有这个问题，ansible会rm它，实际它是-v进去的，通过脚本补丁绕过去</td>
        </tr>
    </tbody>
  </table>
</div>
<p>ansible 中 scp scp: ambiguous target 错误还是因为ssh 增加了 -t 参数, scp不支持 -t 参数</p>
]]></description>
</item><item>
    <title>ansible 命令使用手册</title>
    <link>https://plantegg.github.io/posts/ansible-%E5%91%BD%E4%BB%A4%E9%80%9A%E9%81%93%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/</link>
    <pubDate>Thu, 24 Mar 2016 17:30:03 &#43;0000</pubDate><author>
        <name>作者</name>
    </author><guid>https://plantegg.github.io/posts/ansible-%E5%91%BD%E4%BB%A4%E9%80%9A%E9%81%93%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/</guid>
    <description><![CDATA[<h1 id="ansible-命令使用手册" class="headerLink">
    <a href="#ansible-%e5%91%bd%e4%bb%a4%e4%bd%bf%e7%94%a8%e6%89%8b%e5%86%8c" class="header-mark"></a>ansible 命令使用手册</h1><h2 id="什么是命令通道" class="headerLink">
    <a href="#%e4%bb%80%e4%b9%88%e6%98%af%e5%91%bd%e4%bb%a4%e9%80%9a%e9%81%93" class="header-mark"></a>什么是命令通道？</h2><p>有时候一些简单任务，没必要写复杂的playbook，所以大多时候我们可以通过ansible命令行来批量操控目标机器</p>
<blockquote>
  <p>当我们需要批量操作、查看一组机器，或者在这些机器上批量执行某个命令、修改某个文件，都可以通过命令通道在一台机器上批量并发完成对所有机器的操作</p>
<p>命令通道只是一个帮你将命令发送到多个目标机器，并将执行结果返回来给你的一个执行通道</p>

</blockquote><h2 id="使用场景" class="headerLink">
    <a href="#%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af" class="header-mark"></a>使用场景</h2><ul>
<li>执行一行命令就能看到几十台机器的负载情况</li>
<li>批量执行远程服务器上已经写好的Shell脚本</li>
<li>查看所有Web服务器最近10000行Log中有没有ERROR</li>
<li>查看所有DB服务器的内存使用情况</li>
<li>批量将所有Diamond服务器的某个端口从7000改成9000</li>
</ul>
<h2 id="开始准备" class="headerLink">
    <a href="#%e5%bc%80%e5%a7%8b%e5%87%86%e5%a4%87" class="header-mark"></a>开始准备</h2><blockquote>
  <p>如果不想每次输入ssh密码的话请提前将本地公钥(~/.ssh/id_rsa.pub 没有的话 ssh-keygen生成一对)复制到目标机器的 ~/.ssh/authorized_keys 里面，否则每次执行命令都要输入密码</p>

</blockquote><h3 id="编写一个-hostsini-配置文件内容如下" class="headerLink">
    <a href="#%e7%bc%96%e5%86%99%e4%b8%80%e4%b8%aa-hostsini-%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6%e5%86%85%e5%ae%b9%e5%a6%82%e4%b8%8b" class="header-mark"></a>编写一个 hosts.ini 配置文件，内容如下:</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-1" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">[server]
</span></span><span class="line"><span class="cl">10.125.0.169 ansible_ssh_port=9999 #如果只有这台机器ssh走的是9999端口，其它没有设置的还是默认22端口
</span></span><span class="line"><span class="cl">10.125.3.33
</span></span><span class="line"><span class="cl">120.26.116.193  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">[worker]
</span></span><span class="line"><span class="cl">10.125.12.174
</span></span><span class="line"><span class="cl">10.125.14.238
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">[target]
</span></span><span class="line"><span class="cl">10.125.192.40 
</span></span><span class="line"><span class="cl">10.125.7.151
</span></span><span class="line"><span class="cl">192.168.2.[101:107]</span></span></code></pre>
</div>
<p>server/worker/target表示将7台机器分成了三组，可以到所有7台机器执行同一个命令，也可以只在server/worker/target中的一组机器上执行某个命令.all代表所有7台机器</p>
<h2 id="运行命令行" class="headerLink">
    <a href="#%e8%bf%90%e8%a1%8c%e5%91%bd%e4%bb%a4%e8%a1%8c" class="header-mark"></a>运行命令行</h2><h3 id="查看-hostsini-里面所有服务器的-uptime" class="headerLink">
    <a href="#%e6%9f%a5%e7%9c%8b-hostsini-%e9%87%8c%e9%9d%a2%e6%89%80%e6%9c%89%e6%9c%8d%e5%8a%a1%e5%99%a8%e7%9a%84-uptime" class="header-mark"></a>查看 hosts.ini 里面所有服务器的 uptime</h3><pre><code>```
$ ansible -i hosts.ini all -m raw -a &quot; uptime  &quot; -u admin
/usr/bin/ansible -i hosts.ini all -m raw -a  uptime   -u admin

success =&gt; 10.125.12.174 =&gt; rc=0 =&gt;
 11:10:50 up 27 days, 15:40,  1 user,  load average: 0.05, 0.03, 0.05
success =&gt; 120.26.116.193 =&gt; rc=0 =&gt;
 11:10:50 up 13 days, 21:07,  1 user,  load average: 0.00, 0.00, 0.00
</code></pre>
<p>命令参数说明</p>
<blockquote>
  <p><strong>all:</strong>  表示对hosts.ini里面的所有服务器执行后面的命令</p>

</blockquote><blockquote>
  <p><strong>-i:</strong>   指定hosts.ini文件所在的位置</p>

</blockquote><blockquote>
  <p><strong>-m raw -a:</strong> 指定需要执行的命令</p>

</blockquote><blockquote>
  <p><strong>&quot; uptime &ldquo;</strong> 双引号里面写上需要执行的命令</p>

</blockquote><blockquote>
  <p><strong>-u admin</strong> 表示通过用户名admin 去执行命令【如果没有做好免密码，请加上 -k 参数，会出来提示输入SSH密码】</p>

</blockquote><h3 id="查看-hostsini-里面-server-组服务器的-home目录下的文件结构" class="headerLink">
    <a href="#%e6%9f%a5%e7%9c%8b-hostsini-%e9%87%8c%e9%9d%a2-server-%e7%bb%84%e6%9c%8d%e5%8a%a1%e5%99%a8%e7%9a%84-home%e7%9b%ae%e5%bd%95%e4%b8%8b%e7%9a%84%e6%96%87%e4%bb%b6%e7%bb%93%e6%9e%84" class="header-mark"></a>查看 hosts.ini 里面 server 组服务器的 home目录下的文件结构</h3><pre><code>$ ansible -i hosts.ini server -m raw -a &quot; ls -lh ~/  &quot; -u admin

/usr/bin/ansible -i hosts.ini server -m raw -a  ls -lh ~/   -u admin

success =&gt; 10.125.0.169 =&gt; rc=0 =&gt;
total 12K
drwxr-xr-x  2 root  root  4.0K Nov 13 12:34 files
drwxr-xr-x 11 admin admin 4.0K Oct 20 10:49 tomcat
drwxr-xr-x  3 test  games 4.0K Nov 18 15:40 ansible-engine
success =&gt; 10.125.3.33 =&gt; rc=0 =&gt;
total 20K
-rw-------  1 admin admin 1.4K Nov 12 13:39 authorized_keys
drwxr-xr-x  2 root  root  4.0K Nov 12 16:24 engine
drwxr-xr-x  2 root  root  4.0K Nov 13 12:22 files
drwxr-xr-x 11 admin admin 4.0K Nov 18 15:43 tomcat
drwxr-xr-x  3 test  games 4.0K Nov 18 15:40 ansible-engine
</code></pre>
<h3 id="查看部分机器-hostname" class="headerLink">
    <a href="#%e6%9f%a5%e7%9c%8b%e9%83%a8%e5%88%86%e6%9c%ba%e5%99%a8-hostname" class="header-mark"></a>查看部分机器 hostname</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-2" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"># ansible -i ccb_test.ini 192.168.2.10* -m shell -a &#39;hostname &#39;
</span></span><span class="line"><span class="cl">[WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details
</span></span><span class="line"><span class="cl">192.168.2.100 | CHANGED | rc=0 &gt;&gt;
</span></span><span class="line"><span class="cl">az2-drds-100
</span></span><span class="line"><span class="cl">192.168.2.106 | CHANGED | rc=0 &gt;&gt;
</span></span><span class="line"><span class="cl">az2-manager-106
</span></span><span class="line"><span class="cl">192.168.2.101 | CHANGED | rc=0 &gt;&gt;
</span></span><span class="line"><span class="cl">az2-alisql-101
</span></span><span class="line"><span class="cl">192.168.2.102 | CHANGED | rc=0 &gt;&gt;
</span></span><span class="line"><span class="cl">az2-alisql-102
</span></span><span class="line"><span class="cl">192.168.2.105 | CHANGED | rc=0 &gt;&gt;
</span></span><span class="line"><span class="cl">az2-alisql-105
</span></span><span class="line"><span class="cl">192.168.2.104 | CHANGED | rc=0 &gt;&gt;
</span></span><span class="line"><span class="cl">az2-alisql-104
</span></span><span class="line"><span class="cl">192.168.2.103 | CHANGED | rc=0 &gt;&gt;
</span></span><span class="line"><span class="cl">az2-alisql-103
</span></span><span class="line"><span class="cl">192.168.2.107 | CHANGED | rc=0 &gt;&gt;
</span></span><span class="line"><span class="cl">az2-manager-107</span></span></code></pre>
</div>
<h3 id="使用环境变量" class="headerLink">
    <a href="#%e4%bd%bf%e7%94%a8%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f" class="header-mark"></a>使用环境变量</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-3" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"><span class="c1">#config /etc/hosts
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">ansible</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="err">$</span><span class="mi">1</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">shell</span><span class="w"> </span><span class="o">-</span><span class="n">a</span><span class="w">  </span><span class="s2">&#34; sed -i &#39;/registry/d&#39; /etc/hosts &#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ansible</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="err">$</span><span class="mi">1</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">shell</span><span class="w"> </span><span class="o">-</span><span class="n">a</span><span class="w">  </span><span class="s2">&#34; echo &#39;{{ registry }}    registry&#39; &gt;/etc/hosts &#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ansible</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="err">$</span><span class="mi">1</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">shell</span><span class="w"> </span><span class="o">-</span><span class="n">a</span><span class="w"> </span><span class="s2">&#34; echo &#39;{{ inventory_hostname }} `hostname`&#39; &gt;&gt;/etc/hosts &#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ansible</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="err">$</span><span class="mi">1</span><span class="w"> </span><span class="n">diamond</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">shell</span><span class="w"> </span><span class="o">-</span><span class="n">a</span><span class="w"> </span><span class="s2">&#34; echo &#39;{{ inventory_hostname  }}   jmenv.tbsite.net&#39; &gt;&gt; /etc/hosts &#34;</span><span class="w"> </span><span class="o">-</span><span class="n">u</span><span class="w"> </span><span class="n">root</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">//</span><span class="err">修改机器</span><span class="n">hostname</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ansible</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="err">$</span><span class="mi">1</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">shell</span><span class="w"> </span><span class="o">-</span><span class="n">a</span><span class="w"> </span><span class="s2">&#34; hostnamectl set-hostname=&#39;drds-{{ server_id }}&#39; &#34;</span><span class="w"> </span><span class="o">-</span><span class="n">u</span><span class="w"> </span><span class="n">root</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">//</span><span class="err">修改机器</span><span class="n">hostname</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">ansible</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="err">$</span><span class="mi">1</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">shell</span><span class="w"> </span><span class="o">-</span><span class="n">a</span><span class="w"> </span><span class="s2">&#34; echo &#39; {{ inventory_hostname }} drds-{{ server_id }}&#39; &gt;&gt; /etc/hosts  &#34;</span><span class="w"> </span><span class="o">-</span><span class="n">u</span><span class="w"> </span><span class="n">root</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">//</span><span class="n">hostname</span><span class="w"> </span><span class="err">修改机器名</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1"># ansible -i ccb_test.ini 192.168.2.101 -m hostname -a &#34; name=az2-alisql-101 &#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">[</span><span class="n">WARNING</span><span class="p">]:</span><span class="w"> </span><span class="n">Invalid</span><span class="w"> </span><span class="n">characters</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">replaced</span><span class="p">,</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="o">-</span><span class="n">vvvv</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">details</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">2</span><span class="p">.</span><span class="mi">101</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">CHANGED</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s2">&#34;ansible_facts&#34;</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s2">&#34;ansible_domain&#34;</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s2">&#34;ansible_fqdn&#34;</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;iZ2ze9aj0re2ggbqa4dgxkZ&#34;</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s2">&#34;ansible_hostname&#34;</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;az2-alisql-101&#34;</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s2">&#34;ansible_nodename&#34;</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;az2-alisql-101&#34;</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s2">&#34;discovered_interpreter_python&#34;</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;/usr/bin/python&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="err">}</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s2">&#34;changed&#34;</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s2">&#34;name&#34;</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;az2-alisql-101&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">}</span></span></span></code></pre>
</div>
<h3 id="管理系统service" class="headerLink">
    <a href="#%e7%ae%a1%e7%90%86%e7%b3%bb%e7%bb%9fservice" class="header-mark"></a>管理系统service</h3><p>设置 docker daemon服务重新启动和开机自动启动</p>
<div class="code-block highlight is-closed show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-4" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"><span class="c1"># ansible -i ccb_test.ini 192.168.2.101 -m service -a &#34; name=docker enabled=yes state=restarted &#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="n">WARNING</span><span class="p">]:</span> <span class="n">Invalid</span> <span class="n">characters</span> <span class="n">were</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">group</span> <span class="n">names</span> <span class="n">but</span> <span class="ow">not</span> <span class="n">replaced</span><span class="p">,</span> <span class="n">use</span> <span class="o">-</span><span class="n">vvvv</span> <span class="n">to</span> <span class="n">see</span> <span class="n">details</span>
</span></span><span class="line"><span class="cl"><span class="mf">192.168</span><span class="o">.</span><span class="mf">2.101</span> <span class="o">|</span> <span class="n">CHANGED</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;ansible_facts&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;discovered_interpreter_python&#34;</span><span class="p">:</span> <span class="s2">&#34;/usr/bin/python&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span> 
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;changed&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;enabled&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;docker&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;state&#34;</span><span class="p">:</span> <span class="s2">&#34;started&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;status&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ActiveEnterTimestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;二 2020-05-12 19:03:57 CST&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ActiveEnterTimestampMonotonic&#34;</span><span class="p">:</span> <span class="s2">&#34;1553024093129&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ActiveExitTimestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;二 2020-05-12 19:01:24 CST&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ActiveExitTimestampMonotonic&#34;</span><span class="p">:</span> <span class="s2">&#34;1552870910912&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ActiveState&#34;</span><span class="p">:</span> <span class="s2">&#34;active&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;After&#34;</span><span class="p">:</span> <span class="s2">&#34;systemd-journald.socket system.slice docker.socket firewalld.service containerd.service network-online.target basic.target&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;AllowIsolate&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;AmbientCapabilities&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;AssertResult&#34;</span><span class="p">:</span> <span class="s2">&#34;yes&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;AssertTimestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;二 2020-05-12 19:03:57 CST&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;AssertTimestampMonotonic&#34;</span><span class="p">:</span> <span class="s2">&#34;1553023902297&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Before&#34;</span><span class="p">:</span> <span class="s2">&#34;multi-user.target shutdown.target&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;BindsTo&#34;</span><span class="p">:</span> <span class="s2">&#34;containerd.service&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;BlockIOAccounting&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;BlockIOWeight&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;CPUAccounting&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;CPUQuotaPerSecUSec&#34;</span><span class="p">:</span> <span class="s2">&#34;infinity&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;CPUSchedulingPolicy&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;CPUSchedulingPriority&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;CPUSchedulingResetOnFork&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;CPUShares&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;CanIsolate&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;CanReload&#34;</span><span class="p">:</span> <span class="s2">&#34;yes&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;CanStart&#34;</span><span class="p">:</span> <span class="s2">&#34;yes&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;CanStop&#34;</span><span class="p">:</span> <span class="s2">&#34;yes&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;CapabilityBoundingSet&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ConditionResult&#34;</span><span class="p">:</span> <span class="s2">&#34;yes&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ConditionTimestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;二 2020-05-12 19:03:57 CST&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ConditionTimestampMonotonic&#34;</span><span class="p">:</span> <span class="s2">&#34;1553023902297&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Conflicts&#34;</span><span class="p">:</span> <span class="s2">&#34;shutdown.target&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ConsistsOf&#34;</span><span class="p">:</span> <span class="s2">&#34;docker.socket&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ControlGroup&#34;</span><span class="p">:</span> <span class="s2">&#34;/system.slice/docker.service&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ControlPID&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;DefaultDependencies&#34;</span><span class="p">:</span> <span class="s2">&#34;yes&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Delegate&#34;</span><span class="p">:</span> <span class="s2">&#34;yes&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Description&#34;</span><span class="p">:</span> <span class="s2">&#34;Docker Application Container Engine&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;DevicePolicy&#34;</span><span class="p">:</span> <span class="s2">&#34;auto&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Documentation&#34;</span><span class="p">:</span> <span class="s2">&#34;https://docs.docker.com&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ExecMainCode&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ExecMainExitTimestampMonotonic&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ExecMainPID&#34;</span><span class="p">:</span> <span class="s2">&#34;16213&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ExecMainStartTimestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;二 2020-05-12 19:03:57 CST&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ExecMainStartTimestampMonotonic&#34;</span><span class="p">:</span> <span class="s2">&#34;1553023907468&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ExecMainStatus&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ExecReload&#34;</span><span class="p">:</span> <span class="s2">&#34;{ path=/bin/kill ; argv[]=/bin/kill -s HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ExecStart&#34;</span><span class="p">:</span> <span class="s2">&#34;{ path=/usr/bin/dockerd ; argv[]=/usr/bin/dockerd -H fd:// -H tcp://0.0.0.0:2376 --data-root=/var/lib/docker --log-opt max-size=50m --log-opt max-file=3 --registry-mirror=https://oqpc6eum.mirror.aliyuncs.com --containerd=/run/containerd/containerd.sock ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;FailureAction&#34;</span><span class="p">:</span> <span class="s2">&#34;none&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;FileDescriptorStoreMax&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;FragmentPath&#34;</span><span class="p">:</span> <span class="s2">&#34;/usr/lib/systemd/system/docker.service&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;GuessMainPID&#34;</span><span class="p">:</span> <span class="s2">&#34;yes&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;IOScheduling&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Id&#34;</span><span class="p">:</span> <span class="s2">&#34;docker.service&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;IgnoreOnIsolate&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;IgnoreOnSnapshot&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;IgnoreSIGPIPE&#34;</span><span class="p">:</span> <span class="s2">&#34;yes&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;InactiveEnterTimestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;二 2020-05-12 19:03:43 CST&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;InactiveEnterTimestampMonotonic&#34;</span><span class="p">:</span> <span class="s2">&#34;1553009791884&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;InactiveExitTimestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;二 2020-05-12 19:03:57 CST&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;InactiveExitTimestampMonotonic&#34;</span><span class="p">:</span> <span class="s2">&#34;1553023907496&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;JobTimeoutAction&#34;</span><span class="p">:</span> <span class="s2">&#34;none&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;JobTimeoutUSec&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;KillMode&#34;</span><span class="p">:</span> <span class="s2">&#34;process&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;KillSignal&#34;</span><span class="p">:</span> <span class="s2">&#34;15&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LimitAS&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LimitCORE&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LimitCPU&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LimitDATA&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LimitFSIZE&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LimitLOCKS&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LimitMEMLOCK&#34;</span><span class="p">:</span> <span class="s2">&#34;65536&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LimitMSGQUEUE&#34;</span><span class="p">:</span> <span class="s2">&#34;819200&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LimitNICE&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LimitNOFILE&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LimitNPROC&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LimitRSS&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LimitRTPRIO&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LimitRTTIME&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LimitSIGPENDING&#34;</span><span class="p">:</span> <span class="s2">&#34;379870&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LimitSTACK&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;LoadState&#34;</span><span class="p">:</span> <span class="s2">&#34;loaded&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;MainPID&#34;</span><span class="p">:</span> <span class="s2">&#34;16213&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;MemoryAccounting&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;MemoryCurrent&#34;</span><span class="p">:</span> <span class="s2">&#34;58327040&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;MemoryLimit&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;MountFlags&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Names&#34;</span><span class="p">:</span> <span class="s2">&#34;docker.service&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;NeedDaemonReload&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Nice&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;NoNewPrivileges&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;NonBlocking&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;NotifyAccess&#34;</span><span class="p">:</span> <span class="s2">&#34;main&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;OOMScoreAdjust&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;OnFailureJobMode&#34;</span><span class="p">:</span> <span class="s2">&#34;replace&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;PermissionsStartOnly&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;PrivateDevices&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;PrivateNetwork&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;PrivateTmp&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ProtectHome&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ProtectSystem&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RefuseManualStart&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RefuseManualStop&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RemainAfterExit&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Requires&#34;</span><span class="p">:</span> <span class="s2">&#34;docker.socket basic.target&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Restart&#34;</span><span class="p">:</span> <span class="s2">&#34;always&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RestartUSec&#34;</span><span class="p">:</span> <span class="s2">&#34;2s&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Result&#34;</span><span class="p">:</span> <span class="s2">&#34;success&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RootDirectoryStartOnly&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;RuntimeDirectoryMode&#34;</span><span class="p">:</span> <span class="s2">&#34;0755&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;SameProcessGroup&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;SecureBits&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;SendSIGHUP&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;SendSIGKILL&#34;</span><span class="p">:</span> <span class="s2">&#34;yes&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Slice&#34;</span><span class="p">:</span> <span class="s2">&#34;system.slice&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;StandardError&#34;</span><span class="p">:</span> <span class="s2">&#34;inherit&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;StandardInput&#34;</span><span class="p">:</span> <span class="s2">&#34;null&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;StandardOutput&#34;</span><span class="p">:</span> <span class="s2">&#34;journal&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;StartLimitAction&#34;</span><span class="p">:</span> <span class="s2">&#34;none&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;StartLimitBurst&#34;</span><span class="p">:</span> <span class="s2">&#34;3&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;StartLimitInterval&#34;</span><span class="p">:</span> <span class="s2">&#34;60000000&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;StartupBlockIOWeight&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;StartupCPUShares&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;StatusErrno&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;StopWhenUnneeded&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;SubState&#34;</span><span class="p">:</span> <span class="s2">&#34;running&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;SyslogLevelPrefix&#34;</span><span class="p">:</span> <span class="s2">&#34;yes&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;SyslogPriority&#34;</span><span class="p">:</span> <span class="s2">&#34;30&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;SystemCallErrorNumber&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;TTYReset&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;TTYVHangup&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;TTYVTDisallocate&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;TasksAccounting&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;TasksCurrent&#34;</span><span class="p">:</span> <span class="s2">&#34;58&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;TasksMax&#34;</span><span class="p">:</span> <span class="s2">&#34;18446744073709551615&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;TimeoutStartUSec&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;TimeoutStopUSec&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;TimerSlackNSec&#34;</span><span class="p">:</span> <span class="s2">&#34;50000&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Transient&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;TriggeredBy&#34;</span><span class="p">:</span> <span class="s2">&#34;docker.socket&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Type&#34;</span><span class="p">:</span> <span class="s2">&#34;notify&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;UMask&#34;</span><span class="p">:</span> <span class="s2">&#34;0022&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;UnitFilePreset&#34;</span><span class="p">:</span> <span class="s2">&#34;disabled&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;UnitFileState&#34;</span><span class="p">:</span> <span class="s2">&#34;enabled&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;WantedBy&#34;</span><span class="p">:</span> <span class="s2">&#34;multi-user.target&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;Wants&#34;</span><span class="p">:</span> <span class="s2">&#34;network-online.target system.slice&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;WatchdogTimestamp&#34;</span><span class="p">:</span> <span class="s2">&#34;二 2020-05-12 19:03:57 CST&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;WatchdogTimestampMonotonic&#34;</span><span class="p">:</span> <span class="s2">&#34;1553024093096&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;WatchdogUSec&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre>
</div>
<h3 id="一次执行多个命令" class="headerLink">
    <a href="#%e4%b8%80%e6%ac%a1%e6%89%a7%e8%a1%8c%e5%a4%9a%e4%b8%aa%e5%91%bd%e4%bb%a4" class="header-mark"></a>一次执行多个命令</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-5" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">$ ansible -i hosts.ini server -m raw -a &#34; which nc ; find /opt/aliUDP/logs/  &#34; -u admin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/usr/bin/ansible -i hosts.ini server -m raw -a  which nc ; find /opt/aliUDP/logs/   -u admin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FAILED =&gt; 120.26.116.193 =&gt; rc=1 =&gt;
</span></span><span class="line"><span class="cl">which: no nc in (/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin)
</span></span><span class="line"><span class="cl">find: /opt/aliUDP: No such file or directory
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">success =&gt; 10.125.3.33 =&gt; rc=0 =&gt;
</span></span><span class="line"><span class="cl">/usr/bin/nc
</span></span><span class="line"><span class="cl">/opt/aliUDP/logs/
</span></span><span class="line"><span class="cl">/opt/aliUDP/logs/ansible.log.bak
</span></span><span class="line"><span class="cl">/opt/aliUDP/logs/ansible.log
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">success =&gt; 10.125.0.169 =&gt; rc=0 =&gt;
</span></span><span class="line"><span class="cl">/usr/bin/nc
</span></span><span class="line"><span class="cl">/opt/aliUDP/logs/
</span></span><span class="line"><span class="cl">/opt/aliUDP/logs/ansible.log.bak
</span></span><span class="line"><span class="cl">/opt/aliUDP/logs/ansible.log</span></span></code></pre>
</div>
<p>结果说明</p>
<blockquote>
  <p>其中  120.26.116.193 上没有命令 nc 和 /opt/aliUDP 文件夹所有执行失败，但是其他两台机器都正常返回了结果</p>

</blockquote><h3 id="copy本地的某个文件到服务器上前面的例子中都是单独在远程机器上执行的命令" class="headerLink">
    <a href="#copy%e6%9c%ac%e5%9c%b0%e7%9a%84%e6%9f%90%e4%b8%aa%e6%96%87%e4%bb%b6%e5%88%b0%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8a%e5%89%8d%e9%9d%a2%e7%9a%84%e4%be%8b%e5%ad%90%e4%b8%ad%e9%83%bd%e6%98%af%e5%8d%95%e7%8b%ac%e5%9c%a8%e8%bf%9c%e7%a8%8b%e6%9c%ba%e5%99%a8%e4%b8%8a%e6%89%a7%e8%a1%8c%e7%9a%84%e5%91%bd%e4%bb%a4" class="header-mark"></a>Copy本地的某个文件到服务器上【前面的例子中都是单独在远程机器上执行的命令】</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-6" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">$ ansible  -i hosts.ini server  -m copy -a &#34; src=&#39;~/.ssh/id_rsa.pub&#39; dest=&#39;/tmp/&#39; owner=admin &#34; -u admin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">SUCCESS =&gt; 120.26.116.193 =&gt; {
</span></span><span class="line"><span class="cl">    &#34;changed&#34;: true, 
</span></span><span class="line"><span class="cl">    &#34;checksum&#34;: &#34;b12ccf236ab788bbaebd7159c563e97411389c9e&#34;, 
</span></span><span class="line"><span class="cl">    &#34;dest&#34;: &#34;/tmp/id_rsa.pub&#34;, 
</span></span><span class="line"><span class="cl">    &#34;gid&#34;: 0, 
</span></span><span class="line"><span class="cl">    &#34;group&#34;: &#34;root&#34;, 
</span></span><span class="line"><span class="cl">    &#34;md5sum&#34;: &#34;b6ba28284ab95aaa0f47602bdab49f46&#34;, 
</span></span><span class="line"><span class="cl">    &#34;mode&#34;: &#34;0644&#34;, 
</span></span><span class="line"><span class="cl">    &#34;owner&#34;: &#34;root&#34;, 
</span></span><span class="line"><span class="cl">    &#34;size&#34;: 392, 
</span></span><span class="line"><span class="cl">    &#34;src&#34;: &#34;/root/.ansible/ansible-tmp-1449109886.94-70134064194486/source&#34;, 
</span></span><span class="line"><span class="cl">    &#34;state&#34;: &#34;file&#34;, 
</span></span><span class="line"><span class="cl">    &#34;uid&#34;: 0
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">SUCCESS =&gt; 10.125.0.169 =&gt; {
</span></span><span class="line"><span class="cl">    &#34;changed&#34;: true, 
</span></span><span class="line"><span class="cl">    &#34;checksum&#34;: &#34;b12ccf236ab788bbaebd7159c563e97411389c9e&#34;, 
</span></span><span class="line"><span class="cl">    &#34;dest&#34;: &#34;/tmp/id_rsa.pub&#34;, 
</span></span><span class="line"><span class="cl">    &#34;gid&#34;: 500, 
</span></span><span class="line"><span class="cl">    &#34;group&#34;: &#34;admin&#34;, 
</span></span><span class="line"><span class="cl">    &#34;md5sum&#34;: &#34;b6ba28284ab95aaa0f47602bdab49f46&#34;, 
</span></span><span class="line"><span class="cl">    &#34;mode&#34;: &#34;0664&#34;, 
</span></span><span class="line"><span class="cl">    &#34;owner&#34;: &#34;admin&#34;, 
</span></span><span class="line"><span class="cl">    &#34;size&#34;: 392, 
</span></span><span class="line"><span class="cl">    &#34;src&#34;: &#34;/home/admin/.ansible/ansible-tmp-1449109886.78-98797505042348/source&#34;, 
</span></span><span class="line"><span class="cl">    &#34;state&#34;: &#34;file&#34;, 
</span></span><span class="line"><span class="cl">    &#34;uid&#34;: 500
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">SUCCESS =&gt; 10.125.3.33 =&gt; {
</span></span><span class="line"><span class="cl">    &#34;changed&#34;: true, 
</span></span><span class="line"><span class="cl">    &#34;checksum&#34;: &#34;b12ccf236ab788bbaebd7159c563e97411389c9e&#34;, 
</span></span><span class="line"><span class="cl">    &#34;dest&#34;: &#34;/tmp/id_rsa.pub&#34;, 
</span></span><span class="line"><span class="cl">    &#34;gid&#34;: 500, 
</span></span><span class="line"><span class="cl">    &#34;group&#34;: &#34;admin&#34;, 
</span></span><span class="line"><span class="cl">    &#34;md5sum&#34;: &#34;b6ba28284ab95aaa0f47602bdab49f46&#34;, 
</span></span><span class="line"><span class="cl">    &#34;mode&#34;: &#34;0664&#34;, 
</span></span><span class="line"><span class="cl">    &#34;owner&#34;: &#34;admin&#34;, 
</span></span><span class="line"><span class="cl">    &#34;size&#34;: 392, 
</span></span><span class="line"><span class="cl">    &#34;src&#34;: &#34;/home/admin/.ansible/ansible-tmp-1449109886.81-269249309502640/source&#34;, 
</span></span><span class="line"><span class="cl">    &#34;state&#34;: &#34;file&#34;, 
</span></span><span class="line"><span class="cl">    &#34;uid&#34;: 500
</span></span><span class="line"><span class="cl">}</span></span></code></pre>
</div>
<p>参数说明</p>
<blockquote>
  <p><strong>-m copy -a:</strong> 指定这是 <strong>copy</strong> 的命令</p>
<p><strong>&rdquo;  src=&rsquo;~/.ssh/id_rsa.pub&rsquo; dest=&rsquo;/tmp/&rsquo; &ldquo;</strong> src表示本地文件 dest表示远程目标位置</p>

</blockquote><h3 id="验证一下刚刚copy上去的文件的md5值" class="headerLink">
    <a href="#%e9%aa%8c%e8%af%81%e4%b8%80%e4%b8%8b%e5%88%9a%e5%88%9acopy%e4%b8%8a%e5%8e%bb%e7%9a%84%e6%96%87%e4%bb%b6%e7%9a%84md5%e5%80%bc" class="header-mark"></a>验证一下刚刚copy上去的文件的MD5值</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-7" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">$ ansible  -i hosts.ini server  -m command -a &#34; md5sum /tmp/id_rsa.pub &#34; -u admin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">success =&gt; 10.125.0.169 =&gt; rc=0 =&gt;
</span></span><span class="line"><span class="cl">b6ba28284ab95aaa0f47602bdab49f46  /tmp/id_rsa.pub
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">success =&gt; 10.125.3.33 =&gt; rc=0 =&gt;
</span></span><span class="line"><span class="cl">b6ba28284ab95aaa0f47602bdab49f46  /tmp/id_rsa.pub
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">success =&gt; 120.26.116.193 =&gt; rc=0 =&gt;
</span></span><span class="line"><span class="cl">b6ba28284ab95aaa0f47602bdab49f46  /tmp/id_rsa.pub</span></span></code></pre>
</div>
<p>结果说明</p>
<blockquote>
  <p>md5都是b6ba28284ab95aaa0f47602bdab49f46 跟本地的一致，说明成功复制到目标机器了</p>

</blockquote><h3 id="执行远程服务器上已经写好的shell脚本" class="headerLink">
    <a href="#%e6%89%a7%e8%a1%8c%e8%bf%9c%e7%a8%8b%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8a%e5%b7%b2%e7%bb%8f%e5%86%99%e5%a5%bd%e7%9a%84shell%e8%84%9a%e6%9c%ac" class="header-mark"></a>执行远程服务器上已经写好的Shell脚本</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-8" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">$ cat test.sh 
</span></span><span class="line"><span class="cl">#/bin/sh
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ifconfig | grep &#39;inet addr&#39; 
</span></span><span class="line"><span class="cl">echo &#34;-------------&#34;
</span></span><span class="line"><span class="cl">uptime
</span></span><span class="line"><span class="cl">echo &#34;-------------&#34;
</span></span><span class="line"><span class="cl">date
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">df -lh</span></span></code></pre>
</div>
<p>执行结果</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">shell</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-9" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">$ ansible  -i hosts.ini server  -m <span class="nb">command</span> -a <span class="s2">&#34; sh /tmp/test.sh &#34;</span> -u admin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/usr/bin/ansible -i hosts.ini server -m <span class="nb">command</span> -a  sh /tmp/test.sh  -u admin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">success</span> <span class="o">=</span>&gt; 10.125.3.33 <span class="o">=</span>&gt; <span class="nv">rc</span><span class="o">=</span><span class="nv">0</span> <span class="o">=</span>&gt;
</span></span><span class="line"><span class="cl">          inet addr:10.125.3.33  Bcast:10.125.15.255  Mask:255.255.240.0
</span></span><span class="line"><span class="cl">          inet addr:127.0.0.1  Mask:255.0.0.0</span></span></code></pre>
</div>
<h3 id="copy个人笔记本的公钥到服务器上以后从笔记本登录服务器不再需要输入密码" class="headerLink">
    <a href="#copy%e4%b8%aa%e4%ba%ba%e7%ac%94%e8%ae%b0%e6%9c%ac%e7%9a%84%e5%85%ac%e9%92%a5%e5%88%b0%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8a%e4%bb%a5%e5%90%8e%e4%bb%8e%e7%ac%94%e8%ae%b0%e6%9c%ac%e7%99%bb%e5%bd%95%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8d%e5%86%8d%e9%9c%80%e8%a6%81%e8%be%93%e5%85%a5%e5%af%86%e7%a0%81" class="header-mark"></a>copy个人笔记本的公钥到服务器上，以后从笔记本登录服务器不再需要输入密码</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-10" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">$ ansible -i ansible-hosts.ini all -m authorized_key -a &#34; user=admin key=\&#34;{{ lookup(&#39;file&#39;, &#39;/tmp/id_rsa.pub&#39;) }} \&#34;  &#34; -u admin -k</span></span></code></pre>
</div>
<h3 id="copying-files-between-different-folders-on-the-same-remote-machine" class="headerLink">
    <a href="#copying-files-between-different-folders-on-the-same-remote-machine" class="header-mark"></a>Copying files between different folders on the same remote machine</h3><p>You can also copy files between the various locations on the remote servers. You have to set the <strong>remote_src</strong> parameter to yes.</p>
<p>The following example copies the hello6 file in the /tmp directory of the remote server and pastes it in the /etc/ directory.</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-11" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">- hosts: blocks
</span></span><span class="line"><span class="cl">  tasks:
</span></span><span class="line"><span class="cl">  - name: Ansible copy files remote to remote
</span></span><span class="line"><span class="cl">    copy:
</span></span><span class="line"><span class="cl">      src: /tmp/hello6
</span></span><span class="line"><span class="cl">      dest: /etc
</span></span><span class="line"><span class="cl">      remote_src: yes</span></span></code></pre>
</div>
<p>or:</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-12" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">ansible blocks -m copy -a &#34;src=https://plantegg.github.io/tmp/hello6 dest=/tmp/hello7etc remote_src=yes&#34; -s -i inventory.ini</span></span></code></pre>
</div>
<h3 id="效率更高的-copysynchronize" class="headerLink">
    <a href="#%e6%95%88%e7%8e%87%e6%9b%b4%e9%ab%98%e7%9a%84-copysynchronize" class="header-mark"></a>效率更高的 copy：synchronize</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-13" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">ansible -i xty_172.ini all -m synchronize -a &#34; src=https://plantegg.github.io/home/ren/docker.service dest=/usr/lib/systemd/system/docker.socket &#34; -u root</span></span></code></pre>
</div>
<h3 id="find_file" class="headerLink">
    <a href="#find_file" class="header-mark"></a>find_file</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-14" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">- hosts: all
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  tasks:
</span></span><span class="line"><span class="cl">    - name: find_file
</span></span><span class="line"><span class="cl">      find:
</span></span><span class="line"><span class="cl">        paths: /home/admin/.ssh/
</span></span><span class="line"><span class="cl">        patterns: &#34;*.rsa&#34;
</span></span><span class="line"><span class="cl">        recurse: no
</span></span><span class="line"><span class="cl">      register: file_name
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    - name: copy_file
</span></span><span class="line"><span class="cl">      fetch:
</span></span><span class="line"><span class="cl">        src: &#34;{{ item.path }}&#34;
</span></span><span class="line"><span class="cl">        dest: /tmp/sshbak/
</span></span><span class="line"><span class="cl">        flat: no
</span></span><span class="line"><span class="cl">      with_items: &#34;{{ file_name.files }}&#34;</span></span></code></pre>
</div>
<p>test</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-15" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">ansible-playbook -i 127.0.0.1,  ./find_file.yaml</span></span></code></pre>
</div>
<h3 id="不使用-hostsini文件从命令行中传入目标机的-ip-列表" class="headerLink">
    <a href="#%e4%b8%8d%e4%bd%bf%e7%94%a8-hostsini%e6%96%87%e4%bb%b6%e4%bb%8e%e5%91%bd%e4%bb%a4%e8%a1%8c%e4%b8%ad%e4%bc%a0%e5%85%a5%e7%9b%ae%e6%a0%87%e6%9c%ba%e7%9a%84-ip-%e5%88%97%e8%a1%a8" class="header-mark"></a>不使用 hosts.ini文件，从命令行中传入目标机的 ip 列表</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-16" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"><span class="o">$</span> <span class="n">ansible</span> <span class="o">-</span><span class="n">i</span> <span class="mf">10.125</span><span class="o">.</span><span class="mf">0.169</span><span class="p">,</span><span class="mf">10.125</span><span class="o">.</span><span class="mf">192.40</span> <span class="n">all</span> <span class="o">-</span><span class="n">e</span> <span class="s2">&#34;ansible_ssh_port=22&#34;</span> <span class="o">-</span><span class="n">a</span> <span class="s2">&#34;uptime&#34;</span> <span class="o">-</span><span class="n">u</span> <span class="n">admin</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">success</span> <span class="o">=&gt;</span> <span class="mf">10.125</span><span class="o">.</span><span class="mf">192.40</span> <span class="o">=&gt;</span> <span class="n">rc</span><span class="o">=</span><span class="mi">0</span> <span class="o">=&gt;</span>
</span></span><span class="line"><span class="cl"> <span class="mi">12</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">50</span> <span class="n">up</span> <span class="mi">48</span> <span class="n">days</span><span class="p">,</span> <span class="mi">17</span><span class="p">:</span><span class="mi">01</span><span class="p">,</span>  <span class="mi">0</span> <span class="n">users</span><span class="p">,</span>  <span class="nb">load</span> <span class="n">average</span><span class="p">:</span> <span class="mf">0.13</span><span class="p">,</span> <span class="mf">0.06</span><span class="p">,</span> <span class="mf">0.05</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">success</span> <span class="o">=&gt;</span> <span class="mf">10.125</span><span class="o">.</span><span class="mf">0.169</span> <span class="o">=&gt;</span> <span class="n">rc</span><span class="o">=</span><span class="mi">0</span> <span class="o">=&gt;</span>
</span></span><span class="line"><span class="cl"> <span class="mi">12</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">50</span> <span class="n">up</span> <span class="mi">49</span> <span class="n">days</span><span class="p">,</span>  <span class="mi">2</span><span class="p">:</span><span class="mi">25</span><span class="p">,</span>  <span class="mi">0</span> <span class="n">users</span><span class="p">,</span>  <span class="nb">load</span> <span class="n">average</span><span class="p">:</span> <span class="mf">0.00</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.05</span></span></span></code></pre>
</div>
<p>执行说明</p>
<blockquote>
  <p>-i 后面带入ip列表，注意每个IP后面一定要有 “,” 分割开来，all 关键字也是必须的</p>

</blockquote><blockquote>
  <p>-e 中ansible_ssh_port=22表示ssh使用22端口（默认），如果ssh使用9999端口在这里将22改成9999即可</p>

</blockquote><h3 id="使用root-sudo权限来执行命令" class="headerLink">
    <a href="#%e4%bd%bf%e7%94%a8root-sudo%e6%9d%83%e9%99%90%e6%9d%a5%e6%89%a7%e8%a1%8c%e5%91%bd%e4%bb%a4" class="header-mark"></a>使用root sudo权限来执行命令</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-17" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">ansible -i 10.125.6.93, all -m  shell -a &#34; ls -lh /home/admin/&#34;    -u admin --become-user=root --ask-become-pass --become-method=sudo --become -k</span></span></code></pre>
</div>
<h3 id="给admin授权登录server不需要输入密码也不知道admin的密码" class="headerLink">
    <a href="#%e7%bb%99admin%e6%8e%88%e6%9d%83%e7%99%bb%e5%bd%95server%e4%b8%8d%e9%9c%80%e8%a6%81%e8%be%93%e5%85%a5%e5%af%86%e7%a0%81%e4%b9%9f%e4%b8%8d%e7%9f%a5%e9%81%93admin%e7%9a%84%e5%af%86%e7%a0%81" class="header-mark"></a>给admin授权登录server不需要输入密码（也不知道admin的密码）</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-18" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">通过 admin(已知密码) 以root 权限将本机pub key复制到server上的 /home/admin, 再通过admin账号登录server就不需要密码了：
</span></span><span class="line"><span class="cl">ansible -i 10.125.6.93, all -m  authorized_key -a &#34; user=admin key=\&#34;{{ lookup(&#39;file&#39;, &#39;/home/ren/.ssh/id_rsa.pub&#39;) }} \&#34;  &#34; -u admin --become-user=root --ask-become-pass --become-method=sudo --become -k
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">不需要密码就可以执行：
</span></span><span class="line"><span class="cl">ansible -i 10.125.6.93, all -m shell -a &#34; ls -lha /home/admin/  &#34; -u admin</span></span></code></pre>
</div>
<h3 id="fetch将远程服务器上的public-key-读取到本地" class="headerLink">
    <a href="#fetch%e5%b0%86%e8%bf%9c%e7%a8%8b%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8a%e7%9a%84public-key-%e8%af%bb%e5%8f%96%e5%88%b0%e6%9c%ac%e5%9c%b0" class="header-mark"></a>fetch:将远程服务器上的public key 读取到本地</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-19" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">ansible -i kfc.ini hadoop -m fetch -a &#34; src=https://plantegg.github.io/home/admin/.ssh/id_rsa.pub dest=./test/  &#34;  -u admin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">find test/ -type f | xargs cat &gt; ./authorized_keys
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">#push all the public keys to the server
</span></span><span class="line"><span class="cl">ansible -i ~/ali/ansible-edas/kfc.ini hadoop -m  copy -a &#34; src=./authorized_keys dest=/home/admin/.ssh/authorized_keys mode=600  &#34; -u admin</span></span></code></pre>
</div>
<p>或者循环fetch：</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">yaml</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-20" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"><span class="l">$cat fetch.yaml </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l">all   </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">tasks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">list the files in the folder</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c">#command: ls /u01/nmon/tpcc/ </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="l">(cd /remote; find . -maxdepth 1 -type f) | cut -d&#39;/&#39; -f2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">register</span><span class="p">:</span><span class="w"> </span><span class="l">dir_out</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">do the action</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">fetch</span><span class="p">:</span><span class="w"> </span><span class="l">src=https://plantegg.github.io/u01/nmon/tpcc/{{item}} dest=/home/aliyun/nmon_tpcc/ flat=no</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">with_items</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;{{dir_out.stdout_lines}}&#34;</span></span></span></code></pre>
</div>
<p>执行结果：</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-21" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">$ansible-playbook -i /home/aliyun/all.ini  fetch.yaml -u admin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">PLAY [all] *******************************************************************************************
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">TASK [Gathering Facts] *******************************************************************************
</span></span><span class="line"><span class="cl">ok: [10.88.88.18]
</span></span><span class="line"><span class="cl">ok: [10.88.88.16]
</span></span><span class="line"><span class="cl">ok: [10.88.88.15]
</span></span><span class="line"><span class="cl">ok: [10.88.88.19]
</span></span><span class="line"><span class="cl">ok: [10.88.88.17]
</span></span><span class="line"><span class="cl">ok: [10.88.88.20]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">TASK [list the files in the folder] ******************************************************************
</span></span><span class="line"><span class="cl">changed: [10.88.88.15]
</span></span><span class="line"><span class="cl">changed: [10.88.88.16]
</span></span><span class="line"><span class="cl">changed: [10.88.88.17]
</span></span><span class="line"><span class="cl">changed: [10.88.88.18]
</span></span><span class="line"><span class="cl">changed: [10.88.88.19]
</span></span><span class="line"><span class="cl">changed: [10.88.88.20]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">TASK [do the action] *********************************************************************************
</span></span><span class="line"><span class="cl">changed: [10.88.88.15] =&gt; (item=uos15_200729_1108.nmon)
</span></span><span class="line"><span class="cl">changed: [10.88.88.18] =&gt; (item=uos18_200729_1107.nmon)
</span></span><span class="line"><span class="cl">changed: [10.88.88.16] =&gt; (item=uos16_200729_1106.nmon)
</span></span><span class="line"><span class="cl">changed: [10.88.88.19] =&gt; (item=adbpg2-PC_200729_1108.nmon)
</span></span><span class="line"><span class="cl">changed: [10.88.88.17] =&gt; (item=uos17_200729_1107.nmon)
</span></span><span class="line"><span class="cl">changed: [10.88.88.19] =&gt; (item=adbpg2-PC_200729_1936.nmon)
</span></span><span class="line"><span class="cl">changed: [10.88.88.20] =&gt; (item=adbpg-PC_200729_1110.nmon)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">PLAY RECAP *******************************************************************************************
</span></span><span class="line"><span class="cl">10.88.88.15                : ok=3    changed=2    unreachable=0    failed=0   
</span></span><span class="line"><span class="cl">10.88.88.16                : ok=3    changed=2    unreachable=0    failed=0   
</span></span><span class="line"><span class="cl">10.88.88.17                : ok=3    changed=2    unreachable=0    failed=0   
</span></span><span class="line"><span class="cl">10.88.88.18                : ok=3    changed=2    unreachable=0    failed=0   
</span></span><span class="line"><span class="cl">10.88.88.19                : ok=3    changed=2    unreachable=0    failed=0   
</span></span><span class="line"><span class="cl">10.88.88.20                : ok=3    changed=2    unreachable=0    failed=0   </span></span></code></pre>
</div>
<h3 id="setup获取机器配置参数信息" class="headerLink">
    <a href="#setup%e8%8e%b7%e5%8f%96%e6%9c%ba%e5%99%a8%e9%85%8d%e7%bd%ae%e5%8f%82%e6%95%b0%e4%bf%a1%e6%81%af" class="header-mark"></a>setup:获取机器配置、参数信息</h3><div class="code-block highlight is-closed show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-22" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"><span class="c1"># ansible -i 192.168.1.91, all -m setup -u admin</span>
</span></span><span class="line"><span class="cl"><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.91</span> <span class="o">|</span> <span class="n">SUCCESS</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;ansible_facts&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_all_ipv4_addresses&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;172.17.0.1&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;192.168.0.91&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;192.168.1.91&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_all_ipv6_addresses&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_apparmor&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;status&#34;</span><span class="p">:</span> <span class="s2">&#34;disabled&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_architecture&#34;</span><span class="p">:</span> <span class="s2">&#34;x86_64&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_bios_date&#34;</span><span class="p">:</span> <span class="s2">&#34;04/01/2014&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_bios_version&#34;</span><span class="p">:</span> <span class="s2">&#34;8c24b4c&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_cmdline&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;BOOT_IMAGE&#34;</span><span class="p">:</span> <span class="s2">&#34;/boot/vmlinuz-3.10.0-957.21.3.el7.x86_64&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;LANG&#34;</span><span class="p">:</span> <span class="s2">&#34;en_US.UTF-8&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;biosdevname&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;console&#34;</span><span class="p">:</span> <span class="s2">&#34;ttyS0,115200n8&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;crashkernel&#34;</span><span class="p">:</span> <span class="s2">&#34;auto&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;idle&#34;</span><span class="p">:</span> <span class="s2">&#34;halt&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;net.ifnames&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;noibrs&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;quiet&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;rhgb&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;ro&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;root&#34;</span><span class="p">:</span> <span class="s2">&#34;UUID=1114fe9e-2309-4580-b183-d778e6d97397&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_date_time&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;date&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-07-15&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;day&#34;</span><span class="p">:</span> <span class="s2">&#34;15&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;epoch&#34;</span><span class="p">:</span> <span class="s2">&#34;1594796084&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;hour&#34;</span><span class="p">:</span> <span class="s2">&#34;14&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;iso8601&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-07-15T06:54:44Z&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;iso8601_basic&#34;</span><span class="p">:</span> <span class="s2">&#34;20200715T145444643628&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;iso8601_basic_short&#34;</span><span class="p">:</span> <span class="s2">&#34;20200715T145444&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;iso8601_micro&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-07-15T06:54:44.643725Z&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;minute&#34;</span><span class="p">:</span> <span class="s2">&#34;54&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;month&#34;</span><span class="p">:</span> <span class="s2">&#34;07&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;second&#34;</span><span class="p">:</span> <span class="s2">&#34;44&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;time&#34;</span><span class="p">:</span> <span class="s2">&#34;14:54:44&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;tz&#34;</span><span class="p">:</span> <span class="s2">&#34;CST&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;tz_offset&#34;</span><span class="p">:</span> <span class="s2">&#34;+0800&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;weekday&#34;</span><span class="p">:</span> <span class="s2">&#34;星期三&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;weekday_number&#34;</span><span class="p">:</span> <span class="s2">&#34;3&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;weeknumber&#34;</span><span class="p">:</span> <span class="s2">&#34;28&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;year&#34;</span><span class="p">:</span> <span class="s2">&#34;2020&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_default_ipv4&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;192.168.0.91&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;alias&#34;</span><span class="p">:</span> <span class="s2">&#34;eth0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;broadcast&#34;</span><span class="p">:</span> <span class="s2">&#34;192.168.0.255&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;gateway&#34;</span><span class="p">:</span> <span class="s2">&#34;192.168.0.253&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;interface&#34;</span><span class="p">:</span> <span class="s2">&#34;eth0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;macaddress&#34;</span><span class="p">:</span> <span class="s2">&#34;00:16:3e:30:d9:a4&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;mtu&#34;</span><span class="p">:</span> <span class="mi">1500</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;netmask&#34;</span><span class="p">:</span> <span class="s2">&#34;255.255.255.0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;network&#34;</span><span class="p">:</span> <span class="s2">&#34;192.168.0.0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;ether&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_default_ipv6&#34;</span><span class="p">:</span> <span class="p">{},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_device_links&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;ids&#34;</span><span class="p">:</span> <span class="p">{},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;labels&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;loop2&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;CDROM&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;masters&#34;</span><span class="p">:</span> <span class="p">{},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;uuids&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;loop0&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;2020-07-12-14-26-47-00&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">],</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;loop1&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;2020-07-12-20-25-18-00&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">],</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;loop2&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;2020-07-13-09-57-36-00&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">],</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;vda1&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;1114fe9e-2309-4580-b183-d778e6d97397&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_devices&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;loop0&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;holders&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;host&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;links&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;ids&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;labels&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;masters&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;uuids&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;2020-07-12-14-26-47-00&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;model&#34;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;partitions&#34;</span><span class="p">:</span> <span class="p">{},</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;removable&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rotational&#34;</span><span class="p">:</span> <span class="s2">&#34;1&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sas_address&#34;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sas_device_handle&#34;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;scheduler_mode&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sectors&#34;</span><span class="p">:</span> <span class="s2">&#34;327924&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sectorsize&#34;</span><span class="p">:</span> <span class="s2">&#34;512&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;size&#34;</span><span class="p">:</span> <span class="s2">&#34;160.12 MB&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;support_discard&#34;</span><span class="p">:</span> <span class="s2">&#34;4096&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;vendor&#34;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;virtual&#34;</span><span class="p">:</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;loop1&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;holders&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;host&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;links&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;ids&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;labels&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;masters&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;uuids&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;2020-07-12-20-25-18-00&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;model&#34;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;partitions&#34;</span><span class="p">:</span> <span class="p">{},</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;removable&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rotational&#34;</span><span class="p">:</span> <span class="s2">&#34;1&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sas_address&#34;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sas_device_handle&#34;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;scheduler_mode&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sectors&#34;</span><span class="p">:</span> <span class="s2">&#34;359172&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sectorsize&#34;</span><span class="p">:</span> <span class="s2">&#34;512&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;size&#34;</span><span class="p">:</span> <span class="s2">&#34;175.38 MB&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;support_discard&#34;</span><span class="p">:</span> <span class="s2">&#34;4096&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;vendor&#34;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;virtual&#34;</span><span class="p">:</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;loop2&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;holders&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;host&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;links&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;ids&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;labels&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;CDROM&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">],</span> 
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;masters&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;uuids&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;2020-07-13-09-57-36-00&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;model&#34;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;partitions&#34;</span><span class="p">:</span> <span class="p">{},</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;removable&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rotational&#34;</span><span class="p">:</span> <span class="s2">&#34;1&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sas_address&#34;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sas_device_handle&#34;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;scheduler_mode&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sectors&#34;</span><span class="p">:</span> <span class="s2">&#34;128696&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sectorsize&#34;</span><span class="p">:</span> <span class="s2">&#34;512&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;size&#34;</span><span class="p">:</span> <span class="s2">&#34;62.84 MB&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;support_discard&#34;</span><span class="p">:</span> <span class="s2">&#34;4096&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;vendor&#34;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;virtual&#34;</span><span class="p">:</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;vda&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;holders&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;host&#34;</span><span class="p">:</span> <span class="s2">&#34;SCSI storage controller: Red Hat, Inc. Virtio block device&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;links&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;ids&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;labels&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;masters&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;uuids&#34;</span><span class="p">:</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;model&#34;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;partitions&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;vda1&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;holders&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;links&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                            <span class="s2">&#34;ids&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                            <span class="s2">&#34;labels&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                            <span class="s2">&#34;masters&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">                            <span class="s2">&#34;uuids&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                                <span class="s2">&#34;1114fe9e-2309-4580-b183-d778e6d97397&#34;</span>
</span></span><span class="line"><span class="cl">                            <span class="p">]</span>
</span></span><span class="line"><span class="cl">                        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;sectors&#34;</span><span class="p">:</span> <span class="s2">&#34;838847992&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;sectorsize&#34;</span><span class="p">:</span> <span class="mi">512</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;size&#34;</span><span class="p">:</span> <span class="s2">&#34;399.99 GB&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;start&#34;</span><span class="p">:</span> <span class="s2">&#34;2048&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;uuid&#34;</span><span class="p">:</span> <span class="s2">&#34;1114fe9e-2309-4580-b183-d778e6d97397&#34;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;removable&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rotational&#34;</span><span class="p">:</span> <span class="s2">&#34;1&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sas_address&#34;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sas_device_handle&#34;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;scheduler_mode&#34;</span><span class="p">:</span> <span class="s2">&#34;mq-deadline&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sectors&#34;</span><span class="p">:</span> <span class="s2">&#34;838860800&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;sectorsize&#34;</span><span class="p">:</span> <span class="s2">&#34;512&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;size&#34;</span><span class="p">:</span> <span class="s2">&#34;400.00 GB&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;support_discard&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;vendor&#34;</span><span class="p">:</span> <span class="s2">&#34;0x1af4&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;virtual&#34;</span><span class="p">:</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_distribution&#34;</span><span class="p">:</span> <span class="s2">&#34;CentOS&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_distribution_file_parsed&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_distribution_file_path&#34;</span><span class="p">:</span> <span class="s2">&#34;/etc/redhat-release&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_distribution_file_variety&#34;</span><span class="p">:</span> <span class="s2">&#34;RedHat&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_distribution_major_version&#34;</span><span class="p">:</span> <span class="s2">&#34;7&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_distribution_release&#34;</span><span class="p">:</span> <span class="s2">&#34;Core&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_distribution_version&#34;</span><span class="p">:</span> <span class="s2">&#34;7.8&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_dns&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;nameservers&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;100.100.2.136&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;100.100.2.138&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;options&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;attempts&#34;</span><span class="p">:</span> <span class="s2">&#34;3&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rotate&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;single-request-reopen&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;timeout&#34;</span><span class="p">:</span> <span class="s2">&#34;2&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_docker0&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;active&#34;</span><span class="p">:</span> <span class="bp">false</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;device&#34;</span><span class="p">:</span> <span class="s2">&#34;docker0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;features&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;busy_poll&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;fcoe_mtu&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;generic_receive_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;generic_segmentation_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;highdma&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;hw_tc_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;l2_fwd_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;large_receive_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;loopback&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;netns_local&#34;</span><span class="p">:</span> <span class="s2">&#34;on [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;ntuple_filters&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;receive_hashing&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_all&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_checksumming&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_fcs&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_gro_hw&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_udp_tunnel_port_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_vlan_filter&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_vlan_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_vlan_stag_filter&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_vlan_stag_hw_parse&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;scatter_gather&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tcp_segmentation_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_fcoe_crc&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_ip_generic&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_ipv4&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_ipv6&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_sctp&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksumming&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_fcoe_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_gre_csum_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_gre_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_gso_partial&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_gso_robust&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_ipip_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_lockless&#34;</span><span class="p">:</span> <span class="s2">&#34;on [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_nocache_copy&#34;</span><span class="p">:</span> <span class="s2">&#34;off&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_scatter_gather&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_scatter_gather_fraglist&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_sctp_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_sit_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_tcp6_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_tcp_ecn_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_tcp_mangleid_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_tcp_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_udp_tnl_csum_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_udp_tnl_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_vlan_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_vlan_stag_hw_insert&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;udp_fragmentation_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;vlan_challenged&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;hw_timestamp_filters&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;8000.0242e441b693&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;interfaces&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;ipv4&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;172.17.0.1&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;broadcast&#34;</span><span class="p">:</span> <span class="s2">&#34;172.17.255.255&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;netmask&#34;</span><span class="p">:</span> <span class="s2">&#34;255.255.0.0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;network&#34;</span><span class="p">:</span> <span class="s2">&#34;172.17.0.0&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;macaddress&#34;</span><span class="p">:</span> <span class="s2">&#34;02:42:e4:41:b6:93&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;mtu&#34;</span><span class="p">:</span> <span class="mi">1500</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;promisc&#34;</span><span class="p">:</span> <span class="bp">false</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;stp&#34;</span><span class="p">:</span> <span class="bp">false</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;timestamping&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_software&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;software&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;bridge&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_domain&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_effective_group_id&#34;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_effective_user_id&#34;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_env&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;HISTCONTROL&#34;</span><span class="p">:</span> <span class="s2">&#34;erasedups&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;HISTFILESIZE&#34;</span><span class="p">:</span> <span class="s2">&#34;30000&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;HISTIGNORE&#34;</span><span class="p">:</span> <span class="s2">&#34;pwd:ls:cd:ll:&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;HISTSIZE&#34;</span><span class="p">:</span> <span class="s2">&#34;30000&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;HISTTIMEFORMAT&#34;</span><span class="p">:</span> <span class="s2">&#34;</span><span class="si">%d</span><span class="s2">/%m/%y %T &#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;HOME&#34;</span><span class="p">:</span> <span class="s2">&#34;/home/admin&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;JAVA_HOME&#34;</span><span class="p">:</span> <span class="s2">&#34;/opt/taobao/java&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;LANG&#34;</span><span class="p">:</span> <span class="s2">&#34;C&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;LC_ADDRESS&#34;</span><span class="p">:</span> <span class="s2">&#34;zh_CN.UTF-8&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;LC_ALL&#34;</span><span class="p">:</span> <span class="s2">&#34;C&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;LC_IDENTIFICATION&#34;</span><span class="p">:</span> <span class="s2">&#34;zh_CN.UTF-8&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;LC_MEASUREMENT&#34;</span><span class="p">:</span> <span class="s2">&#34;zh_CN.UTF-8&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;LC_MONETARY&#34;</span><span class="p">:</span> <span class="s2">&#34;zh_CN.UTF-8&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;LC_NAME&#34;</span><span class="p">:</span> <span class="s2">&#34;zh_CN.UTF-8&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;LC_NUMERIC&#34;</span><span class="p">:</span> <span class="s2">&#34;C&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;LC_PAPER&#34;</span><span class="p">:</span> <span class="s2">&#34;zh_CN.UTF-8&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;LC_TELEPHONE&#34;</span><span class="p">:</span> <span class="s2">&#34;zh_CN.UTF-8&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;LC_TIME&#34;</span><span class="p">:</span> <span class="s2">&#34;zh_CN.UTF-8&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;LESSOPEN&#34;</span><span class="p">:</span> <span class="s2">&#34;||/usr/bin/lesspipe.sh </span><span class="si">%s</span><span class="s2">&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;LOGNAME&#34;</span><span class="p">:</span> <span class="s2">&#34;admin&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;MAIL&#34;</span><span class="p">:</span> <span class="s2">&#34;/var/mail/admin&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;PATH&#34;</span><span class="p">:</span> <span class="s2">&#34;/usr/local/bin:/usr/bin:/opt/taobao/java8/bin:/home/admin/tools&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;PROMPT_COMMAND&#34;</span><span class="p">:</span> <span class="s2">&#34;history -a&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;PS4&#34;</span><span class="p">:</span> <span class="s2">&#34;+(${BASH_SOURCE}:${LINENO}): ${FUNCNAME[0]:+${FUNCNAME[0]}(): }&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;PWD&#34;</span><span class="p">:</span> <span class="s2">&#34;/home/admin&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;SHELL&#34;</span><span class="p">:</span> <span class="s2">&#34;/bin/bash&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;SHLVL&#34;</span><span class="p">:</span> <span class="s2">&#34;2&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;SSH_CLIENT&#34;</span><span class="p">:</span> <span class="s2">&#34;192.168.1.79 51412 22&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;SSH_CONNECTION&#34;</span><span class="p">:</span> <span class="s2">&#34;192.168.1.79 51412 192.168.1.91 22&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;USER&#34;</span><span class="p">:</span> <span class="s2">&#34;admin&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;XDG_RUNTIME_DIR&#34;</span><span class="p">:</span> <span class="s2">&#34;/run/user/1000&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;XDG_SESSION_ID&#34;</span><span class="p">:</span> <span class="s2">&#34;40120&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;_&#34;</span><span class="p">:</span> <span class="s2">&#34;/usr/bin/python&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_eth0&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;active&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;device&#34;</span><span class="p">:</span> <span class="s2">&#34;eth0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;features&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;busy_poll&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;fcoe_mtu&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;generic_receive_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;generic_segmentation_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;highdma&#34;</span><span class="p">:</span> <span class="s2">&#34;on [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;hw_tc_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;l2_fwd_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;large_receive_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;loopback&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;netns_local&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;ntuple_filters&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;receive_hashing&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_all&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_checksumming&#34;</span><span class="p">:</span> <span class="s2">&#34;on [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_fcs&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_gro_hw&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_udp_tunnel_port_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_vlan_filter&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_vlan_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_vlan_stag_filter&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_vlan_stag_hw_parse&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;scatter_gather&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tcp_segmentation_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_fcoe_crc&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_ip_generic&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_ipv4&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_ipv6&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_sctp&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksumming&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_fcoe_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_gre_csum_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_gre_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_gso_partial&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_gso_robust&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_ipip_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_lockless&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_nocache_copy&#34;</span><span class="p">:</span> <span class="s2">&#34;off&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_scatter_gather&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_scatter_gather_fraglist&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_sctp_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_sit_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_tcp6_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_tcp_ecn_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_tcp_mangleid_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_tcp_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_udp_tnl_csum_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_udp_tnl_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_vlan_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_vlan_stag_hw_insert&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;udp_fragmentation_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;vlan_challenged&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;hw_timestamp_filters&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;ipv4&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;192.168.0.91&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;broadcast&#34;</span><span class="p">:</span> <span class="s2">&#34;192.168.0.255&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;netmask&#34;</span><span class="p">:</span> <span class="s2">&#34;255.255.255.0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;network&#34;</span><span class="p">:</span> <span class="s2">&#34;192.168.0.0&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;macaddress&#34;</span><span class="p">:</span> <span class="s2">&#34;00:16:3e:30:d9:a4&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;module&#34;</span><span class="p">:</span> <span class="s2">&#34;virtio_net&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;mtu&#34;</span><span class="p">:</span> <span class="mi">1500</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;pciid&#34;</span><span class="p">:</span> <span class="s2">&#34;virtio2&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;promisc&#34;</span><span class="p">:</span> <span class="bp">false</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;timestamping&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_software&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;software&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;ether&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_eth1&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;active&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;device&#34;</span><span class="p">:</span> <span class="s2">&#34;eth1&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;features&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;busy_poll&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;fcoe_mtu&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;generic_receive_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;generic_segmentation_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;highdma&#34;</span><span class="p">:</span> <span class="s2">&#34;on [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;hw_tc_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;l2_fwd_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;large_receive_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;loopback&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;netns_local&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;ntuple_filters&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;receive_hashing&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_all&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_checksumming&#34;</span><span class="p">:</span> <span class="s2">&#34;on [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_fcs&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_gro_hw&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_udp_tunnel_port_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_vlan_filter&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_vlan_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_vlan_stag_filter&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_vlan_stag_hw_parse&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;scatter_gather&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tcp_segmentation_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_fcoe_crc&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_ip_generic&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_ipv4&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_ipv6&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_sctp&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksumming&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_fcoe_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_gre_csum_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_gre_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_gso_partial&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_gso_robust&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_ipip_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_lockless&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_nocache_copy&#34;</span><span class="p">:</span> <span class="s2">&#34;off&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_scatter_gather&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_scatter_gather_fraglist&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_sctp_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_sit_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_tcp6_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_tcp_ecn_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_tcp_mangleid_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_tcp_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_udp_tnl_csum_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_udp_tnl_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_vlan_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_vlan_stag_hw_insert&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;udp_fragmentation_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;vlan_challenged&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;hw_timestamp_filters&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;ipv4&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;192.168.1.91&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;broadcast&#34;</span><span class="p">:</span> <span class="s2">&#34;192.168.1.255&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;netmask&#34;</span><span class="p">:</span> <span class="s2">&#34;255.255.255.0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;network&#34;</span><span class="p">:</span> <span class="s2">&#34;192.168.1.0&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;macaddress&#34;</span><span class="p">:</span> <span class="s2">&#34;00:16:3e:2c:a2:c2&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;module&#34;</span><span class="p">:</span> <span class="s2">&#34;virtio_net&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;mtu&#34;</span><span class="p">:</span> <span class="mi">1500</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;pciid&#34;</span><span class="p">:</span> <span class="s2">&#34;virtio4&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;promisc&#34;</span><span class="p">:</span> <span class="bp">false</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;timestamping&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_software&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;software&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;ether&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_fibre_channel_wwn&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_fips&#34;</span><span class="p">:</span> <span class="bp">false</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_form_factor&#34;</span><span class="p">:</span> <span class="s2">&#34;Other&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_fqdn&#34;</span><span class="p">:</span> <span class="s2">&#34;jtdb001&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_hostname&#34;</span><span class="p">:</span> <span class="s2">&#34;jtdb001&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_hostnqn&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_interfaces&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;lo&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;docker0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;eth1&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;eth0&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_is_chroot&#34;</span><span class="p">:</span> <span class="bp">false</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_iscsi_iqn&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_kernel&#34;</span><span class="p">:</span> <span class="s2">&#34;3.10.0-957.21.3.el7.x86_64&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_kernel_version&#34;</span><span class="p">:</span> <span class="s2">&#34;#1 SMP Tue Jun 18 16:35:19 UTC 2019&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_lo&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;active&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;device&#34;</span><span class="p">:</span> <span class="s2">&#34;lo&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;features&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;busy_poll&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;fcoe_mtu&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;generic_receive_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;generic_segmentation_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;highdma&#34;</span><span class="p">:</span> <span class="s2">&#34;on [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;hw_tc_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;l2_fwd_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;large_receive_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;loopback&#34;</span><span class="p">:</span> <span class="s2">&#34;on [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;netns_local&#34;</span><span class="p">:</span> <span class="s2">&#34;on [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;ntuple_filters&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;receive_hashing&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_all&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_checksumming&#34;</span><span class="p">:</span> <span class="s2">&#34;on [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_fcs&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_gro_hw&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_udp_tunnel_port_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_vlan_filter&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_vlan_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_vlan_stag_filter&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_vlan_stag_hw_parse&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;scatter_gather&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tcp_segmentation_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_fcoe_crc&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_ip_generic&#34;</span><span class="p">:</span> <span class="s2">&#34;on [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_ipv4&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_ipv6&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksum_sctp&#34;</span><span class="p">:</span> <span class="s2">&#34;on [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_checksumming&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_fcoe_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_gre_csum_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_gre_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_gso_partial&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_gso_robust&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_ipip_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_lockless&#34;</span><span class="p">:</span> <span class="s2">&#34;on [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_nocache_copy&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_scatter_gather&#34;</span><span class="p">:</span> <span class="s2">&#34;on [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_scatter_gather_fraglist&#34;</span><span class="p">:</span> <span class="s2">&#34;on [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_sctp_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_sit_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_tcp6_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_tcp_ecn_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_tcp_mangleid_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_tcp_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_udp_tnl_csum_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_udp_tnl_segmentation&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_vlan_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tx_vlan_stag_hw_insert&#34;</span><span class="p">:</span> <span class="s2">&#34;off [fixed]&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;udp_fragmentation_offload&#34;</span><span class="p">:</span> <span class="s2">&#34;on&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;vlan_challenged&#34;</span><span class="p">:</span> <span class="s2">&#34;on [fixed]&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;hw_timestamp_filters&#34;</span><span class="p">:</span> <span class="p">[],</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;ipv4&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;127.0.0.1&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;broadcast&#34;</span><span class="p">:</span> <span class="s2">&#34;host&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;netmask&#34;</span><span class="p">:</span> <span class="s2">&#34;255.0.0.0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;network&#34;</span><span class="p">:</span> <span class="s2">&#34;127.0.0.0&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;mtu&#34;</span><span class="p">:</span> <span class="mi">65536</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;promisc&#34;</span><span class="p">:</span> <span class="bp">false</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;timestamping&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;rx_software&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;software&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;loopback&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_local&#34;</span><span class="p">:</span> <span class="p">{},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_lsb&#34;</span><span class="p">:</span> <span class="p">{},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_machine&#34;</span><span class="p">:</span> <span class="s2">&#34;x86_64&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_machine_id&#34;</span><span class="p">:</span> <span class="s2">&#34;20190711105006363114529432776998&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_memfree_mb&#34;</span><span class="p">:</span> <span class="mi">33368</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_memory_mb&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;nocache&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;free&#34;</span><span class="p">:</span> <span class="mi">41285</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;used&#34;</span><span class="p">:</span> <span class="mi">6079</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;real&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;free&#34;</span><span class="p">:</span> <span class="mi">33368</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;total&#34;</span><span class="p">:</span> <span class="mi">47364</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;used&#34;</span><span class="p">:</span> <span class="mi">13996</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;swap&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;cached&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;free&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;total&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;used&#34;</span><span class="p">:</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_memtotal_mb&#34;</span><span class="p">:</span> <span class="mi">47364</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_mounts&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;block_available&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;block_size&#34;</span><span class="p">:</span> <span class="mi">2048</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;block_total&#34;</span><span class="p">:</span> <span class="mi">32174</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;block_used&#34;</span><span class="p">:</span> <span class="mi">32174</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;device&#34;</span><span class="p">:</span> <span class="s2">&#34;/dev/loop2&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;fstype&#34;</span><span class="p">:</span> <span class="s2">&#34;iso9660&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;inode_available&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;inode_total&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;inode_used&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;mount&#34;</span><span class="p">:</span> <span class="s2">&#34;/mnt/yum&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;options&#34;</span><span class="p">:</span> <span class="s2">&#34;ro,relatime&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;size_available&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;size_total&#34;</span><span class="p">:</span> <span class="mi">65892352</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;uuid&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-07-13-09-57-36-00&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;block_available&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;block_size&#34;</span><span class="p">:</span> <span class="mi">2048</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;block_total&#34;</span><span class="p">:</span> <span class="mi">81981</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;block_used&#34;</span><span class="p">:</span> <span class="mi">81981</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;device&#34;</span><span class="p">:</span> <span class="s2">&#34;/dev/loop0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;fstype&#34;</span><span class="p">:</span> <span class="s2">&#34;iso9660&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;inode_available&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;inode_total&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;inode_used&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;mount&#34;</span><span class="p">:</span> <span class="s2">&#34;/mnt/iso&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;options&#34;</span><span class="p">:</span> <span class="s2">&#34;ro,relatime&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;size_available&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;size_total&#34;</span><span class="p">:</span> <span class="mi">167897088</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;uuid&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-07-12-14-26-47-00&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;block_available&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;block_size&#34;</span><span class="p">:</span> <span class="mi">2048</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;block_total&#34;</span><span class="p">:</span> <span class="mi">89793</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;block_used&#34;</span><span class="p">:</span> <span class="mi">89793</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;device&#34;</span><span class="p">:</span> <span class="s2">&#34;/dev/loop1&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;fstype&#34;</span><span class="p">:</span> <span class="s2">&#34;iso9660&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;inode_available&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;inode_total&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;inode_used&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;mount&#34;</span><span class="p">:</span> <span class="s2">&#34;/mnt/drds&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;options&#34;</span><span class="p">:</span> <span class="s2">&#34;ro,relatime&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;size_available&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;size_total&#34;</span><span class="p">:</span> <span class="mi">183896064</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;uuid&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-07-12-20-25-18-00&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;block_available&#34;</span><span class="p">:</span> <span class="mi">96685158</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;block_size&#34;</span><span class="p">:</span> <span class="mi">4096</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;block_total&#34;</span><span class="p">:</span> <span class="mi">103177963</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;block_used&#34;</span><span class="p">:</span> <span class="mi">6492805</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;device&#34;</span><span class="p">:</span> <span class="s2">&#34;/dev/vda1&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;fstype&#34;</span><span class="p">:</span> <span class="s2">&#34;ext4&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;inode_available&#34;</span><span class="p">:</span> <span class="mi">26110896</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;inode_total&#34;</span><span class="p">:</span> <span class="mi">26214400</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;inode_used&#34;</span><span class="p">:</span> <span class="mi">103504</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;mount&#34;</span><span class="p">:</span> <span class="s2">&#34;/&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;options&#34;</span><span class="p">:</span> <span class="s2">&#34;rw,relatime,data=ordered&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;size_available&#34;</span><span class="p">:</span> <span class="mi">396022407168</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;size_total&#34;</span><span class="p">:</span> <span class="mi">422616936448</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;uuid&#34;</span><span class="p">:</span> <span class="s2">&#34;1114fe9e-2309-4580-b183-d778e6d97397&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_nodename&#34;</span><span class="p">:</span> <span class="s2">&#34;jtdb001&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_os_family&#34;</span><span class="p">:</span> <span class="s2">&#34;RedHat&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_pkg_mgr&#34;</span><span class="p">:</span> <span class="s2">&#34;yum&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_proc_cmdline&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;BOOT_IMAGE&#34;</span><span class="p">:</span> <span class="s2">&#34;/boot/vmlinuz-3.10.0-957.21.3.el7.x86_64&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;LANG&#34;</span><span class="p">:</span> <span class="s2">&#34;en_US.UTF-8&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;biosdevname&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;console&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tty0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;ttyS0,115200n8&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;crashkernel&#34;</span><span class="p">:</span> <span class="s2">&#34;auto&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;idle&#34;</span><span class="p">:</span> <span class="s2">&#34;halt&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;net.ifnames&#34;</span><span class="p">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;noibrs&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;quiet&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;rhgb&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;ro&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;root&#34;</span><span class="p">:</span> <span class="s2">&#34;UUID=1114fe9e-2309-4580-b183-d778e6d97397&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_processor&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;0&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;GenuineIntel&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;1&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;GenuineIntel&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;2&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;GenuineIntel&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;3&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;GenuineIntel&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;4&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;GenuineIntel&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;5&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;GenuineIntel&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;6&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;GenuineIntel&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;7&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;GenuineIntel&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;8&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;GenuineIntel&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;9&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;GenuineIntel&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;10&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;GenuineIntel&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;11&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;GenuineIntel&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Intel(R) Xeon(R) Platinum 8269CY CPU @ 2.50GHz&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_processor_cores&#34;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_processor_count&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_processor_threads_per_core&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_processor_vcpus&#34;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_product_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Alibaba Cloud ECS&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_product_serial&#34;</span><span class="p">:</span> <span class="s2">&#34;NA&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_product_uuid&#34;</span><span class="p">:</span> <span class="s2">&#34;NA&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_product_version&#34;</span><span class="p">:</span> <span class="s2">&#34;pc-i440fx-2.1&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_python&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;executable&#34;</span><span class="p">:</span> <span class="s2">&#34;/usr/bin/python&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;has_sslcontext&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;CPython&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;version&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;major&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;micro&#34;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;minor&#34;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;releaselevel&#34;</span><span class="p">:</span> <span class="s2">&#34;final&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;serial&#34;</span><span class="p">:</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;version_info&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="mi">2</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="mi">7</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="mi">5</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;final&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="mi">0</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_python_version&#34;</span><span class="p">:</span> <span class="s2">&#34;2.7.5&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_real_group_id&#34;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_real_user_id&#34;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_selinux&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;status&#34;</span><span class="p">:</span> <span class="s2">&#34;disabled&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_selinux_python_present&#34;</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_service_mgr&#34;</span><span class="p">:</span> <span class="s2">&#34;systemd&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_ssh_host_key_dsa_public&#34;</span><span class="p">:</span> <span class="s2">&#34;AAAAB3NzaC1kc3MAAACBAIjMSdXjIBwLTRwqzzLzJzw52IikcmHpmM65Idw9Q/CCH23SJdmmYzl9LIWFTEf2ZP4dHYibvgWtqfc6AHLFVgM1lz3wwdJJSyBD1TyFet+MPZEA1A9jw2Ke2K9C942dWATCpi3B0nk0KJDp49+V0QjUUjZmzt7I66wDmPLpW7mNAAAAFQDXmbLv48zsFHUgPiixhcKsk29ZPQAAAIAHHM+jfcL3V/X6EovQGj/2OytDN7k5hb4KRNTzBwh9JU5V44+S3r5ZViJDthKBolVT1CLX8jAivBu6d70ImYcZLa75AImOnlSp9D4xGP4TNfdAYrA7CkYpzn8ky15xjFDjkL0BjVmeEg6In+04tZOp/kIi/Ft9/ld63W4xopspwwAAAIAhBCIAMW37rknrsmv3sXmhgt+FeUQA/o8moZKcX+xI5sv27NEavQGGKOvZM4+nhCggRvjWaxC9N1DnO2g52trhGrUhNF0qwn/4iar/yknZWwRyZXzB3YtOdJXxCoJphuuGeqJRsLPb7OEIAF7c3lFJcfMUrwcjWrRtFMUM6mE+gQ==&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_ssh_host_key_ecdsa_public&#34;</span><span class="p">:</span> <span class="s2">&#34;AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBMffg6EX26f+10IIgg/U7+PsCUDs8Ep0MUttUyVh3+bJ7/K7ROMhuc8BTieA4PRj3MOaKMbUuZTqPTmrK/4srqg=&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_ssh_host_key_ed25519_public&#34;</span><span class="p">:</span> <span class="s2">&#34;AAAAC3NzaC1lZDI1NTE5AAAAINIKYkm+FKDTvx6VgENoAnXwOJQ+xZjk3rkvUqZ/4F3i&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_ssh_host_key_rsa_public&#34;</span><span class="p">:</span> <span class="s2">&#34;AAAAB3NzaC1yc2EAAAADAQABAAABAQC1xlLrDTri/jRfph6Uqx6CoY1/+uAE34rR9sR4FtE+2OMM8kUN0+N+hWLL+8r/pzM40RJOUmELYTlibfnjkYDsmYcpxD8kOxonvlYQbpvram8Hx7X8W1thYs//Zdhltmz1ijTiEatCL/yxJnwrpxN1XOtbMtALKgykbOzF+LNevFUG05MxxQR5WVjijXwK/Auf0ce/ei3NISQZLiW+d+IVYPkAQDpbUpH5W/qGDN0W8wT2OGE0bOvrPfDPRhSxeYrcS4mgS7nGvB26sFyeAimgadnxmWaxAveargYKt33jJQhVaA/23kw+/lygQcSN1QJ2mpeHb3ugay0Gv1i/Wd7P&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_swapfree_mb&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_swaptotal_mb&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_system&#34;</span><span class="p">:</span> <span class="s2">&#34;Linux&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_system_capabilities&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_system_capabilities_enforced&#34;</span><span class="p">:</span> <span class="s2">&#34;True&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_system_vendor&#34;</span><span class="p">:</span> <span class="s2">&#34;Alibaba Cloud&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_uptime_seconds&#34;</span><span class="p">:</span> <span class="mi">11384976</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_user_dir&#34;</span><span class="p">:</span> <span class="s2">&#34;/home/admin&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_user_gecos&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_user_gid&#34;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_user_id&#34;</span><span class="p">:</span> <span class="s2">&#34;admin&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_user_shell&#34;</span><span class="p">:</span> <span class="s2">&#34;/bin/bash&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_user_uid&#34;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_userspace_architecture&#34;</span><span class="p">:</span> <span class="s2">&#34;x86_64&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_userspace_bits&#34;</span><span class="p">:</span> <span class="s2">&#34;64&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_virtualization_role&#34;</span><span class="p">:</span> <span class="s2">&#34;guest&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;ansible_virtualization_type&#34;</span><span class="p">:</span> <span class="s2">&#34;kvm&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;discovered_interpreter_python&#34;</span><span class="p">:</span> <span class="s2">&#34;/usr/bin/python&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;gather_subset&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;all&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span> 
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;module_setup&#34;</span><span class="p">:</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span> 
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;changed&#34;</span><span class="p">:</span> <span class="bp">false</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre>
</div>
<h2 id="ansible--xargs-占位符" class="headerLink">
    <a href="#ansible--xargs-%e5%8d%a0%e4%bd%8d%e7%ac%a6" class="header-mark"></a>ansible + xargs 占位符</h2><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-23" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">//批量执行docker exec
</span></span><span class="line"><span class="cl">ansible -i host.ini all -m shell -a &#34;docker ps -a | grep pxd-tpcc | grep dn | cut -d &#39; &#39; -f 1 | xargs  -I{} docker exec {} bash -c \&#34;myc -e &#39;shutdown&#39;\&#34;&#34;</span></span></code></pre>
</div>
<h2 id="指定ip执行playbook" class="headerLink">
    <a href="#%e6%8c%87%e5%ae%9aip%e6%89%a7%e8%a1%8cplaybook" class="header-mark"></a>指定ip执行playbook</h2><blockquote>
  <p>ansible-playbook  -i &ldquo;10.168.101.179,&rdquo; all test.yml</p>

</blockquote><p>或者：</p>
<blockquote>
  <p>ansible -i phy.ini 11.167.60.150 -m shell -a &lsquo;docker run -it -d &ndash;net=host -e diamond_server_list=&rdquo;{{ diamond_server_list }}&quot; -e diamond_db0=&quot;{{ diamond_db0 }}&quot; -e diamond_db1=&quot;{{ diamond_db1 }}&quot; -e diamond_db2=&quot;{{ diamond_db2 }}&quot; -e HOST_IP=&quot;{{ inventory_hostname }}&quot; -p 8080:8080 -p 9090:9090 &ndash;name diamond {{ images }} &rsquo; -vvv</p>

</blockquote><p>上面这种还能重用phy.ini中所有的变量配置</p>
<h2 id="创建用户并打通账号" class="headerLink">
    <a href="#%e5%88%9b%e5%bb%ba%e7%94%a8%e6%88%b7%e5%b9%b6%e6%89%93%e9%80%9a%e8%b4%a6%e5%8f%b7" class="header-mark"></a>创建用户并打通账号</h2><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-24" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"><span class="o">$</span><span class="n">cat</span> <span class="n">create_user</span><span class="o">.</span><span class="n">yml</span>
</span></span><span class="line"><span class="cl"><span class="c1"># create user ren with passwd test and sudo privileges.</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ansible-playbook -i docker.ini create_user.yml</span>
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">hosts</span><span class="p">:</span> <span class="n">all</span>
</span></span><span class="line"><span class="cl">  <span class="n">user</span><span class="p">:</span> <span class="n">root</span>
</span></span><span class="line"><span class="cl">  <span class="n">vars</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># created with:</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># python -c &#39;import crypt; print crypt.crypt(&#34;password&#34;, &#34;$1$SomeSalt$&#34;)&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="n">password</span><span class="p">:</span> <span class="o">$</span><span class="mi">1</span><span class="o">$</span><span class="n">SomeSalt</span><span class="o">$</span><span class="n">OrX9ouxOCP0ZOpVG9SwnR</span><span class="o">/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">tasks</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">create</span> <span class="n">a</span> <span class="n">new</span> <span class="n">user</span>
</span></span><span class="line"><span class="cl">      <span class="n">user</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">       <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;{{ user }}&#39;</span>
</span></span><span class="line"><span class="cl">       <span class="n">password</span><span class="p">:</span> <span class="s1">&#39;{{ password }}&#39;</span>
</span></span><span class="line"><span class="cl">       <span class="n">home</span><span class="p">:</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="p">{{</span> <span class="n">user</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">       <span class="n">state</span><span class="p">:</span> <span class="n">present</span>
</span></span><span class="line"><span class="cl">       <span class="n">shell</span><span class="p">:</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">Add</span> <span class="n">user</span> <span class="n">to</span> <span class="n">the</span> <span class="n">sudoers</span>
</span></span><span class="line"><span class="cl">      <span class="n">copy</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">          <span class="n">dest</span><span class="p">:</span> <span class="s2">&#34;/etc/sudoers.d/{{ user }}&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="n">content</span><span class="p">:</span> <span class="s2">&#34;{{ user }}  ALL=(ALL)  NOPASSWD: ALL&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">Deploy</span> <span class="n">SSH</span> <span class="n">Key</span>
</span></span><span class="line"><span class="cl">      <span class="n">authorized_key</span><span class="p">:</span> <span class="n">user</span><span class="o">=</span><span class="p">{{</span> <span class="n">user</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">           <span class="n">key</span><span class="o">=</span><span class="s2">&#34;{{ lookup(&#39;file&#39;, &#39;/root/.ssh/id_rsa.pub&#39;) }}&#34;</span>
</span></span><span class="line"><span class="cl">           <span class="n">state</span><span class="o">=</span><span class="n">present</span></span></span></code></pre>
</div>
<p>然后执行： ansible-playbook -i  all.ini create_user.yml -e &ldquo;user=admin&rdquo; 。</p>
<p>或者：</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-25" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"> ansible -i 192.168.2.101, all -m user -a &#34;name=user02 system=yes uid=503 group=root groups=root shell=/etc/nologin home=/home/user02 password=pwd@123&#34;
</span></span><span class="line"><span class="cl"> 192.168.2.101 | CHANGED =&gt; {
</span></span><span class="line"><span class="cl">    &#34;ansible_facts&#34;: {
</span></span><span class="line"><span class="cl">        &#34;discovered_interpreter_python&#34;: &#34;/usr/bin/python&#34;
</span></span><span class="line"><span class="cl">    }, 
</span></span><span class="line"><span class="cl">    &#34;changed&#34;: true, 
</span></span><span class="line"><span class="cl">    &#34;comment&#34;: &#34;&#34;, 
</span></span><span class="line"><span class="cl">    &#34;create_home&#34;: true, 
</span></span><span class="line"><span class="cl">    &#34;group&#34;: 0, 
</span></span><span class="line"><span class="cl">    &#34;groups&#34;: &#34;root&#34;, 
</span></span><span class="line"><span class="cl">    &#34;home&#34;: &#34;/home/user02&#34;, 
</span></span><span class="line"><span class="cl">    &#34;name&#34;: &#34;user02&#34;, 
</span></span><span class="line"><span class="cl">    &#34;password&#34;: &#34;NOT_LOGGING_PASSWORD&#34;, 
</span></span><span class="line"><span class="cl">    &#34;shell&#34;: &#34;/etc/nologin&#34;, 
</span></span><span class="line"><span class="cl">    &#34;state&#34;: &#34;present&#34;, 
</span></span><span class="line"><span class="cl">    &#34;system&#34;: true, 
</span></span><span class="line"><span class="cl">    &#34;uid&#34;: 503
</span></span><span class="line"><span class="cl">}</span></span></code></pre>
</div>
<p>playbook task规范：</p>
<p><img class="tw-inline" loading="lazy" src=https://plantegg.github.io/Users/ren/case/ossimg/d502a11765273304abd673fb358b482a.png   alt="image.png"  ></p>
<p><strong>对齐的时候不能用tab和空格混合</strong></p>
<h2 id="修改密码" class="headerLink">
    <a href="#%e4%bf%ae%e6%94%b9%e5%af%86%e7%a0%81" class="header-mark"></a>修改密码</h2><p>创建如下yaml脚本 changepw.yml:</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">c</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-26" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"><span class="o">-</span> <span class="nl">name</span><span class="p">:</span> <span class="n">user</span> <span class="n">module</span> <span class="n">demo</span>
</span></span><span class="line"><span class="cl">  <span class="nl">hosts</span><span class="p">:</span> <span class="n">all</span>
</span></span><span class="line"><span class="cl">  <span class="nl">become</span><span class="p">:</span> <span class="nb">true</span>
</span></span><span class="line"><span class="cl">  <span class="nl">vars</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nl">user</span><span class="p">:</span> <span class="err">&#39;</span><span class="n">admin</span><span class="err">&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="nl">mypassword</span><span class="p">:</span> <span class="s">&#34;PolarDB-X&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="cp">#mypassword: &#34;$1$SomeSalt$PB9C3LT9wCjmaMYdBWsRS1&#34;
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl">  <span class="nl">tasks</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="o">-</span> <span class="nl">name</span><span class="p">:</span> <span class="n">change</span> <span class="n">password</span>
</span></span><span class="line"><span class="cl">      <span class="n">ansible</span><span class="p">.</span><span class="n">builtin</span><span class="p">.</span><span class="nl">user</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nl">name</span><span class="p">:</span> <span class="s">&#34;{{ user }}&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="nl">state</span><span class="p">:</span> <span class="n">present</span>
</span></span><span class="line"><span class="cl">        <span class="nl">password</span><span class="p">:</span> <span class="s">&#34;{{ mypassword | password_hash(&#39;sha512&#39;) }}&#34;</span></span></span></code></pre>
</div>
<p>使用方法：</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-27" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">ansible-playbook -i 1.2.3.4, changepw.yml -e &#34;user=root&#34; -e &#34;mypassword=123&#34;</span></span></code></pre>
</div>
<p>将 root 账号的密码改成123</p>
<p>或者：</p>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-28" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">ansible -i 1.2.3.4, all -e &#34;newpassword=1234&#34; -m user -a &#34;name=admin update_password=always password={{ newpassword|password_hash(&#39;sha512&#39;) }}&#34;</span></span></code></pre>
</div>
<h3 id="创建用户以及密码" class="headerLink">
    <a href="#%e5%88%9b%e5%bb%ba%e7%94%a8%e6%88%b7%e4%bb%a5%e5%8f%8a%e5%af%86%e7%a0%81" class="header-mark"></a>创建用户以及密码</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-29" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">ansible -i 1.2.3.4, all  -e &#34;newpassword=1234&#34; -m user -a &#34;name=ren state=present shell=/bin/sh update_password=always password={{ newpassword|password_hash(&#39;sha512&#39;) }}&#34;</span></span></code></pre>
</div>
<h2 id="部署docker-daemon的playbook" class="headerLink">
    <a href="#%e9%83%a8%e7%bd%b2docker-daemon%e7%9a%84playbook" class="header-mark"></a>部署docker daemon的playbook</h2><p>执行 ansible-playbook site.yml -v  -i test.ini -u admin -e &ldquo;project=docker&rdquo; -p</p>
<div class="code-block highlight is-closed show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-30" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl"><span class="o">$</span><span class="n">cat</span> <span class="n">roles</span><span class="o">/</span><span class="n">docker</span><span class="o">/</span><span class="n">tasks</span><span class="o">/</span><span class="n">main</span><span class="o">.</span><span class="n">yml</span> 
</span></span><span class="line"><span class="cl"><span class="c1"># filename: main.yml</span>
</span></span><span class="line"><span class="cl"><span class="o">---</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#34;****************************************************************************&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">copy</span> <span class="n">docker</span> <span class="n">execute</span> <span class="n">file</span> <span class="n">to</span> <span class="n">remote</span>
</span></span><span class="line"><span class="cl">  <span class="n">copy</span><span class="p">:</span> <span class="n">src</span><span class="o">=</span><span class="n">docker</span><span class="o">/</span> <span class="n">dest</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span> <span class="n">mode</span><span class="o">=</span><span class="mi">0755</span> <span class="n">force</span><span class="o">=</span><span class="n">yes</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">copytar</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">create</span> <span class="n">storage</span> <span class="n">dir</span>
</span></span><span class="line"><span class="cl">  <span class="n">file</span><span class="p">:</span> <span class="n">path</span><span class="o">=</span><span class="p">{{</span> <span class="n">storage_dir</span> <span class="p">}}</span> <span class="n">state</span><span class="o">=</span><span class="n">directory</span>
</span></span><span class="line"><span class="cl">  <span class="n">ignore_errors</span><span class="p">:</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">docker</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">create</span> <span class="n">the</span> <span class="n">dir</span>
</span></span><span class="line"><span class="cl">  <span class="n">file</span><span class="p">:</span> <span class="n">path</span><span class="o">=/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span> <span class="n">state</span><span class="o">=</span><span class="n">directory</span>
</span></span><span class="line"><span class="cl">  <span class="n">ignore_errors</span><span class="p">:</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">docker</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">template</span> <span class="n">docker</span><span class="o">.</span><span class="n">service</span> <span class="n">to</span> <span class="n">server</span>
</span></span><span class="line"><span class="cl">  <span class="n">template</span><span class="p">:</span> <span class="n">src</span><span class="o">=</span><span class="n">docker</span><span class="o">.</span><span class="n">service</span> <span class="n">dest</span><span class="o">=/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">docker</span><span class="o">.</span><span class="n">service</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">docker</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">template</span> <span class="n">docker</span><span class="o">.</span><span class="n">socket</span> <span class="n">to</span> <span class="n">server</span>
</span></span><span class="line"><span class="cl">  <span class="n">template</span><span class="p">:</span> <span class="n">src</span><span class="o">=</span><span class="n">docker</span><span class="o">.</span><span class="n">socket</span> <span class="n">dest</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">docker</span><span class="o">.</span><span class="n">socket</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">docker</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">create</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">docker</span> <span class="n">dir</span> <span class="n">to</span> <span class="n">server</span>
</span></span><span class="line"><span class="cl">  <span class="n">file</span><span class="p">:</span> <span class="n">path</span><span class="o">=/</span><span class="n">etc</span><span class="o">/</span><span class="n">docker</span> <span class="n">state</span><span class="o">=</span><span class="n">directory</span>
</span></span><span class="line"><span class="cl">  <span class="n">ignore_errors</span><span class="p">:</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">docker</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">copy</span> <span class="n">daemon</span><span class="o">.</span><span class="n">json</span> <span class="n">to</span> <span class="n">server</span>
</span></span><span class="line"><span class="cl">  <span class="n">template</span><span class="p">:</span> <span class="n">src</span><span class="o">=</span><span class="p">{{</span> <span class="n">inventory_hostname</span> <span class="p">}}</span><span class="o">/</span><span class="n">daemon</span><span class="o">.</span><span class="n">json</span> <span class="n">dest</span><span class="o">=/</span><span class="n">etc</span><span class="o">/</span><span class="n">docker</span><span class="o">/</span><span class="n">daemon</span><span class="o">.</span><span class="n">json</span>
</span></span><span class="line"><span class="cl">  <span class="n">ignore_errors</span><span class="p">:</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">docker</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">copy</span> <span class="n">the</span> <span class="nb">load</span> <span class="n">ovs</span> <span class="n">modules</span> <span class="n">to</span> <span class="n">server</span>
</span></span><span class="line"><span class="cl">  <span class="n">copy</span><span class="p">:</span> <span class="n">src</span><span class="o">=</span><span class="n">openvswitch</span><span class="o">.</span><span class="n">modules</span> <span class="n">dest</span><span class="o">=/</span><span class="n">etc</span><span class="o">/</span><span class="n">sysconfig</span><span class="o">/</span><span class="n">modules</span><span class="o">/</span><span class="n">openvswitch</span><span class="o">.</span><span class="n">modules</span> <span class="n">mode</span><span class="o">=</span><span class="mi">0755</span>  <span class="n">force</span><span class="o">=</span><span class="n">yes</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">docker</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">kill</span> <span class="n">docker</span> <span class="n">daemon</span>
</span></span><span class="line"><span class="cl">  <span class="n">shell</span><span class="p">:</span> <span class="s2">&#34;kill -9 $(cat /var/run/docker.pid)&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">ignore_errors</span><span class="p">:</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">test</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">reload</span> <span class="n">systemctl</span> <span class="n">daemon</span><span class="o">-</span><span class="n">reload</span>
</span></span><span class="line"><span class="cl">  <span class="n">shell</span><span class="p">:</span> <span class="s2">&#34;systemctl daemon-reload&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">docker</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">enabled</span> <span class="n">the</span> <span class="n">docker</span> <span class="n">service</span>
</span></span><span class="line"><span class="cl">  <span class="n">shell</span><span class="p">:</span> <span class="s2">&#34;systemctl enable docker.service&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">ignore_errors</span><span class="p">:</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">docker</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">start</span> <span class="n">docker</span> <span class="n">service</span>
</span></span><span class="line"><span class="cl">  <span class="n">shell</span><span class="p">:</span> <span class="s2">&#34;systemctl start docker.service&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">remove</span> <span class="n">all</span> <span class="n">containers</span>
</span></span><span class="line"><span class="cl">  <span class="n">shell</span><span class="p">:</span> <span class="n">sudo</span> <span class="n">docker</span> <span class="n">ps</span> <span class="o">-</span><span class="n">a</span> <span class="o">|</span> <span class="n">awk</span> <span class="s1">&#39;{print $1}&#39;</span> <span class="o">|</span> <span class="n">xargs</span> <span class="n">sudo</span> <span class="n">docker</span> <span class="n">rm</span> <span class="o">-</span><span class="n">f</span> <span class="o">-</span><span class="n">v</span>
</span></span><span class="line"><span class="cl">  <span class="n">ignore_errors</span><span class="p">:</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">template</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">hosts</span> <span class="n">to</span> <span class="n">server</span>
</span></span><span class="line"><span class="cl">  <span class="n">template</span><span class="p">:</span> <span class="n">src</span><span class="o">=</span><span class="n">hosts</span> <span class="n">dest</span><span class="o">=/</span><span class="n">etc</span><span class="o">/</span><span class="n">hosts</span> <span class="n">owner</span><span class="o">=</span><span class="n">root</span> <span class="n">group</span><span class="o">=</span><span class="n">root</span> <span class="n">mode</span><span class="o">=</span><span class="mi">0644</span> <span class="n">force</span><span class="o">=</span><span class="n">yes</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">restorehosts</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">mkdir</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span>
</span></span><span class="line"><span class="cl">  <span class="n">shell</span><span class="p">:</span> <span class="s2">&#34;mkdir /tmp/etc/ &#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">ignore_errors</span><span class="p">:</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">hosts</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">copy</span> <span class="n">remote</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">hosts</span> <span class="n">to</span> <span class="o">/</span><span class="n">tmp</span>
</span></span><span class="line"><span class="cl">  <span class="n">shell</span><span class="p">:</span> <span class="s2">&#34;cp /etc/hosts /tmp/etc/ &#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">hosts</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">copy</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">hosts</span> <span class="n">to</span> <span class="n">server</span>
</span></span><span class="line"><span class="cl">  <span class="n">template</span><span class="p">:</span> <span class="n">src</span><span class="o">=</span><span class="n">etc</span><span class="o">.</span><span class="n">host</span> <span class="n">dest</span><span class="o">=/</span><span class="n">tmp</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span> <span class="n">owner</span><span class="o">=</span><span class="p">{{</span> <span class="n">remote_user</span> <span class="p">}}</span> <span class="n">group</span><span class="o">=</span><span class="p">{{</span> <span class="n">remote_user</span> <span class="p">}}</span> <span class="n">mode</span><span class="o">=</span><span class="mi">0700</span> <span class="n">force</span><span class="o">=</span><span class="n">yes</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">hosts</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">merge</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">hosts</span>
</span></span><span class="line"><span class="cl">  <span class="n">assemble</span><span class="p">:</span> <span class="n">src</span><span class="o">=/</span><span class="n">tmp</span><span class="o">/</span><span class="n">etc</span> <span class="n">dest</span><span class="o">=/</span><span class="n">etc</span><span class="o">/</span><span class="n">hosts</span> <span class="n">owner</span><span class="o">=</span><span class="n">root</span> <span class="n">group</span><span class="o">=</span><span class="n">root</span> <span class="n">mode</span><span class="o">=</span><span class="mi">0644</span> <span class="n">force</span><span class="o">=</span><span class="n">yes</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">hosts</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">copy</span> <span class="n">docker_rc</span><span class="o">.</span><span class="n">sh</span> <span class="n">to</span> <span class="n">server</span>
</span></span><span class="line"><span class="cl">  <span class="n">template</span><span class="p">:</span> <span class="n">src</span><span class="o">=</span><span class="n">docker_rc</span><span class="o">.</span><span class="n">sh</span> <span class="n">dest</span><span class="o">=</span><span class="p">{{</span> <span class="n">docker_rc_dir</span> <span class="p">}}</span><span class="o">/</span><span class="n">docker_rc</span><span class="o">.</span><span class="n">sh</span> <span class="n">owner</span><span class="o">=</span><span class="n">root</span> <span class="n">group</span><span class="o">=</span><span class="n">root</span> <span class="n">mode</span><span class="o">=</span><span class="mi">0755</span> <span class="n">force</span><span class="o">=</span><span class="n">yes</span>
</span></span><span class="line"><span class="cl">  <span class="n">when</span><span class="p">:</span> <span class="n">use_vxlan</span><span class="o">!=</span><span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">docker_rc</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">copy</span> <span class="n">docker_rc</span><span class="o">.</span><span class="n">sh</span> <span class="n">to</span> <span class="n">server</span>
</span></span><span class="line"><span class="cl">  <span class="n">template</span><span class="p">:</span> <span class="n">src</span><span class="o">=</span><span class="n">docker_rc_vm</span><span class="o">.</span><span class="n">sh</span> <span class="n">dest</span><span class="o">=</span><span class="p">{{</span> <span class="n">docker_rc_dir</span> <span class="p">}}</span><span class="o">/</span><span class="n">docker_rc</span><span class="o">.</span><span class="n">sh</span> <span class="n">owner</span><span class="o">=</span><span class="n">root</span> <span class="n">group</span><span class="o">=</span><span class="n">root</span> <span class="n">mode</span><span class="o">=</span><span class="mi">0755</span> <span class="n">force</span><span class="o">=</span><span class="n">yes</span>
</span></span><span class="line"><span class="cl">  <span class="n">when</span><span class="p">:</span> <span class="n">use_vxlan</span><span class="o">==</span><span class="s2">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">docker_rc</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">clean</span> <span class="n">docker_rc</span> <span class="ow">in</span> <span class="n">rc</span><span class="o">.</span><span class="n">local</span>
</span></span><span class="line"><span class="cl">  <span class="n">command</span><span class="p">:</span> <span class="n">su</span> <span class="o">-</span> <span class="n">root</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&#34; sed -i &#39;/docker_rc.sh/d&#39; /etc/rc.d/rc.local &#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">ignore_errors</span><span class="p">:</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">  <span class="n">sudo</span><span class="p">:</span> <span class="n">yes</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">docker_rc</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">start</span> <span class="n">the</span> <span class="n">docker</span> <span class="n">when</span> <span class="n">the</span> <span class="n">system</span> <span class="n">reboot</span>
</span></span><span class="line"><span class="cl">  <span class="n">command</span><span class="p">:</span> <span class="n">su</span> <span class="o">-</span> <span class="n">root</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&#34; echo &#39;su - root -c </span><span class="se">\&#34;</span><span class="s2">{{ docker_rc_dir }}/docker_rc.sh</span><span class="se">\&#34;</span><span class="s2"> &#39; &gt;&gt; /etc/rc.d/rc.local &#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">ignore_errors</span><span class="p">:</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">  <span class="n">sudo</span><span class="p">:</span> <span class="n">yes</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">docker_rc</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">chown</span> <span class="n">the</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">rc</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">rc</span><span class="o">.</span><span class="n">local</span>
</span></span><span class="line"><span class="cl">  <span class="n">shell</span><span class="p">:</span> <span class="s2">&#34;chmod +x /etc/rc.d/rc.local &#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">ignore_errors</span><span class="p">:</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">  <span class="n">sudo</span><span class="p">:</span> <span class="n">yes</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">docker_rc</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">clean</span> <span class="n">previous</span> <span class="n">space</span> <span class="n">occupier</span>
</span></span><span class="line"><span class="cl">  <span class="n">file</span><span class="p">:</span> <span class="n">path</span><span class="o">=</span><span class="p">{{</span> <span class="n">storage_dir</span> <span class="p">}}</span><span class="o">/</span><span class="n">ark</span><span class="o">.</span><span class="n">disk</span><span class="p">{{</span> <span class="n">item</span> <span class="p">}}</span><span class="o">.</span><span class="n">tmp</span> <span class="n">state</span><span class="o">=</span><span class="n">absent</span>
</span></span><span class="line"><span class="cl">  <span class="n">with_items</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="o">-</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="o">-</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">  <span class="n">ignore_errors</span><span class="p">:</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">docker</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">Occupy</span> <span class="n">space</span> <span class="k">for</span> <span class="n">docker</span>
</span></span><span class="line"><span class="cl">  <span class="n">shell</span><span class="p">:</span> <span class="s2">&#34;dd if=/dev/zero of={{ storage_dir }}/ark.disk{{ item }}.tmp bs=1M count=1024&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">sudo</span><span class="p">:</span> <span class="n">yes</span>
</span></span><span class="line"><span class="cl">  <span class="n">with_items</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="o">-</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="o">-</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">  <span class="n">tags</span><span class="p">:</span> <span class="n">docker</span></span></span></code></pre>
</div>
<h2 id="部署zk" class="headerLink">
    <a href="#%e9%83%a8%e7%bd%b2zk" class="header-mark"></a>部署zk</h2><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-31" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">$cat roles/zookeeper/tasks/main.yml
</span></span><span class="line"><span class="cl"># filename: main.yml
</span></span><span class="line"><span class="cl">---
</span></span><span class="line"><span class="cl">#&#34;****************************************************************************&#34;&#34;
</span></span><span class="line"><span class="cl">- name: extract zookeeper tgz
</span></span><span class="line"><span class="cl">  unarchive: src={{ packages_dir }}/lib/{{ zk_package_name }} dest=/opt
</span></span><span class="line"><span class="cl">  sudo: yes
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- name: create zk data and log dir
</span></span><span class="line"><span class="cl">  file: path={{ zk_data_dir }} state=directory mode=0755
</span></span><span class="line"><span class="cl">  with_items:
</span></span><span class="line"><span class="cl">    - &#34;{{ zk_data_dir }}&#34;
</span></span><span class="line"><span class="cl">    - &#34;{{ zk_logs_dir }}&#34;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- name: set the myid
</span></span><span class="line"><span class="cl">  template: src=myid dest={{ zk_myid_file }}  mode=0644
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- name: template zoo.cfg
</span></span><span class="line"><span class="cl">  template: src=zoo.cfg dest={{ zk_install_dir }}/conf/ mode=0644
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- name: copy log4j to remote
</span></span><span class="line"><span class="cl">  template: src=log4j.properties dest={{ zk_install_dir }}/conf/log4j.properties
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- name: determine zk process
</span></span><span class="line"><span class="cl">  command: su - root -c &#34;ps aux | grep java | grep -v grep | grep {{ zk_install_dir }}&#34;
</span></span><span class="line"><span class="cl">  register: result
</span></span><span class="line"><span class="cl">  ignore_errors: true
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- name: stop zk server
</span></span><span class="line"><span class="cl">  command: su - root -c &#34;sh {{ zk_install_dir }}/bin/zkServer.sh  stop&#34;
</span></span><span class="line"><span class="cl">  ignore_errors: true
</span></span><span class="line"><span class="cl">  when: &#34;result.rc == 0&#34;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- name: start zk server
</span></span><span class="line"><span class="cl">  command: su - root -c &#34;sh {{ zk_install_dir }}/bin/zkServer.sh start&#34;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- name: get process info
</span></span><span class="line"><span class="cl">  command: su - root -c &#34;ps aux | grep java | grep -v grep | grep {{ zk_install_dir }}&#34;
</span></span><span class="line"><span class="cl">  register: result
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- name: clean zk service when the system reboot
</span></span><span class="line"><span class="cl">  command: su - root -c &#34; sed -i &#39;/{{ zk_dir_name }}/d&#39; /etc/rc.d/rc.local &#34;
</span></span><span class="line"><span class="cl">  ignore_errors: true
</span></span><span class="line"><span class="cl">  sudo: yes
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- name: start the zk service when the system reboot
</span></span><span class="line"><span class="cl">  command: su - root -c &#34; echo &#39;su - root -c \&#34;{{ zk_install_dir }}/bin/zkServer.sh start\&#34; &#39; &gt;&gt; /etc/rc.d/rc.local &#34;
</span></span><span class="line"><span class="cl">  ignore_errors: true
</span></span><span class="line"><span class="cl">  sudo: yes
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- name: start the zk service when the system reboot
</span></span><span class="line"><span class="cl">  shell: &#34;chmod +x /etc/rc.d/rc.local &#34;
</span></span><span class="line"><span class="cl">  ignore_errors: true
</span></span><span class="line"><span class="cl">  sudo: yes</span></span></code></pre>
</div>
<h2 id="参考资料" class="headerLink">
    <a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99" class="header-mark"></a>参考资料</h2><p><a href="https://www.mydailytutorials.com/how-to-copy-files-and-directories-in-ansible-using-copy-and-fetch-modules/" target="_blank" rel="noopener noreferrer">How to Copy Files and Directories in Ansible Using Copy and Fetch Modules</a></p>
]]></description>
</item><item>
    <title>在ansible PlayBook中如何定义不同的机器、不同的Role使用不同的变量</title>
    <link>https://plantegg.github.io/posts/ansible-playbook-%E5%8F%98%E9%87%8F/</link>
    <pubDate>Tue, 22 Mar 2016 17:30:03 &#43;0000</pubDate><author>
        <name>作者</name>
    </author><guid>https://plantegg.github.io/posts/ansible-playbook-%E5%8F%98%E9%87%8F/</guid>
    <description><![CDATA[<h1 id="在ansible-playbook中如何定义不同的机器不同的role使用不同的变量" class="headerLink">
    <a href="#%e5%9c%a8ansible-playbook%e4%b8%ad%e5%a6%82%e4%bd%95%e5%ae%9a%e4%b9%89%e4%b8%8d%e5%90%8c%e7%9a%84%e6%9c%ba%e5%99%a8%e4%b8%8d%e5%90%8c%e7%9a%84role%e4%bd%bf%e7%94%a8%e4%b8%8d%e5%90%8c%e7%9a%84%e5%8f%98%e9%87%8f" class="header-mark"></a>在ansible PlayBook中如何定义不同的机器、不同的Role使用不同的变量</h1><h2 id="问题场景1" class="headerLink">
    <a href="#%e9%97%ae%e9%a2%98%e5%9c%ba%e6%99%af1" class="header-mark"></a>问题场景1</h2><blockquote>
  <p>在安装Edas Agent脚本的时候发现在不同的机房[深圳、杭州、北京]有不同的网络定义[VPC、Normal],希望不同机房的机器在不同网络下使用不同的下载地址</p>

</blockquote><h2 id="问题场景2" class="headerLink">
    <a href="#%e9%97%ae%e9%a2%98%e5%9c%ba%e6%99%af2" class="header-mark"></a>问题场景2</h2><blockquote>
  <p>在同一台机器上安装MySQL和Diamond，需要定义一个Project_Name, 如果定义在Hosts.ini中必然会覆盖，一台机器相当于一个作用域【同一个函数中也不允许你定义两个一样的名字吧！】</p>

</blockquote><h2 id="问题场景1的解决" class="headerLink">
    <a href="#%e9%97%ae%e9%a2%98%e5%9c%ba%e6%99%af1%e7%9a%84%e8%a7%a3%e5%86%b3" class="header-mark"></a>问题场景1的解决</h2><h3 id="在hostsini文件中定义不同的机器和变量" class="headerLink">
    <a href="#%e5%9c%a8hostsini%e6%96%87%e4%bb%b6%e4%b8%ad%e5%ae%9a%e4%b9%89%e4%b8%8d%e5%90%8c%e7%9a%84%e6%9c%ba%e5%99%a8%e5%92%8c%e5%8f%98%e9%87%8f" class="header-mark"></a>在hosts.ini文件中定义不同的机器和变量</h3><pre><code>[sz_vpc]
10.125.0.169 
10.125.192.40

[sz_normal]
10.125.12.174 

[sz:children]
sz_vpc
sz_normal

[hz_vpc]
10.125.3.33  
[hz_normal]
10.125.14.238

[hz:children]
hz_vpc
hz_normal

############variables
[sz_vpc:vars]
script_url=&quot;sz_vpc&quot;

[sz_normal:vars]
script_url=&quot;sz_normal&quot;

[hz_vpc:vars]
script_url=&quot;hz_vpc&quot;

[hz_normal:vars]
script_url=&quot;hz_normal&quot;
</code></pre>
<h3 id="执行代码" class="headerLink">
    <a href="#%e6%89%a7%e8%a1%8c%e4%bb%a3%e7%a0%81" class="header-mark"></a>执行代码</h3><pre><code>- name: test variables
  debug: msg={{ script_url }}  #对所有机器输出他们的url来验证一下我们的定义生效没有
  tags: test
</code></pre>
<h3 id="执行结果" class="headerLink">
    <a href="#%e6%89%a7%e8%a1%8c%e7%bb%93%e6%9e%9c" class="header-mark"></a>执行结果</h3><pre><code>$udp-playbook -i udp-hosts.ini site.yml -b -u admin -t test    

UDP-PLAY-START: [apply common configuration to all nodes] ********************* 

UDP-TASK: [test variables] **************************************************** 
ok =&gt; 10.125.3.33 =&gt; {
    &quot;msg&quot;: &quot;hz_vpc&quot;
}
ok =&gt; 10.125.0.169 =&gt; {
    &quot;msg&quot;: &quot;sz_vpc&quot;
}
ok =&gt; 10.125.192.40 =&gt; {
    &quot;msg&quot;: &quot;sz_vpc&quot;
}
ok =&gt; 10.125.14.238 =&gt; {
    &quot;msg&quot;: &quot;hz_normal&quot;
}
ok =&gt; 10.125.12.174 =&gt; {
    &quot;msg&quot;: &quot;sz_normal&quot;
}
</code></pre>
<h2 id="问题场景2的解决" class="headerLink">
    <a href="#%e9%97%ae%e9%a2%98%e5%9c%ba%e6%99%af2%e7%9a%84%e8%a7%a3%e5%86%b3" class="header-mark"></a>问题场景2的解决</h2><blockquote>
  <p>在这里变量不要放在hosts.ini中，到MySQL、Diamond的roles中新建两个yml文件,在 里面分别写上 MySQL和Diamond的 Project_Name 这样就不会覆盖了</p>

</blockquote><h3 id="目录结构" class="headerLink">
    <a href="#%e7%9b%ae%e5%bd%95%e7%bb%93%e6%9e%84" class="header-mark"></a>目录结构</h3><pre><code>```
$ find roles
roles/
roles/mysql
roles/mysql/tasks
roles/mysql/tasks/main.yml
roles/mysql/defaults
roles/mysql/defaults/main.yml
roles/diamond
roles/diamond/tasks
roles/diamond/tasks/main.yml
roles/diamond/defaults
roles/diamond/defaults/main.yml

```
</code></pre>
<h3 id="变量定义" class="headerLink">
    <a href="#%e5%8f%98%e9%87%8f%e5%ae%9a%e4%b9%89" class="header-mark"></a>变量定义</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-1" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">$ cat roles/mysql/defaults/main.yml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">project: {
</span></span><span class="line"><span class="cl">        &#34;project_name&#34;: mysql,
</span></span><span class="line"><span class="cl">		&#34;version&#34;: 5.6.0
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ cat roles/daimond/defaults/main.yml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">project: {
</span></span><span class="line"><span class="cl">        &#34;project_name&#34;: daimond,
</span></span><span class="line"><span class="cl">		&#34;version&#34;: 3.5.0
</span></span><span class="line"><span class="cl">        }</span></span></code></pre>
</div>
<h3 id="变量使用" class="headerLink">
    <a href="#%e5%8f%98%e9%87%8f%e4%bd%bf%e7%94%a8" class="header-mark"></a>变量使用</h3><div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-2" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">- name: print the tar file name
</span></span><span class="line"><span class="cl">  debug: msg=&#34;{{ project.project_name }}&#34;
</span></span><span class="line"><span class="cl">  tags: test</span></span></code></pre>
</div>
<h2 id="role-和-playbook-用法" class="headerLink">
    <a href="#role-%e5%92%8c-playbook-%e7%94%a8%e6%b3%95" class="header-mark"></a>role 和 playbook 用法</h2><p>role中文件夹含义</p>
<ul>
<li>tasks目录：存放task列表。若role要生效，此目录必须要有一个主task文件main.yml，在main.yml中可以使用include包含同目录(即tasks)中的其他文件。</li>
<li>handlers目录：存放handlers的目录，若要生效，则文件必须名为main.yml文件。</li>
<li>files目录：在task中执行copy或script模块时，如果使用的是相对路径，则会到此目录中寻找对应的文件。</li>
<li>templates目录：在task中执行template模块时，如果使用的是相对路径，则会到此目录中寻找对应的模块文件。</li>
<li>vars目录：定义<strong>专属</strong>于该role的变量，如果要有var文件，则必须为main.yml文件。</li>
<li>defaults目录：<strong>定义角色默认变量，角色默认变量的优先级最低</strong>，会被任意其他层次的同名变量覆盖。如果要有var文件，则必须为main.yml文件。</li>
</ul>
<div class="code-block highlight is-open show-line-numbers  tw-group tw-my-2">
  <div class="
    code-block-title 
    
    tw-flex 
    tw-flex-row 
    tw-justify-between 
    tw-w-full tw-bg-bgColor-secondary
    ">      
    <button 
      class="
        tw-select-none 
        tw-mx-2 
        tw-block
        group-[.is-open]:tw-rotate-90
        tw-transition-[transform] 
        tw-duration-500 
        tw-ease-in-out
        print:!tw-hidden"
      disabled
      aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button>

    <div class="code-block-title-bar tw-w-full">
      <p class="tw-select-none !tw-my-1">text</p>
    </div>
    <div class="tw-flex">
      <button 
        class="
          line-number-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.show-line-numbers]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle line numbers"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>

      <button 
        class="
          wrap-code-button
          tw-select-none 
          tw-mx-2 
          tw-hidden 
          group-[.is-open]:tw-block 
          group-[.is-wrap]:tw-text-fgColor-link 
          print:!tw-hidden" 
        title="Toggle code wrap"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
      
      <button 
        class="
          copy-code-button
          tw-select-none
          tw-mx-2 
          tw-hidden
          group-[.is-open]:tw-block
          hover:tw-text-fgColor-link 
          print:!tw-hidden"
        title="Copy code">
          <span class="copy-icon tw-block"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"/></svg></span>
          <span class="check-icon tw-hidden"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
      </button>
        
      <button 
        class="
          tw-select-none 
          tw-mx-2 
          tw-block 
          group-[.is-open]:tw-hidden 
          print:!tw-hidden" 
        disabled
        aria-hidden="true"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button>
    </div>
  </div>
  <pre style="counter-reset: codeblock;" class="tw-block tw-m-0 tw-p-0"><code 
    id="codeblock-id-3" 
    class="
      chroma 
      !tw-block 
      tw-p-0
      tw-m-0
      tw-transition-[max-height] 
      tw-duration-500 
      tw-ease-in-out 
      group-[.is-closed]:!tw-max-h-0 
      group-[.is-wrap]:tw-text-wrap
      tw-overflow-y-hidden
      tw-overflow-x-auto
      tw-scrollbar-thin
      "><span class="line"><span class="cl">ansible-playbook 11.harbor.yml --list-tasks</span></span></code></pre>
</div>
]]></description>
</item></channel>
</rss>
